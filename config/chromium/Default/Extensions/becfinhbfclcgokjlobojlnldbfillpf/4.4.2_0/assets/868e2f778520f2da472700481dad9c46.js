import{H as _,A as j,c as A,S as I,a as St}from"./e412787c9b354f52d337c0d89a7a2afb.js";import{d as Mt}from"./f6c2ea3b0cc179a4b83702356ba845d1.js";import{d as q,I as l,W as m,au as C,J as i,H as f,G as E,F as x,aT as y,aI as o,aR as M,U,b5 as p,bx as S,aL as Y,aJ as Q,be as lt,aS as et,bz as P,bp as W,bq as z,bn as it,bo as X,aw as V,bm as gt,bC as R,aV as Ht,K as Tt,n as O,br as rt,bA as dt,T as ft}from"./b25f058dd0413b28b0729fd121febeca.js";import{l as mt,f as Ut,a as Pt,b as At,c as It,d as Et,e as jt,g as Vt,h as Rt,i as zt,j as Bt,k as qt,m as Ot,n as Dt,o as Ft,p as Zt,q as Wt,r as Nt,s as Kt,t as Gt,u as Yt,v as Qt,w as Xt,x as Jt,y as te,z as ee,A as ie,B as ae,C as se,D as oe,E as ne,F as le,G as re,H as de,I as ce,J as ue,K as he,L as pe,M as ge,N as fe,O as me,P as _e}from"./8927cb3a31b28f8a8f7a0cb0bcd7a270.js";import{y as we,G as be,j as ve,x as ye,m as xe,p as ke,a as Ce,I as $e}from"./ef6e94b174353d77df2f6d030dd5f4e9.js";const at={ai_extra_key:null,last_value:null,listener_set:!1,this_url:null,build(t,e,a,n="GPT-3.5",s=null,c=null,u={},d=!1,h=null){let g=_.SHA1(e);if(d==!0&&(g=e),typeof e=="string"&&e.indexOf('"')===-1&&e.indexOf("'")===-1&&document.querySelector(`[data-key="${e}"]`)!=null&&(g=e),typeof a>"u")return _.emptyResolve();if(a==null&&s!=null&&s!=!0&&(a=""),a==null)return _.emptyResolve();u==null&&(u={}),Object.keys(u).length>0&&(t.prompt_settings=Object.assign(t.prompt_settings,u)),s!=null&&s!=!0&&(t.prompt_settings&&Object.keys(t.prompt_settings).length>0&&(s.indexOf("${selection}")==-1?s+=" ${selection}":s=s.replace(/\${selection}/g,a),Object.keys(t.prompt_settings).forEach(w=>{let b=t.prompt_settings[w];if(w.indexOf("-_-")!==-1){let k=w.split("-_-"),$=k[1].toString().split("_")[0];(e==$||h==$&&h!==null)&&(w=k[0])}b=b.replace(/_/g," ").toCapitalizeCase();let v=new RegExp("\\${"+w+"}","g");if(b===null||b==""||b=="--"){let k=new RegExp("\\${\\$if "+w+"}(.*)\\${\\$end "+w+"}","g");s=s.replace(k,"")}else{let k=new RegExp("\\${\\$(if|end) "+w+"}","g");s=s.replace(k,"")}s=s.replace(v,b)})),a=s.replace(/\${selection}/g,a).replace(/\${input}/g,a).replace(/\${value}/g,a).replace(/\${lang}/g,_.notUndefined(t.settings,"language_name")??""));var r=new Date;return r.setMinutes(r.getMinutes()+1440),_.Browser().storage.local.get("expires").then(w=>{w=w.expires??{},w["ai_single_"+g]=r.getTime().toString().slice(0,10),_.Browser().storage.local.set({expires:w}).then()}),t["ai_single_"+g]={},t.changeStorage("settings.web_access",!1,!1),j.instance==null&&(j.instance=t),this.ai_extra_key=g,A.debugMode&&console.log(a),j.chat(a,n,"ai_single",g,!0,!0,c,!1,u)}},G={ai_extra_key:null,last_value:null,listener_set:!1,this_url:null,build(t,e,a,n="GPT-3.5",s=null,c=null,u={}){let d=_.SHA1(e),h=s!=null;document.querySelector(`[data-key="${e}"]`)!=null&&(d=e),(a==null||typeof a>"u")&&(a=""),s!=null&&s!=!0&&(Object.keys(t.prompt_settings).length>0?(Object.keys(t.prompt_settings).forEach(r=>{let w=t.prompt_settings[r];if(r.indexOf("-_-")!==-1){let v=r.split("-_-"),k=v[1].toString().split("_")[0];e==k&&(r=v[0])}w=w.replace(/_/g," ").toCapitalizeCase();let b=new RegExp("\\${"+r+"}","g");s=s.replace(b,w)}),a=s):a=s.replace(/\${selection}/g,a).replace(/\${input}/g,a).replace(/\${value}/g,a)),this.ai_extra_key=d;let g={};return Object.keys(t.image_settings).forEach(r=>{t.image_settings[r]!=null&&(g[r]=t.image_settings[r])}),Object.keys(u).length>0&&Object.keys(u).forEach(r=>{u[r]!=null&&(g[r]=u[r]),r=="prompt_mode"&&(h=u[r])}),t.changeStorage("settings.web_access",!1,!1),_.notUndefined(t.image_settings,"action")&&(c=_.notUndefined(t.image_editing,`${t.image_settings.action}.name`),g.action=_.notUndefined(t.image_settings,"action"),t.changeStorage("image_settings.action",null),t.changeStorage("image_settings.image",null)),A.debugMode&&console.log(a,g),j.chat(a,"image","ai_single",d,!1,h,c,!1,g)}};await _.settingsBuild();const Le=await I.build();_.removeLoading();const T={SingleAi:at,ImageAi:G,created:!1,finished:!1,mounted:!1,loading:!1,post:null,error:null,Helpers:_,data:{},ai_ask:null,ai_wait:!1,item:null,constants:A,domain:I.Local.domain??null,storage:Le,ip_info:I.Local.ip_info??{},credit_details:I.Local.credit_detail??{},credit_detail_visual:I.Local.credit_detail_visual??{},email:I.Local.email??null,ai_models:I.Local.ai_models??{},ai_prompts:I.Local.ai_prompts??{},selected_ask:I.Local.selected_ask??null,selected_write:I.Local.selected_write??null,selected_reply:I.Local.selected_reply??null,prompt_settings:I.Local.prompt_settings??{},image_settings:I.Local.image_settings??{},show_sidebar:!1,notify:Mt.useToast({duration:5e3,position:"top"}),tab_menus:{},expires:{},AiApi:j,ai_send:null,ai_chat:[],ai_single:I.Local.ai_single,ai_extra_key:null,ai_chat_text:"",ai_chat_ids:I.Local.ai_chat_ids??{},settings:I.Local.settings??St,image_editing:I.Local.image_editing??{},model_settings:I.Local.model_settings??{},files:I.Local.files??{},user:I.Local.user??{},google_auth_uri:I.Local.google_auth_uri??null,ai_image_url:I.Local.ai_image_url??null,isUploadingImage:!1,ai_web_access_result:I.Local.ai_web_access_result??null,packages:I.Local.packages??null,licences:I.Local.licences??null,faq:I.Local.faq??null,contextTextAreaTarget:null,showContextWrapper:!1,showContextMenu:!1,contextWrapperPosition:{top:0,left:0},contextWrapperSize:{width:0,height:0},aiWriterSelectedTarget:null,aiWriterShowPopup:!1,aiWriterPopupPosition:{top:0,left:0},aiReaderShowPopup:!1,aiReaderPopupPosition:{top:0,left:0},aiReaderSelectedText:"",aiContextResponse:null,ai_contextPrompts:I.Local.ai_contextPrompts??{},ai_pinnedContextPrompts:I.Local.ai_pinnedContextPrompts??{},ai_reply_selected_write:I.Local.ai_reply_selected_write??null,credit_model:null,migration:I.Local.migration??null,migration_status:I.Local.migration_status??!1,histories:I.Local.histories??null,show_history_sidebar:!1,show_review:I.Local.show_review??!0,dropdown_unique:1,is_dev:!1,developer:I.Local.developer??{beta_api:!1,debug_log:!1},showAiReplyPopup:!1,draggable_modal_history:I.Local.draggable_modal_history??{},askedQuestion:{text:"",lang:""},this_page:null},J={search_container:null,search_empty_container:null,ai_extra_key:null,last_value:null,listener_set:!1,this_url:null,build(t,e="GPT-3.5",a=!1,n=null,s=null){let c=T.settings,u=!1;if(!c.search)return;c.search_ask_mode=="always"?a=!0:c.search_ask_mode=="quote"?typeof T.credit_details[e]<"u"&&(T.credit_details[e].balance>20||T.credit_details[e].balance==-999)&&(a=!0):c.search_ask_mode=="ask"?u=!0:c.search_ask_mode=="manuel";let d=window.location.hostname.replace("www.",""),h=window.location.pathname,g=Object.keys(t.constants.search_pages),r=Object.keys(t.constants.search_pages),w=[];if(h.substring(h.length-1,h.length)=="/"&&(h=h.substring(0,h.length-1)),r.forEach((b,v)=>{let k=b.split("/");r[v]=k[0].replace("www.",""),(d.indexOf(r[v])!==-1||r[v].indexOf(d)!==-1)&&(r[v]=d),w[v]=b.replace(k[0],""),(h.indexOf(w[v])!==-1||w[v].indexOf(h)!==-1)&&(w[v]=h)}),r.indexOf(d)!==-1){let b=w[r.indexOf(d)];if((b==h||b.length==0)&&typeof g[r.indexOf(d)]<"u"){let v=g[r.indexOf(d)];if(typeof t.constants.search_pages[v]<"u"){let k=t.constants.search_pages[v],$=document.createElement("div");if(document.querySelector(k.selector)!=null){if(n=document.querySelector(k.selector).value,document.querySelector(k.selector)&&!this.listener_set&&(this.listener_set=!0,window.navigation.addEventListener("navigate",()=>(t.ai_extra_key!=null&&typeof j.aborting[t.ai_extra_key]<"u"&&j.aborting[t.ai_extra_key]!=null&&j.aborting[t.ai_extra_key].abort(),this.build(t)))),!n||n==null)return;if(n.length>0&&(k.empty_selector.length>0&&document.querySelector(k.container)==null&&document.querySelector(k.empty_selector)!=null&&($.innerHTML=k.empty_element,document.querySelector(k.empty_selector_position).insertAdjacentHTML("afterend",k.empty_element)),document.querySelector(k.container)!=null)){this.search_container=k.container,this.search_empty_container=k.empty_selector;for(let D=0;D<100;D++)setTimeout(()=>{this.change(k.container)},D*15);u&&n.trim().substring(n.trim().length,n.trim().length-1)=="?"&&(a=!0),t.ai_extra_key!=null&&typeof j.aborting[t.ai_extra_key]<"u"&&j.aborting[t.ai_extra_key]!=null&&j.aborting[t.ai_extra_key].abort(),this.this_url=window.location.href,this.ai_extra_key=_.SHA1(n),t.ai_extra_key=this.ai_extra_key;let B={};B.event=s,B.search_mode=!0,v.indexOf("google")!=-1?a==!0&&_.GoogleSearchCallback(document.querySelector("body").innerHTML,{},!1).then(D=>{B.search=D,j.instance=t,j.chat(n,e,"ai_single",this.ai_extra_key,a,!1,null,!1,B)}):a==!0&&(j.instance=t,j.chat(n,e,"ai_single",this.ai_extra_key,a,!1,null,!1,B)),A.debugMode&&console.log(n,this.search_container,this.custom_content_index)}}}}}},change(t=null){setTimeout(()=>{if(t!=null&&(this.search_container=t),this.search_container!=null&&document.querySelector(this.search_container)){if(Array.prototype.slice.call(document.querySelector(this.search_container).children).indexOf(document.querySelector("#aitopia-search"))>0||document.querySelector("#aitopia-search")==null){document.querySelector("#aitopia-search")!=null&&document.querySelector("#aitopia-search").remove();let n=document.createElement("div");n.id="aitopia-search",document.querySelector(this.search_container).prepend(n)}document.querySelector("#aitopia-search").setAttribute("class",document.querySelector("#aitopia").getAttribute("class")),!document.querySelector("#aitopia-search #aitopia-search-result")&&document.querySelector("#aitopia #aitopia-search-container")!=null?document.querySelector("#aitopia-search").innerHTML=document.querySelector("#aitopia #aitopia-search-container").outerHTML:document.querySelector("#aitopia #aitopia-search-container")&&document.querySelector("#aitopia #aitopia-search-container #aitopia-search-result")!=null&&(document.querySelector("#aitopia-search #aitopia-search-result").outerHTML=document.querySelector("#aitopia #aitopia-search-container #aitopia-search-result").outerHTML)}},10)}},Z={selection_text:"",selection:{},mouse_up:!1,build(t){typeof document<"u"&&document!=null&&window!=null&&(document.addEventListener("selectstart",e=>{Z.mouse_up=!1,document.addEventListener("mouseup",a=>{Z.mouse_up=!0,document.dispatchEvent(new Event("selectionchange"))})}),document.addEventListener("selectionchange",e=>{if(Z.mouse_up)return this.getSelectionText(e,t)}))},getSelectionText(t,e,a=!1){var n="",s=document.activeElement,c=s?s.tagName.toLowerCase():null;return c=="textarea"||c=="input"&&/^(?:text|search|password|image|email|tel|url)$/i.test(s.type)&&typeof s.selectionStart=="number"?n=s.value.slice(s.selectionStart,s.selectionEnd):window.getSelection&&(n=window.getSelection().toString()),[" ",`
`,"\r","	"].indexOf(n)!==-1&&(n=""),Z.selection=window.getSelection(),Z.selection_text=n,n==""&&document.querySelector(".paste_selection")&&document.querySelectorAll(".paste_selection").forEach(u=>{u.remove()}),document.querySelector(".ait-selection-container")&&(document.querySelector(".ait-selection-container").value.length==0&&n.length>0?(document.querySelector(".ait-selection-container").value=n,document.querySelector(".ait-selection-container").dispatchEvent(new Event("change"))):n.trim().length>0&&n!=document.querySelector(".ait-selection-container").value&&document.querySelector(".paste_selection")==null&&document.querySelector(".ait-selection-container").insertAdjacentElement("afterend",this._pasteSelector(e))),Z.selection_text},_pasteSelector(t){let e=document.createElement("button");return e.classList.add("paste_selection"),e.innerHTML='<svg title="'+t.__("Paste selection")+'" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="ltr:ait-mr-1 rtl:ait-ml-1"><g clip-path="url(#clip0_2467_160)"><path d="M3.79166 3.62556V2.27832C3.79166 1.82527 4.15892 1.45801 4.61197 1.45801H11.7213C12.1744 1.45801 12.5417 1.82527 12.5417 2.27832V9.3877C12.5417 9.84074 12.1744 10.208 11.7213 10.208H10.3589" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9.38803 3.79199H2.27866C1.82561 3.79199 1.45834 4.15926 1.45834 4.6123V11.7217C1.45834 12.1747 1.82561 12.542 2.27866 12.542H9.38803C9.84108 12.542 10.2083 12.1747 10.2083 11.7217V4.6123C10.2083 4.15926 9.84108 3.79199 9.38803 3.79199Z" stroke="currentColor" stroke-linejoin="round"></path><line x1="3.5" y1="6.5" x2="8.5" y2="6.5" stroke="currentColor" stroke-linecap="round"></line><line x1="3.5" y1="9.5" x2="8.5" y2="9.5" stroke="currentColor" stroke-linecap="round"></line></g><defs><clipPath id="clip0_2467_160"><rect width="14" height="14" fill="currentColor"></rect></clipPath></defs></svg>'+t.__("Paste selection"),e.onclick=()=>{document.querySelector(".ait-selection-container")&&(document.querySelector(".ait-selection-container").value="",Z.getSelectionText(event,t),document.querySelector(".ait-selection-container").dispatchEvent(new Event("change"))),document.querySelectorAll(".paste_selection").forEach(a=>{a.remove()})},e},_clearSelector(t){let e=document.createElement("button");return e.classList.add("clear_selection"),e.innerHTML='<svg title="'+t.__("clear")+'" fill-rule="evenodd" viewBox="64 64 896 896" focusable="false" data-icon="close-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"></path></svg>',e.onclick=()=>{document.querySelector(".ait-selection-container")&&(document.querySelector(".ait-selection-container").value="",document.querySelector(".ait-selection-container").dispatchEvent(new Event("change"))),document.querySelectorAll(".clear_selection").forEach(a=>{a.remove()})},e}},ct={last_selection:null,click:!1,build(t,e="GPT-3.5",a=!1,n=null){this.setupEventListeners(t)},showContextMenuWithShortcuts(t){t.showAiContextPopup()},setupEventListeners(t){const e=this.debounce(()=>{this.findTextAreasAndSetupOverlays(t),this.attachSelectionListeners(t)},250);new MutationObserver(e).observe(document.body,{childList:!0,subtree:!0}),e()},attachSelectionListeners(t){T.settings.context_writing_input&&(document.querySelectorAll("input, textarea").forEach(e=>{const a=document.querySelector(".aitopia-context-container");if(a&&a.contains(e))return;const n=e;n.dataset.hasListeners||(n.addEventListener("select",s=>this.handleWriterTextSelection(n,t)),n.addEventListener("input",s=>this.updateWriterPopupPositionIfNeeded(n,t)),n.addEventListener("click",s=>{window.getSelection().toString()&&this.handleWriterTextSelection(n,t)}),n.dataset.hasListeners="true")}),window.addEventListener("resize",()=>{this.updateContextWrapperPositions(t)})),T.settings.context_reading&&(this.handleReaderTextSelection(t),document.addEventListener("click",e=>this.handleDocumentClick(e,t)))},updateContextWrapperPositions(t){document.querySelectorAll("textarea").forEach(e=>{const{top:a,left:n,width:s,height:c}=e.getBoundingClientRect();t.showContextWrapperAtPosition(e,a+window.scrollY,n,s,c)})},findTextAreasAndSetupOverlays(t){T.settings.context_writing_input&&document.querySelectorAll("textarea").forEach(e=>{const a=A.contextBlacklist;if(a){for(const[n,s]of Object.entries(a))if(window.location.href.includes(n)){for(const c of s.selectors)if(e.matches(c))return}}e.addEventListener("focus",()=>{const{top:n,left:s,width:c,height:u}=e.getBoundingClientRect();t.showContextWrapperAtPosition(e,n+window.scrollY,s,c,u)})})},handleDocumentClick(t,e){const a=document.querySelector(".aitopia-context-container"),n=document.querySelector(".aitopia-context-popup-container"),s=document.querySelector(".aitopia-context-response-popup-container"),c=document.querySelector(".aitopia-context-menu"),u=t.target,d=a&&a.contains(u),h=Array.from(document.querySelectorAll("textarea")).some(b=>b.contains(u)),g=n&&n.contains(u),r=s&&s.contains(u),w=c&&c.contains(u);!d&&!h&&!g&&!r&&!w&&(e.hideContextWrapper(),e.hideAiContextPopup())},handleReaderTextSelection(t){document.addEventListener("mouseup",e=>this.checkSelectionAndShowPopup(t,e)),document.addEventListener("keyup",e=>this.checkSelectionAndShowPopup(t,e)),document.addEventListener("selectionchange",e=>this.checkSelectionAndShowPopup(t,e)),document.addEventListener("select",e=>this.checkSelectionAndShowPopup(t,e)),document.addEventListener("keyup",e=>{e.key==="a"&&(e.ctrlKey||e.metaKey)?requestAnimationFrame(()=>this.checkSelectionAndShowPopup(t,e)):this.checkSelectionAndShowPopup(t,e)})},checkSelectionAndShowPopup(t,e=null){let a=window.getSelection();if(a.anchorNode===null){if(this.last_selection==null){t.hideAiWriterPopup(),t.hideAiReaderPopup();return}if(a=this.last_selection,a.anchorNode===null){t.hideAiWriterPopup(),t.hideAiReaderPopup();return}}else this.last_selection=a;if(e&&e.type.indexOf("selectionchange")!==-1&&e.isTrusted==!0){t.hideAiWriterPopup(),t.hideAiReaderPopup();return}const n=document.querySelector(".aitopia-context-popup-container"),s=document.querySelector(".aitopia-context-response-popup-container"),c=document.querySelector(".aitopia-context-menu");if(c&&c.contains(a.anchorNode)){t.hideAiWriterPopup(),t.hideAiReaderPopup();return}if(n&&n.contains(a.anchorNode)){t.hideAiWriterPopup(),t.hideAiReaderPopup();return}if(s&&s.contains(a.anchorNode)){t.hideAiWriterPopup(),t.hideAiReaderPopup();return}if(!a.rangeCount){t.hideAiWriterPopup(),t.hideAiReaderPopup();return}const u=a.toString().trim();if(!u){t.hideAiWriterPopup(),t.hideAiReaderPopup();return}const d=a.anchorNode,h=document.getElementById("aitopia-container");if(h&&d&&h.contains(d)){t.hideAiWriterPopup(),t.hideAiReaderPopup();return}if(d&&d.nodeType===Node.TEXT_NODE){let g=d.parentNode;for(;g&&g!==document;){if(g.nodeName==="INPUT"||g.nodeName==="textarea"||g.querySelector('[role="listitem"] .editable')!==null){t.hideAiReaderPopup();return}g=g.parentNode}const r=a.getRangeAt(0).getBoundingClientRect(),w=r.top+window.scrollY,b=r.left+window.scrollX;t.showAiReaderPopup(w,b,u)}else t.hideAiReaderPopup()},handleWriterTextSelection(t,e){if(window.getSelection().toString().trim()){if(document.getElementById("aitopia-container")&&t.closest("#aitopia-container"))return;const{top:n,left:s}=this.calculatePopupPosition(t);e.showAiWriterPopup(t,n,s)}else e.hideAiWriterPopup(),e.hideAiContextPopup()},updateWriterPopupPositionIfNeeded(t,e){if(this.aiWriterShowPopup&&this.aiWriterSelectedTarget===t){const{top:a,left:n}=this.calculatePopupPosition(t);e.updateAiWriterPopupPosition(a,n)}},calculatePopupPosition(t){const e=t.getBoundingClientRect(),a=window.scrollY||document.documentElement.scrollTop,n=window.scrollX||document.documentElement.scrollLeft;return{top:e.top+a,left:e.left+n}},debounce(t,e){let a;return function(...s){const c=()=>{clearTimeout(a),t(...s)};clearTimeout(a),a=setTimeout(c,e)}}},tt={logo:'<svg xmlns="http://www.w3.org/2000/svg" baseProfile="tiny" viewBox="0 0 125 121.7" overflow="visible"><circle fill="#01a77d" cx="63.4" cy="61.2" r="57.8"/><g fill="#fff"><path d="M46.9 60.5h-.4c-1.9-.2-3.3-1.9-3.1-3.8.6-6.3 4.5-38 17.3-41.2 8.2-2 14.4 7.5 16.5 10.6 1.1 1.6.6 3.8-1 4.9s-3.8.6-4.9-1c-3.5-5.3-6.9-8.2-9-7.7-4.2 1-10 14.8-12 35.1-.2 1.7-1.7 3.1-3.4 3.1zm51.9-4.9c-.5 0-1-.1-1.4-.3-1.8-.8-2.6-2.9-1.8-4.6 2.6-5.8 3.2-10.2 1.7-11.7-3.1-3-17.8-.6-36.1 8.6-1.7.9-3.8.2-4.7-1.6-.9-1.7-.2-3.8 1.6-4.7.3-.2 8.3-4.1 17.4-7.1 13.4-4.5 22.2-4.5 26.7-.2 6.1 5.8 1.4 16.2-.1 19.6-.7 1.3-2 2-3.3 2zM88.2 89.5c-1.8 0-3.3-1.3-3.5-3.1-.2-1.9 1.1-3.7 3.1-3.9 6.3-.7 10.4-2.5 10.9-4.6 1-4.2-8.7-15.6-25.9-26.6-1.6-1-2.1-3.2-1.1-4.8s3.2-2.1 4.8-1.1c.3.2 7.8 5 15.1 11.3 10.7 9.3 15.3 16.7 13.9 22.8-1.9 8.2-13.2 9.5-16.9 10h-.4zm-25.9 18.1c-7.2 0-12.4-8.3-14.2-11.2-1-1.6-.5-3.8 1.1-4.8s3.8-.5 4.8 1.1c3.4 5.4 6.7 8.3 8.8 7.9 4.2-.9 10.3-14.5 12.9-34.8.2-1.9 2-3.3 3.9-3 1.9.2 3.3 2 3 3.9-.8 6.3-5.4 37.9-18.4 40.7-.5.1-1.2.2-1.9.2zm-25-18.1c-5.5 0-9.4-1.3-11.8-4-5.6-6.3-.1-16.3 1.6-19.5.9-1.7 3.1-2.3 4.7-1.4 1.7.9 2.3 3.1 1.4 4.7-3.1 5.6-4 9.9-2.6 11.5 2.9 3.2 17.7 1.9 36.7-5.7a3.57 3.57 0 0 1 4.6 1.9 3.57 3.57 0 0 1-1.9 4.6c-.3.1-8.6 3.5-17.9 5.8-5.9 1.4-10.8 2.1-14.8 2.1zm16.5-12.6c-.6 0-1.2-.2-1.8-.5-.3-.2-7.9-4.8-15.4-10.8-11-8.9-15.8-16.2-14.6-22.3 1.6-8.2 12.9-9.9 16.6-10.5 1.9-.3 3.7 1 4 2.9s-1 3.7-2.9 4c-6.3.9-10.3 2.8-10.7 4.9-1 4.3 9 15.3 26.6 25.8 1.7 1 2.2 3.1 1.2 4.8-.7 1.1-1.8 1.7-3 1.7z"/><circle cx="63.8" cy="60.5" r="8.4"/></g></svg>',logo_invert:'<svg version="1.1"  baseProfile="tiny" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 125 121.7" overflow="visible" xml:space="preserve"> <g> <path fill="#01A77D" d="M46.9,60.5c-0.1,0-0.2,0-0.4,0c-1.9-0.2-3.3-1.9-3.1-3.8c0.6-6.3,4.5-38,17.3-41.2 c8.2-2,14.4,7.5,16.5,10.6c1.1,1.6,0.6,3.8-1,4.9c-1.6,1.1-3.8,0.6-4.9-1c-3.5-5.3-6.9-8.2-9-7.7c-4.2,1-10,14.8-12,35.1 C50.1,59.1,48.6,60.5,46.9,60.5z"/> <path fill="#01A77D" d="M98.8,55.6c-0.5,0-1-0.1-1.4-0.3c-1.8-0.8-2.6-2.9-1.8-4.6c2.6-5.8,3.2-10.2,1.7-11.7 c-3.1-3-17.8-0.6-36.1,8.6c-1.7,0.9-3.8,0.2-4.7-1.6c-0.9-1.7-0.2-3.8,1.6-4.7c0.3-0.2,8.3-4.1,17.4-7.1 c13.4-4.5,22.2-4.5,26.7-0.2c6.1,5.8,1.4,16.2-0.1,19.6C101.4,54.9,100.1,55.6,98.8,55.6z"/> <path fill="#01A77D" d="M88.2,89.5c-1.8,0-3.3-1.3-3.5-3.1c-0.2-1.9,1.1-3.7,3.1-3.9c6.3-0.7,10.4-2.5,10.9-4.6 c1-4.2-8.7-15.6-25.9-26.6c-1.6-1-2.1-3.2-1.1-4.8c1-1.6,3.2-2.1,4.8-1.1c0.3,0.2,7.8,5,15.1,11.3c10.7,9.3,15.3,16.7,13.9,22.8 c-1.9,8.2-13.2,9.5-16.9,10C88.5,89.5,88.3,89.5,88.2,89.5z"/> <path fill="#01A77D" d="M62.3,107.6c-7.2,0-12.4-8.3-14.2-11.2c-1-1.6-0.5-3.8,1.1-4.8c1.6-1,3.8-0.5,4.8,1.1 c3.4,5.4,6.7,8.3,8.8,7.9c4.2-0.9,10.3-14.5,12.9-34.8c0.2-1.9,2-3.3,3.9-3c1.9,0.2,3.3,2,3,3.9c-0.8,6.3-5.4,37.9-18.4,40.7 C63.7,107.5,63,107.6,62.3,107.6z"/> <path fill="#01A77D" d="M37.3,89.5c-5.5,0-9.4-1.3-11.8-4c-5.6-6.3-0.1-16.3,1.6-19.5c0.9-1.7,3.1-2.3,4.7-1.4 c1.7,0.9,2.3,3.1,1.4,4.7c-3.1,5.6-4,9.9-2.6,11.5c2.9,3.2,17.7,1.9,36.7-5.7c1.8-0.7,3.8,0.1,4.6,1.9c0.7,1.8-0.1,3.8-1.9,4.6 c-0.3,0.1-8.6,3.5-17.9,5.8C46.2,88.8,41.3,89.5,37.3,89.5z"/> <path fill="#01A77D" d="M53.8,76.9c-0.6,0-1.2-0.2-1.8-0.5c-0.3-0.2-7.9-4.8-15.4-10.8c-11-8.9-15.8-16.2-14.6-22.3 c1.6-8.2,12.9-9.9,16.6-10.5c1.9-0.3,3.7,1,4,2.9c0.3,1.9-1,3.7-2.9,4c-6.3,0.9-10.3,2.8-10.7,4.9C28,48.9,38,59.9,55.6,70.4 c1.7,1,2.2,3.1,1.2,4.8C56.1,76.3,55,76.9,53.8,76.9z"/> <circle fill="#01A77D" cx="63.8" cy="60.5" r="8.4"/> </g> </svg>',logo_invert_bg:'<svg version="1.1" baseProfile="tiny" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 125 121.7" overflow="visible" xml:space="preserve"> <g> <circle fill="#FFFFFF" cx="63.4" cy="61.2" r="57.8"/> <path fill="#01A77D" d="M46.9,60.5c-0.1,0-0.2,0-0.4,0c-1.9-0.2-3.3-1.9-3.1-3.8c0.6-6.3,4.5-38,17.3-41.2 c8.2-2,14.4,7.5,16.5,10.6c1.1,1.6,0.6,3.8-1,4.9c-1.6,1.1-3.8,0.6-4.9-1c-3.5-5.3-6.9-8.2-9-7.7c-4.2,1-10,14.8-12,35.1 C50.1,59.1,48.6,60.5,46.9,60.5z"/> <path fill="#01A77D" d="M98.8,55.6c-0.5,0-1-0.1-1.4-0.3c-1.8-0.8-2.6-2.9-1.8-4.6c2.6-5.8,3.2-10.2,1.7-11.7 c-3.1-3-17.8-0.6-36.1,8.6c-1.7,0.9-3.8,0.2-4.7-1.6c-0.9-1.7-0.2-3.8,1.6-4.7c0.3-0.2,8.3-4.1,17.4-7.1 c13.4-4.5,22.2-4.5,26.7-0.2c6.1,5.8,1.4,16.2-0.1,19.6C101.4,54.9,100.1,55.6,98.8,55.6z"/> <path fill="#01A77D" d="M88.2,89.5c-1.8,0-3.3-1.3-3.5-3.1c-0.2-1.9,1.1-3.7,3.1-3.9c6.3-0.7,10.4-2.5,10.9-4.6 c1-4.2-8.7-15.6-25.9-26.6c-1.6-1-2.1-3.2-1.1-4.8c1-1.6,3.2-2.1,4.8-1.1c0.3,0.2,7.8,5,15.1,11.3c10.7,9.3,15.3,16.7,13.9,22.8 c-1.9,8.2-13.2,9.5-16.9,10C88.5,89.5,88.3,89.5,88.2,89.5z"/> <path fill="#01A77D" d="M62.3,107.6c-7.2,0-12.4-8.3-14.2-11.2c-1-1.6-0.5-3.8,1.1-4.8c1.6-1,3.8-0.5,4.8,1.1 c3.4,5.4,6.7,8.3,8.8,7.9c4.2-0.9,10.3-14.5,12.9-34.8c0.2-1.9,2-3.3,3.9-3c1.9,0.2,3.3,2,3,3.9c-0.8,6.3-5.4,37.9-18.4,40.7 C63.7,107.5,63,107.6,62.3,107.6z"/> <path fill="#01A77D" d="M37.3,89.5c-5.5,0-9.4-1.3-11.8-4c-5.6-6.3-0.1-16.3,1.6-19.5c0.9-1.7,3.1-2.3,4.7-1.4 c1.7,0.9,2.3,3.1,1.4,4.7c-3.1,5.6-4,9.9-2.6,11.5c2.9,3.2,17.7,1.9,36.7-5.7c1.8-0.7,3.8,0.1,4.6,1.9c0.7,1.8-0.1,3.8-1.9,4.6 c-0.3,0.1-8.6,3.5-17.9,5.8C46.2,88.8,41.3,89.5,37.3,89.5z"/> <path fill="#01A77D" d="M53.8,76.9c-0.6,0-1.2-0.2-1.8-0.5c-0.3-0.2-7.9-4.8-15.4-10.8c-11-8.9-15.8-16.2-14.6-22.3 c1.6-8.2,12.9-9.9,16.6-10.5c1.9-0.3,3.7,1,4,2.9c0.3,1.9-1,3.7-2.9,4c-6.3,0.9-10.3,2.8-10.7,4.9C28,48.9,38,59.9,55.6,70.4 c1.7,1,2.2,3.1,1.2,4.8C56.1,76.3,55,76.9,53.8,76.9z"/> <circle fill="#01A77D" cx="63.8" cy="60.5" r="8.4"/> </g> </svg>',logo_square:'<svg version="1.1" baseProfile="tiny" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 125 121.7" overflow="visible" xml:space="preserve" fill="#01A77D"> <g> <path fill="#01A77D" d="M46.9,60.5c-0.1,0-0.2,0-0.4,0c-1.9-0.2-3.3-1.9-3.1-3.8c0.6-6.3,4.5-38,17.3-41.2 c8.2-2,14.4,7.5,16.5,10.6c1.1,1.6,0.6,3.8-1,4.9c-1.6,1.1-3.8,0.6-4.9-1c-3.5-5.3-6.9-8.2-9-7.7c-4.2,1-10,14.8-12,35.1 C50.1,59.1,48.6,60.5,46.9,60.5z"/> <path fill="#01A77D" d="M98.8,55.6c-0.5,0-1-0.1-1.4-0.3c-1.8-0.8-2.6-2.9-1.8-4.6c2.6-5.8,3.2-10.2,1.7-11.7 c-3.1-3-17.8-0.6-36.1,8.6c-1.7,0.9-3.8,0.2-4.7-1.6c-0.9-1.7-0.2-3.8,1.6-4.7c0.3-0.2,8.3-4.1,17.4-7.1 c13.4-4.5,22.2-4.5,26.7-0.2c6.1,5.8,1.4,16.2-0.1,19.6C101.4,54.9,100.1,55.6,98.8,55.6z"/> <path fill="#01A77D" d="M88.2,89.5c-1.8,0-3.3-1.3-3.5-3.1c-0.2-1.9,1.1-3.7,3.1-3.9c6.3-0.7,10.4-2.5,10.9-4.6 c1-4.2-8.7-15.6-25.9-26.6c-1.6-1-2.1-3.2-1.1-4.8c1-1.6,3.2-2.1,4.8-1.1c0.3,0.2,7.8,5,15.1,11.3c10.7,9.3,15.3,16.7,13.9,22.8 c-1.9,8.2-13.2,9.5-16.9,10C88.5,89.5,88.3,89.5,88.2,89.5z"/> <path fill="#01A77D" d="M62.3,107.6c-7.2,0-12.4-8.3-14.2-11.2c-1-1.6-0.5-3.8,1.1-4.8c1.6-1,3.8-0.5,4.8,1.1 c3.4,5.4,6.7,8.3,8.8,7.9c4.2-0.9,10.3-14.5,12.9-34.8c0.2-1.9,2-3.3,3.9-3c1.9,0.2,3.3,2,3,3.9c-0.8,6.3-5.4,37.9-18.4,40.7 C63.7,107.5,63,107.6,62.3,107.6z"/> <path fill="#01A77D" d="M37.3,89.5c-5.5,0-9.4-1.3-11.8-4c-5.6-6.3-0.1-16.3,1.6-19.5c0.9-1.7,3.1-2.3,4.7-1.4 c1.7,0.9,2.3,3.1,1.4,4.7c-3.1,5.6-4,9.9-2.6,11.5c2.9,3.2,17.7,1.9,36.7-5.7c1.8-0.7,3.8,0.1,4.6,1.9c0.7,1.8-0.1,3.8-1.9,4.6 c-0.3,0.1-8.6,3.5-17.9,5.8C46.2,88.8,41.3,89.5,37.3,89.5z"/> <path fill="#01A77D" d="M53.8,76.9c-0.6,0-1.2-0.2-1.8-0.5c-0.3-0.2-7.9-4.8-15.4-10.8c-11-8.9-15.8-16.2-14.6-22.3 c1.6-8.2,12.9-9.9,16.6-10.5c1.9-0.3,3.7,1,4,2.9c0.3,1.9-1,3.7-2.9,4c-6.3,0.9-10.3,2.8-10.7,4.9C28,48.9,38,59.9,55.6,70.4 c1.7,1,2.2,3.1,1.2,4.8C56.1,76.3,55,76.9,53.8,76.9z"/> <circle fill="#01A77D" cx="63.8" cy="60.5" r="8.4"/> </g> </svg>',clipboard:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true"> <path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184"></path> </svg>',chatgpt_logo:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 2406 2406"> <path d="M1 578.4C1 259.5 259.5 1 578.4 1h1249.1c319 0 577.5 258.5 577.5 577.4V2406H578.4C259.5 2406 1 2147.5 1 1828.6V578.4z" fill="#74aa9c"/> <path id="a" d="M1107.3 299.1c-197.999 0-373.9 127.3-435.2 315.3L650 743.5v427.9c0 21.4 11 40.4 29.4 51.4l344.5 198.515V833.3h.1v-27.9L1372.7 604c33.715-19.52 70.44-32.857 108.47-39.828L1447.6 450.3C1361 353.5 1237.1 298.5 1107.3 299.1zm0 117.5-.6.6c79.699 0 156.3 27.5 217.6 78.4-2.5 1.2-7.4 4.3-11 6.1L952.8 709.3c-18.4 10.4-29.4 30-29.4 51.4V1248l-155.1-89.4V755.8c-.1-187.099 151.601-338.9 339-339.2z" fill="#fff"/> <use xlink:href="#a" transform="rotate(60 1203 1203)"/> <use xlink:href="#a" transform="rotate(120 1203 1203)"/> <use xlink:href="#a" transform="rotate(180 1203 1203)"/> <use xlink:href="#a" transform="rotate(240 1203 1203)"/> <use xlink:href="#a" transform="rotate(300 1203 1203)"/> </svg>',comment_ico:'<svg fill="none" xmlns="http://www.w3.org/2000/svg"> <g> <path d="M9.80019 7.05266V7.00002M7.00019 7.05266V7.00002M4.20019 7.05266V7.00002M1.40019 7.00002C1.40019 7.80504 1.57005 8.57038 1.87589 9.26216L1.39913 12.5995L4.25917 11.8845C5.06939 12.3401 6.00444 12.6 7.00019 12.6C10.093 12.6 12.6002 10.0928 12.6002 7.00002C12.6002 3.90723 10.093 1.40002 7.00019 1.40002C3.9074 1.40002 1.40019 3.90723 1.40019 7.00002Z" stroke="#ffffff" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"></path> </g> </svg>',pdf_icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 309.267 309.267" xml:space="preserve"><path style="fill:#e2574c" d="M38.658 0h164.23l87.049 86.711v203.227c0 10.679-8.659 19.329-19.329 19.329H38.658c-10.67 0-19.329-8.65-19.329-19.329V19.329C19.329 8.65 27.989 0 38.658 0z"/><path style="fill:#b53629" d="M289.658 86.981h-67.372c-10.67 0-19.329-8.659-19.329-19.329V.193l86.701 86.788z"/><path style="fill:#fff" d="M217.434 146.544c3.238 0 4.823-2.822 4.823-5.557 0-2.832-1.653-5.567-4.823-5.567h-18.44c-3.605 0-5.615 2.986-5.615 6.282v45.317c0 4.04 2.3 6.282 5.412 6.282 3.093 0 5.403-2.242 5.403-6.282v-12.438h11.153c3.46 0 5.19-2.832 5.19-5.644 0-2.754-1.73-5.49-5.19-5.49h-11.153v-16.903h13.24zm-62.327-11.124h-13.492c-3.663 0-6.263 2.513-6.263 6.243v45.395c0 4.629 3.74 6.079 6.417 6.079h14.159c16.758 0 27.824-11.027 27.824-28.047-.009-17.995-10.427-29.67-28.645-29.67zm.648 46.526h-8.225v-35.334h7.413c11.221 0 16.101 7.529 16.101 17.918 0 9.723-4.794 17.416-15.289 17.416zM106.33 135.42H92.964c-3.779 0-5.886 2.493-5.886 6.282v45.317c0 4.04 2.416 6.282 5.663 6.282s5.663-2.242 5.663-6.282v-13.231h8.379c10.341 0 18.875-7.326 18.875-19.107.001-11.529-8.233-19.261-19.328-19.261zm-.222 27.738h-7.703v-17.097h7.703c4.755 0 7.78 3.711 7.78 8.553-.01 4.833-3.025 8.544-7.78 8.544z"/></svg>',chat_icon:'<svg viewBox="0 0 31 32" version="1.1" xmlns="http://www.w3.org/2000/svg"> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"> <g sketch:type="MSLayerGroup" transform="translate(-259.000000, -257.000000)" fill="currentColor"> <path d="M265.5,267 C266.329,267 267,267.672 267,268.5 C267,269.329 266.329,270 265.5,270 C264.671,270 264,269.329 264,268.5 C264,267.672 264.671,267 265.5,267 L265.5,267 Z M271.5,267 C272.329,267 273,267.672 273,268.5 C273,269.329 272.329,270 271.5,270 C270.671,270 270,269.329 270,268.5 C270,267.672 270.671,267 271.5,267 L271.5,267 Z M277.5,267 C278.329,267 279,267.672 279,268.5 C279,269.329 278.329,270 277.5,270 C276.671,270 276,269.329 276,268.5 C276,267.672 276.671,267 277.5,267 L277.5,267 Z M268.637,279.736 C269.414,279.863 271.181,280 272,280 C279.18,280 284,274.657 284,268.375 C284,262.093 277.977,257 272,257 C264.811,257 259,262.093 259,268.375 C259,272.015 260.387,275.104 263,277.329 L263,283 L268.637,279.736 L268.637,279.736 Z M285.949,266.139 L286,267 C286.008,267.817 286,267.742 286,268.5 C286,276.475 279.716,282 271,282 L268,282 C270.38,284.328 273.149,285.75 277,285.75 C277.819,285.75 278.618,285.676 279.395,285.549 L285,289 L285,283.329 C288.04,281.246 290,278.015 290,274.375 C290,271.131 288.439,268.211 285.949,266.139 L285.949,266.139 Z" id="comments" sketch:type="MSShapeGroup"></path> </g> </g> </svg>',chat_icon_1:'<svg fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.8671 5.54947C15.6183 5.8806 15.685 6.35077 16.0161 6.59961C17.5554 7.75638 18.5487 9.59528 18.5487 11.6664C18.5487 12.5783 18.3565 13.4432 18.0111 14.2246C17.9543 14.353 17.9347 14.4948 17.9546 14.6338L18.3998 17.751L15.8647 17.1171C15.6788 17.0706 15.4821 17.0971 15.3151 17.191C14.3997 17.7059 13.3433 17.9998 12.216 17.9998C11.7815 17.9998 11.3579 17.9561 10.9492 17.8732C10.5432 17.7908 10.1474 18.0531 10.065 18.4591C9.98261 18.865 10.2449 19.2609 10.6509 19.3432C11.1572 19.446 11.6807 19.4998 12.216 19.4998C13.499 19.4998 14.7117 19.1908 15.7819 18.6426L19.1181 19.4767C19.3604 19.5373 19.6169 19.4733 19.8023 19.3061C19.9878 19.1388 20.0778 18.8903 20.0425 18.6431L19.4691 14.6287C19.8429 13.714 20.0487 12.7134 20.0487 11.6664C20.0487 9.10373 18.8174 6.8284 16.9173 5.40047C16.5861 5.15163 16.116 5.21834 15.8671 5.54947Z" fill="currentColor" fill-opacity="0.4"></path><path d="M0.691666 12.6571C0.247969 11.6534 0.00153923 10.543 0.00153923 9.375C0.00153923 4.88769 3.63888 1.25 8.12577 1.25C12.6127 1.25 16.25 4.88769 16.25 9.375C16.25 13.8623 12.6127 17.5 8.12577 17.5C6.68118 17.5 5.32465 17.1229 4.14922 16.4618L0 17.4992L0.691666 12.6571Z" ></path><path fill-rule="evenodd" clip-rule="evenodd" d="M2.17659 12.8692C2.21631 12.5912 2.17716 12.3076 2.06359 12.0507C1.70273 11.2343 1.50154 10.3301 1.50154 9.375C1.50154 5.71598 4.46744 2.75 8.12577 2.75C11.7841 2.75 14.75 5.71598 14.75 9.375C14.75 13.034 11.7841 16 8.12577 16C6.94538 16 5.84131 15.6925 4.88454 15.1544C4.55049 14.9665 4.1572 14.9137 3.78538 15.0066L1.80039 15.5029L2.17659 12.8692ZM0 17.4992L4.14922 16.4618C5.32465 17.1229 6.68118 17.5 8.12577 17.5C12.6127 17.5 16.25 13.8623 16.25 9.375C16.25 4.88769 12.6127 1.25 8.12577 1.25C3.63888 1.25 0.00153923 4.88769 0.00153923 9.375C0.00153923 10.543 0.247969 11.6534 0.691666 12.6571L0 17.4992Z" fill="currentColor" fill-opacity="0.4"></path><circle cx="3.75" cy="8.75" r="1.25" fill="currentColor" fill-opacity="0.4"></circle><circle cx="8.125" cy="8.75" r="1.25" fill="currentColor" fill-opacity="0.4"></circle><circle cx="12.5" cy="8.75" r="1.25" fill="currentColor" fill-opacity="0.4"></circle></svg>',write_icon:'<svg fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="1.25" y="1.25" width="15" height="17.5" rx="2"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M3.95276 2.75C3.2624 2.75 2.70276 3.30964 2.70276 4V16C2.70276 16.6904 3.2624 17.25 3.95276 17.25H13.9528C14.6431 17.25 15.2028 16.6904 15.2028 16V12C15.2028 11.5858 15.5385 11.25 15.9528 11.25C16.367 11.25 16.7028 11.5858 16.7028 12V16C16.7028 17.5188 15.4715 18.75 13.9528 18.75H3.95276C2.43398 18.75 1.20276 17.5188 1.20276 16V4C1.20276 2.48122 2.43398 1.25 3.95276 1.25H12.4528C12.867 1.25 13.2028 1.58579 13.2028 2C13.2028 2.41421 12.867 2.75 12.4528 2.75H3.95276Z" fill="currentColor" fill-opacity="0.4"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M15.5232 1.96967C15.8161 1.67678 16.291 1.67678 16.5839 1.96967L19.1769 4.56268C19.6649 5.05071 19.6651 5.84193 19.1772 6.33014L10.5813 14.9321C10.421 15.0925 10.2202 15.2062 10.0002 15.2612L7.01462 16.0076C6.09916 16.2364 5.26993 15.4072 5.49878 14.4918L6.24521 11.5058C6.30008 11.2863 6.41348 11.0859 6.57333 10.9258L11.8402 5.65272C12.1331 5.35983 12.6079 5.35983 12.9008 5.65272C13.1937 5.94562 13.1937 6.42049 12.9008 6.71338L7.68366 11.9367L7.05505 14.4513L9.56923 13.8228L17.9395 5.44662L15.5232 3.03033C15.2303 2.73744 15.2303 2.26257 15.5232 1.96967Z" fill="currentColor" fill-opacity="0.4"></path><defs><linearGradient id="paint0_linear_4632_46813" x1="7" y1="19" x2="3" y2="3" gradientUnits="userSpaceOnUse"><stop stop-color="#37235E"></stop><stop offset="1" stop-color="#212123"></stop></linearGradient></defs></svg>',write_active_icon:'<svg xmlns="http://www.w3.org/2000/svg"><rect x="1.25" y="1.25" width="15" height="17.5" rx="2" fill="currentColor"></rect><path d="M6.45218 15.4415C6.36064 15.8077 6.69233 16.1394 7.05852 16.0478L10.0442 15.3014C10.1321 15.2795 10.2124 15.234 10.2765 15.1699L19.6464 5.79998C19.8417 5.60471 19.8417 5.28813 19.6464 5.09287L17.4071 2.85355C17.2119 2.65829 16.8953 2.65829 16.7 2.85355L7.33007 12.2235C7.26599 12.2876 7.22053 12.3679 7.19855 12.4558L6.45218 15.4415Z" fill=""></path></svg>',ask_icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path fill="currentColor" d="M225.86,102.82c-3.77-3.94-7.67-8-9.14-11.57-1.36-3.27-1.44-8.69-1.52-13.94-.15-9.76-.31-20.82-8-28.51s-18.75-7.85-28.51-8c-5.25-.08-10.67-.16-13.94-1.52-3.56-1.47-7.63-5.37-11.57-9.14C146.28,23.51,138.44,16,128,16s-18.27,7.51-25.18,14.14c-3.94,3.77-8,7.67-11.57,9.14C88,40.64,82.56,40.72,77.31,40.8c-9.76.15-20.82.31-28.51,8S41,67.55,40.8,77.31c-.08,5.25-.16,10.67-1.52,13.94-1.47,3.56-5.37,7.63-9.14,11.57C23.51,109.72,16,117.56,16,128s7.51,18.27,14.14,25.18c3.77,3.94,7.67,8,9.14,11.57,1.36,3.27,1.44,8.69,1.52,13.94.15,9.76.31,20.82,8,28.51s18.75,7.85,28.51,8c5.25.08,10.67.16,13.94,1.52,3.56,1.47,7.63,5.37,11.57,9.14C109.72,232.49,117.56,240,128,240s18.27-7.51,25.18-14.14c3.94-3.77,8-7.67,11.57-9.14,3.27-1.36,8.69-1.44,13.94-1.52,9.76-.15,20.82-.31,28.51-8s7.85-18.75,8-28.51c.08-5.25.16-10.67,1.52-13.94,1.47-3.56,5.37-7.63,9.14-11.57C232.49,146.28,240,138.44,240,128S232.49,109.73,225.86,102.82ZM128,192a12,12,0,1,1,12-12A12,12,0,0,1,128,192Zm8-48.72V144a8,8,0,0,1-16,0v-8a8,8,0,0,1,8-8c13.23,0,24-9,24-20s-10.77-20-24-20-24,9-24,20v4a8,8,0,0,1-16,0v-4c0-19.85,17.94-36,40-36s40,16.15,40,36C168,125.38,154.24,139.93,136,143.28Z"/></svg>',ask_active_icon:'<svg width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_4632_46831)"><path d="M16.737 2.88306H6.73705C6.21106 2.88306 5.78467 3.30945 5.78467 3.83544V12.645C5.78467 13.1709 6.21106 13.5973 6.73705 13.5973H16.737C17.263 13.5973 17.6894 13.1709 17.6894 12.645V3.83544C17.6894 3.30945 17.263 2.88306 16.737 2.88306Z" fill="url(#paint0_linear_4632_46831)"></path><path d="M16.737 2.88306H6.73705C6.21106 2.88306 5.78467 3.30945 5.78467 3.83544V12.645C5.78467 13.1709 6.21106 13.5973 6.73705 13.5973H16.737C17.263 13.5973 17.6894 13.1709 17.6894 12.645V3.83544C17.6894 3.30945 17.263 2.88306 16.737 2.88306Z" fill="url(#paint1_linear_4632_46831)"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M11.0228 2.88299C11.0228 2.4885 11.3426 2.1687 11.7371 2.1687H16.7371C17.6576 2.1687 18.4038 2.91489 18.4038 3.83537V12.6449C18.4038 13.5654 17.6576 14.3116 16.7371 14.3116H5.78472C5.39023 14.3116 5.07043 13.9917 5.07043 13.5973C5.07043 13.2028 5.39023 12.883 5.78472 12.883H16.7371C16.8686 12.883 16.9752 12.7764 16.9752 12.6449V3.83537C16.9752 3.70387 16.8686 3.59727 16.7371 3.59727H11.7371C11.3426 3.59727 11.0228 3.27747 11.0228 2.88299Z" fill="currentColor" fill-opacity="0.4"></path><path d="M14.2472 7.0707C14.2473 6.572 14.0771 6.12943 13.7204 5.81858C13.373 5.5159 12.9073 5.38899 12.4077 5.38908C11.838 5.38919 11.3478 5.60143 10.9135 5.95894C10.8409 6.01876 10.7533 6.04806 10.6785 6.04867C10.608 6.04925 10.5594 6.026 10.5259 5.98969C10.4952 5.95647 10.4815 5.91785 10.4802 5.88629C10.4791 5.85738 10.4874 5.83727 10.502 5.82146C11.0776 5.19675 11.781 4.8312 12.5904 4.83105C13.2848 4.83092 13.8346 5.02301 14.2048 5.35268C14.5668 5.67516 14.8088 6.17505 14.8087 6.9056C14.8086 7.42912 14.5673 7.78505 14.1904 8.15671C14.0697 8.27572 13.9588 8.3749 13.8402 8.48091C13.7522 8.55956 13.66 8.64196 13.5565 8.73902C13.3377 8.9441 13.108 9.18147 12.932 9.46766C12.775 9.72316 12.6046 9.8184 12.4953 9.8184C12.4167 9.8184 12.3622 9.78259 12.3421 9.75773L12.3396 9.75449L12.3409 9.75192C12.5329 9.3769 12.8454 9.09006 13.2072 8.75819C13.2602 8.70952 13.3143 8.65988 13.3693 8.60886C13.7469 8.25806 14.2471 7.77187 14.2472 7.0707Z" stroke="currentColor" stroke-opacity="0.4"></path><path d="M12.4231 12.193C12.1244 12.193 11.9437 12.0086 11.9437 11.7209C11.9437 11.4439 12.1243 11.2595 12.4231 11.2595C12.7076 11.2595 12.8917 11.4405 12.8917 11.7209C12.8917 12.0086 12.7004 12.193 12.4231 12.193Z" stroke="currentColor" stroke-opacity="0.4"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M7.66641 9.52383C9.77039 9.52383 11.4759 7.81825 11.4759 5.71431C11.4759 3.61037 9.77039 1.90479 7.66641 1.90479C5.56247 1.90479 3.85689 3.61037 3.85689 5.71431C3.85689 7.81825 5.56247 9.52383 7.66641 9.52383ZM13.0539 12.7077C14.4828 14.1366 15.2854 16.0746 15.2854 18.0953H0.0473633C0.0473633 16.0746 0.850082 14.1366 2.27893 12.7077C3.70778 11.279 5.64571 10.4762 7.66641 10.4762C9.68715 10.4762 11.6251 11.279 13.0539 12.7077Z" fill="url(#paint2_linear_4632_46831)"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M5.96273 10.6691C4.57873 10.9867 3.29908 11.6876 2.27893 12.7077C1.19151 13.7952 0.466742 15.1775 0.182458 16.6667C0.093198 17.1343 0.0473633 17.6124 0.0473633 18.0953H15.2854C15.2854 17.6124 15.2396 17.1343 15.1504 16.6667C14.8661 15.1775 14.1413 13.7952 13.0539 12.7077C12.0337 11.6876 10.7541 10.9867 9.37009 10.6691C8.81562 10.5419 8.2444 10.4762 7.66641 10.4762C7.08842 10.4762 6.5172 10.5419 5.96273 10.6691ZM6.09413 9.18526C6.57346 9.40274 7.10579 9.52383 7.66641 9.52383C8.22703 9.52383 8.75936 9.40273 9.23868 9.18526C10.5582 8.5866 11.4759 7.25763 11.4759 5.71431C11.4759 3.61037 9.77039 1.90479 7.66641 1.90479C5.56247 1.90479 3.85689 3.61037 3.85689 5.71431C3.85689 7.25763 4.77462 8.5866 6.09413 9.18526ZM13.6898 16.6667C13.4272 15.5592 12.8617 14.5359 12.0437 13.7179C10.8828 12.557 9.30823 11.9048 7.66641 11.9048C6.0246 11.9048 4.45002 12.557 3.28909 13.7179C2.47111 14.5359 1.90569 15.5592 1.643 16.6667H13.6898ZM7.66641 8.09526C8.98137 8.09526 10.0473 7.02927 10.0473 5.71431C10.0473 4.39935 8.98137 3.33336 7.66641 3.33336C6.35145 3.33336 5.28546 4.39935 5.28546 5.71431C5.28546 7.02927 6.35145 8.09526 7.66641 8.09526Z" fill="currentColor" fill-opacity="0.4"></path></g><defs><linearGradient id="paint0_linear_4632_46831" x1="17.6664" y1="13.3334" x2="5.28546" y2="2.38106" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor"></stop><stop offset="1" stop-color="currentColor"></stop></linearGradient><linearGradient id="paint1_linear_4632_46831" x1="10.3482" y1="13.7504" x2="8.41285" y2="3.71548" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor"></stop><stop offset="1" stop-color="currentColor"></stop></linearGradient><linearGradient id="paint2_linear_4632_46831" x1="11.5" y1="12" x2="1.65136" y2="8.56591" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor"></stop><stop offset="1" stop-color="currentColor"></stop></linearGradient><clipPath id="clip0_4632_46831"><rect width="20" height="20" fill="currentColor" transform="translate(0.0472412)"></rect></clipPath></defs></svg>',chat_pdf_icon:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.79128 0.289062C2.90763 0.289062 2.19128 1.00541 2.19128 1.88906V2.33517C1.42585 2.45474 0.84021 3.11694 0.84021 3.91592V4.6181C0.84021 5.41709 1.42585 6.07929 2.19128 6.19886V13.4C2.19128 14.2837 2.90763 15 3.79128 15H12.6C13.4837 15 14.2 14.2837 14.2 13.4V1.88906C14.2 1.00541 13.4837 0.289062 12.6 0.289062H3.79128ZM3.39128 6.21811V13.4C3.39128 13.6209 3.57037 13.8 3.79128 13.8H12.6C12.8209 13.8 13 13.6209 13 13.4V1.88906C13 1.66815 12.8209 1.48906 12.6 1.48906H3.79128C3.57037 1.48906 3.39128 1.66815 3.39128 1.88906V2.31592H5.84458C6.72824 2.31592 7.44458 3.03226 7.44458 3.91592V4.6181C7.44458 5.50176 6.72824 6.21811 5.84458 6.21811H3.39128ZM2.04021 3.91592C2.04021 3.695 2.2193 3.51592 2.44021 3.51592H5.84458C6.0655 3.51592 6.24458 3.695 6.24458 3.91592V4.6181C6.24458 4.83902 6.0655 5.01811 5.84458 5.01811H2.44021C2.2193 5.01811 2.04021 4.83902 2.04021 4.6181V3.91592Z" fill="currentColor" fill-opacity="0.5"></path><path d="M11.2151 11.1661C10.6578 11.1247 10.1215 10.9178 9.68817 10.5452C8.84183 10.7314 8.03717 11.0006 7.23237 11.3317C6.59261 12.4699 5.99415 13.0492 5.47818 13.0492C5.37504 13.0492 5.2512 13.0284 5.1687 12.9664C4.94166 12.8629 4.81787 12.6353 4.81787 12.4078C4.81787 12.2215 4.85907 11.704 6.81975 10.8558C7.27352 10.028 7.62435 9.17948 7.91333 8.28976C7.6657 7.79314 7.12923 6.57219 7.50066 5.95153C7.62435 5.72383 7.87213 5.59969 8.14042 5.6204C8.34676 5.6204 8.55309 5.72387 8.67679 5.88942C8.94522 6.26196 8.92452 7.04815 8.5736 8.20704C8.90392 8.82784 9.3373 9.38643 9.85317 9.86254C10.2866 9.77972 10.7198 9.71756 11.1533 9.71756C12.1232 9.73822 12.2676 10.1937 12.2471 10.4624C12.2471 11.1661 11.5661 11.1661 11.2151 11.1661ZM5.43693 12.4491L5.49888 12.4281C5.78776 12.3248 6.01475 12.118 6.17989 11.8489C5.87026 11.9731 5.62262 12.1803 5.43693 12.4491ZM8.18162 6.2411H8.11957C8.09897 6.2411 8.05773 6.2411 8.03713 6.26191C7.95453 6.6136 8.01662 6.98614 8.16107 7.31722C8.28476 6.96543 8.28476 6.59284 8.18162 6.2411ZM8.32611 9.24164L8.30536 9.2831L8.28471 9.26235C8.09893 9.73817 7.89264 10.2144 7.66555 10.6694L7.70685 10.6488V10.6901C8.16107 10.5244 8.65619 10.3799 9.11031 10.2764L9.08951 10.2556H9.15146C8.84178 9.94502 8.553 9.59333 8.32611 9.24164ZM11.1326 10.3385C10.9469 10.3385 10.7819 10.3385 10.5961 10.3799C10.8024 10.4831 11.0087 10.5245 11.215 10.5453C11.3598 10.566 11.504 10.5453 11.6278 10.504C11.6278 10.4417 11.5453 10.3385 11.1326 10.3385Z" fill="currentColor"></path></svg>',translate_icon:'<svg fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.8671 5.54947C15.6183 5.8806 15.685 6.35077 16.0161 6.59961C17.5554 7.75638 18.5487 9.59528 18.5487 11.6664C18.5487 12.5783 18.3565 13.4432 18.0111 14.2246C17.9543 14.353 17.9347 14.4948 17.9546 14.6338L18.3998 17.751L15.8647 17.1171C15.6788 17.0706 15.4821 17.0971 15.3151 17.191C14.3997 17.7059 13.3433 17.9998 12.216 17.9998C11.7815 17.9998 11.3579 17.9561 10.9492 17.8732C10.5432 17.7908 10.1474 18.0531 10.065 18.4591C9.98261 18.865 10.2449 19.2609 10.6509 19.3432C11.1572 19.446 11.6807 19.4998 12.216 19.4998C13.499 19.4998 14.7117 19.1908 15.7819 18.6426L19.1181 19.4767C19.3604 19.5373 19.6169 19.4733 19.8023 19.3061C19.9878 19.1388 20.0778 18.8903 20.0425 18.6431L19.4691 14.6287C19.8429 13.714 20.0487 12.7134 20.0487 11.6664C20.0487 9.10373 18.8174 6.8284 16.9173 5.40047C16.5861 5.15163 16.116 5.21834 15.8671 5.54947Z" fill="currentColor" fill-opacity="0.4"></path><path d="M0.691666 12.6571C0.247969 11.6534 0.00153923 10.543 0.00153923 9.375C0.00153923 4.88769 3.63888 1.25 8.12577 1.25C12.6127 1.25 16.25 4.88769 16.25 9.375C16.25 13.8623 12.6127 17.5 8.12577 17.5C6.68118 17.5 5.32465 17.1229 4.14922 16.4618L0 17.4992L0.691666 12.6571Z" ></path><path fill-rule="evenodd" clip-rule="evenodd" d="M2.17659 12.8692C2.21631 12.5912 2.17716 12.3076 2.06359 12.0507C1.70273 11.2343 1.50154 10.3301 1.50154 9.375C1.50154 5.71598 4.46744 2.75 8.12577 2.75C11.7841 2.75 14.75 5.71598 14.75 9.375C14.75 13.034 11.7841 16 8.12577 16C6.94538 16 5.84131 15.6925 4.88454 15.1544C4.55049 14.9665 4.1572 14.9137 3.78538 15.0066L1.80039 15.5029L2.17659 12.8692ZM0 17.4992L4.14922 16.4618C5.32465 17.1229 6.68118 17.5 8.12577 17.5C12.6127 17.5 16.25 13.8623 16.25 9.375C16.25 4.88769 12.6127 1.25 8.12577 1.25C3.63888 1.25 0.00153923 4.88769 0.00153923 9.375C0.00153923 10.543 0.247969 11.6534 0.691666 12.6571L0 17.4992Z" fill="currentColor" fill-opacity="0.4"></path><circle cx="3.75" cy="8.75" r="1.25" fill="currentColor" fill-opacity="0.4"></circle><circle cx="8.125" cy="8.75" r="1.25" fill="currentColor" fill-opacity="0.4"></circle><circle cx="12.5" cy="8.75" r="1.25" fill="currentColor" fill-opacity="0.4"></circle></svg>',collapse_sidebar_icon:'<svg aria-hidden="true" focusable="false" role="img" viewBox="0 0 16 16" width="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"> <path d="M6.823 7.823a.25.25 0 0 1 0 .354l-2.396 2.396A.25.25 0 0 1 4 10.396V5.604a.25.25 0 0 1 .427-.177Z"></path> <path d="M1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25V1.75C0 .784.784 0 1.75 0ZM1.5 1.75v12.5c0 .138.112.25.25.25H9.5v-13H1.75a.25.25 0 0 0-.25.25ZM11 14.5h3.25a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25H11Z"></path> </svg>',collapse_sidebar_solid_icon:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M7.81 2C6.32 2 5.08 2.36 4.13 3.05C3.71 3.34 3.34 3.71 3.05 4.13C2.36 5.08 2 6.32 2 7.81V16.19C2 19.83 4.17 22 7.81 22H15.28V2H7.81ZM12.12 12.53L9.56 15.09C9.41 15.24 9.22 15.31 9.03 15.31C8.84 15.31 8.65 15.24 8.5 15.09C8.21 14.8 8.21 14.32 8.5 14.03L10.52 12L8.5 9.97C8.2 9.68 8.2 9.2 8.5 8.91C8.8 8.62 9.27 8.62 9.56 8.91L12.12 11.47C12.41 11.76 12.41 12.24 12.12 12.53Z" fill="currentColor"/> <path d="M16.7793 2.03125V21.9812C18.0093 21.9012 19.0493 21.5513 19.8693 20.9513C20.2893 20.6612 20.6593 20.2913 20.9493 19.8713C21.6393 18.9212 21.9993 17.6813 21.9993 16.1913V7.81125C21.9993 4.37125 20.0593 2.24125 16.7793 2.03125Z" fill="currentColor"/> </svg>',three_dots_icon:'<svg fill="none" width="150px" height="150px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" stroke="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M 16 6 C 14.894531 6 14 6.894531 14 8 C 14 9.105469 14.894531 10 16 10 C 17.105469 10 18 9.105469 18 8 C 18 6.894531 17.105469 6 16 6 Z M 16 14 C 14.894531 14 14 14.894531 14 16 C 14 17.105469 14.894531 18 16 18 C 17.105469 18 18 17.105469 18 16 C 18 14.894531 17.105469 14 16 14 Z M 16 22 C 14.894531 22 14 22.894531 14 24 C 14 25.105469 14.894531 26 16 26 C 17.105469 26 18 25.105469 18 24 C 18 22.894531 17.105469 22 16 22 Z"></path></g></svg>',variants_icon:'<svg width="12" height="12" fill="none" viewBox="0 0 12 12" style="min-width: 12px; min-height: 12px;"><g><path data-follow-fill="currentColor" d="M4.706 2.914 4 2.323l-.914-.116.591-.707.117-.914.706.591.914.117L4.823 2l-.117.914ZM7.5 1.5l-.5.147-.5-.147.147.5-.147.5.5-.147.5.147-.147-.5.147-.5Z" fill="currentColor" data-darkreader-inline-fill="" style="--darkreader-inline-fill: currentColor;"></path><path data-follow-fill="currentColor" d="M7.627 6.298a1.153 1.153 0 0 1-.35-.687L7.1 4.244l-1.21.659c-.234.126-.503.17-.763.12L3.77 4.772l.252 1.355c.049.26.006.53-.12.762l-.66 1.21 1.367.18c.263.034.506.158.688.35l.947 1 .593-1.244c.114-.24.306-.432.545-.546l1.245-.592-1-.948Zm.012 2.467-.982 2.061a.267.267 0 0 1-.433.07l-1.57-1.659a.266.266 0 0 0-.158-.08L2.23 8.86a.266.266 0 0 1-.199-.391l1.092-2.006a.266.266 0 0 0 .027-.175l-.418-2.245a.266.266 0 0 1 .31-.31l2.245.418c.06.01.122.001.176-.028l2.007-1.09a.266.266 0 0 1 .39.2l.296 2.263c.008.06.037.116.081.158l1.658 1.57a.266.266 0 0 1-.069.434l-2.062.98a.266.266 0 0 0-.125.127Zm.666 1.168a.443.443 0 0 1 .627-.627l1.254 1.253a.443.443 0 1 1-.627.628L8.305 9.933ZM1.5 5l-.75.22L0 5l.221.75L0 6.5l.75-.22.75.22-.219-.75L1.5 5Z" fill="currentColor" fill-opacity=".96" data-darkreader-inline-fill="" style="--darkreader-inline-fill: currentColor;"></path></g></svg>',upscale_icon:'<svg width="12" height="12" fill="none" viewBox="0 0 12 12" style="min-width: 12px; min-height: 12px;"><g><path data-follow-stroke="currentColor" d="M4.41 8.652c-.531 1.59-2.653 1.59-2.653 1.59s0-2.12 1.591-2.65M9.182 4.94 6 8.12 3.879 6 7.06 2.818c1.205-1.205 2.41-1.193 2.923-1.116a.373.373 0 0 1 .315.314c.076.514.088 1.718-1.117 2.923Zm-.53.53v3.026a.375.375 0 0 1-.11.265l-1.516 1.516a.375.375 0 0 1-.633-.191L6 8.12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" data-darkreader-inline-stroke="" style="--darkreader-inline-stroke: currentColor;"></path><path data-follow-stroke="currentColor" d="M6.53 3.348H3.504a.375.375 0 0 0-.266.11L1.722 4.974a.375.375 0 0 0 .192.633L3.88 6" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" data-darkreader-inline-stroke="" style="--darkreader-inline-stroke: currentColor;"></path></g></svg>',download_icon:'<svg width="16" height="16" fill="none" viewBox="0 0 16 16" style="min-width: 16px; min-height: 16px;"><g><path data-follow-stroke="currentColor" d="M2 8.003V14h12V8" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" data-darkreader-inline-stroke="" style="--darkreader-inline-stroke: currentColor;"></path><path data-follow-stroke="currentColor" d="m11 7.667-3 3-3-3M7.997 2v8.667" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" data-darkreader-inline-stroke="" style="--darkreader-inline-stroke: currentColor;"></path></g></svg>',use_as_reference_icon:'<svg width="16" height="16" fill="none" viewBox="0 0 20 20" style="min-width: 16px; min-height: 16px;"><g><path data-follow-stroke="currentColor" d="m2.5 13.125 3.933-3.933a.625.625 0 0 1 .884 0l3.491 3.491a.625.625 0 0 0 .884 0l1.616-1.616a.628.628 0 0 1 .681-.136.627.627 0 0 1 .203.136l3.308 3.308" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-darkreader-inline-stroke="" style="--darkreader-inline-stroke: currentColor;"></path><path data-follow-stroke="currentColor" d="M16.875 3.75H3.125a.625.625 0 0 0-.625.625v11.25c0 .345.28.625.625.625h13.75c.345 0 .625-.28.625-.625V4.375a.625.625 0 0 0-.625-.625Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-darkreader-inline-stroke="" style="--darkreader-inline-stroke: currentColor;"></path><path data-follow-stroke="currentColor" data-follow-fill="currentColor" d="M12.906 7.813a.719.719 0 1 1-1.437 0 .719.719 0 0 1 1.437 0Z" fill="currentColor" stroke="currentColor" stroke-width=".125" data-darkreader-inline-fill="" data-darkreader-inline-stroke="" style="--darkreader-inline-fill: currentColor; --darkreader-inline-stroke: currentColor;"></path></g></svg>',edit_icon:'<svg width="16" height="16" fill="none" viewBox="0 0 20 20" style="min-width: 20px; min-height: 20px;"><g><path fill="currentColor" d="M16.71 3.762a.781.781 0 1 0-1.232-.961C13.238 5.67 11.42 7.99 10 9.792c-1.421-1.8-3.238-4.12-5.478-6.991a.781.781 0 0 0-1.232.96c2.363 3.029 4.257 5.447 5.714 7.29a682.575 682.575 0 0 1-1.205 1.511 2.774 2.774 0 1 0-.428 2.964c.385-.42 1.26-1.493 2.629-3.216 1.37 1.723 2.244 2.797 2.63 3.216a2.773 2.773 0 1 0-.428-2.964 288.462 288.462 0 0 1-1.206-1.51c1.457-1.844 3.351-4.262 5.714-7.29Zm-2.827 10.817a.807.807 0 0 0-.082-.087 1.211 1.211 0 1 1 .082.088Zm-7.684-.087a1.207 1.207 0 0 1-.926.43 1.21 1.21 0 1 1 .926-.43Z" clip-rule="evenodd" fill-rule="evenodd" opacity=".8" data-follow-fill="#545C66" data-darkreader-inline-fill="" style="--darkreader-inline-fill: currentColor;"></path></g></svg>',close_icon:'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" /></svg>',back_icon:'<svg aria-hidden="true" focusable="false" role="img" viewBox="0 0 16 16" width="14" height="14" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path d="M9.78 12.78a.75.75 0 0 1-1.06 0L4.47 8.53a.75.75 0 0 1 0-1.06l4.25-4.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L6.06 8l3.72 3.72a.75.75 0 0 1 0 1.06Z"></path></svg>',compare_icon:'<svg width="1em" height="1em" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 3.333h3.333c.629 0 .943 0 1.138.196.196.195.196.51.196 1.138v6.667c0 .628 0 .942-.196 1.138-.195.195-.51.195-1.138.195H10" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M6 3.933a.6.6 0 100-1.2v1.2zm-3.334 0h.6v-1.2h-.6v1.2zM1.528 3.53l.425.424-.425-.424zM.733 4.667v.6h1.2v-.6h-1.2zm1.2 6.667v-.6h-1.2v.6h1.2zm-.405 1.138l.425-.425-.425.425zm1.138.795h.6v-1.2h-.6v1.2zm3.334 0a.6.6 0 100-1.2v1.2zM5.166 2.733h-.6v1.2h.6v-1.2zM1.933 6.857v-.6h-1.2v.6h1.2zm-1.2 2.286v.6h1.2v-.6h-1.2zm4.433 2.924h-.6v1.2h.6v-1.2zm-2.5-9.334c-.297 0-.58 0-.811.03-.248.034-.523.114-.751.342l.849.848c-.033.032-.053.015.062 0 .132-.018.32-.02.651-.02v-1.2zm-1.562.371c-.228.228-.308.503-.341.751-.031.231-.03.515-.03.812h1.2c0-.331.001-.52.02-.652.015-.115.032-.094 0-.062l-.849-.849zm-.371 8.23c0 .297-.001.58.03.811.033.248.113.523.341.75l.849-.848c.032.033.015.053 0-.062a5.695 5.695 0 01-.02-.651h-1.2zm.371 1.562c.228.227.503.308.75.341.232.031.515.03.812.03v-1.2c-.33 0-.519-.001-.651-.02-.115-.015-.095-.032-.062 0l-.849.849zM6 2.733h-.834v1.2H6v-1.2zM.733 6.857v.31h1.2v-.31h-1.2zm0 .31V8h1.2v-.833h-1.2zm0 .833v1.143h1.2V8h-1.2zm4.433 5.267H6v-1.2h-.834v1.2z" fill="currentColor"></path><path d="M8 2v12" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"></path></svg>',generate_image_icon:'<svg width="1em" height="1em" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="currentColor" stroke-width="1.2" stroke-linejoin="round" d="M9.882 1.6l1.22 3.298 3.298 1.22-3.298 1.22-1.22 3.297-1.22-3.297-3.298-1.22 3.298-1.22L9.882 1.6zM4.235 9.13L5.3 10.699l1.57 1.066L5.3 12.83 4.235 14.4l-1.066-1.57-1.57-1.066 1.57-1.066 1.066-1.57z"></path></svg>',upscale_tool_icon:'<svg width="1em" height="1em" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g stroke="currentColor" fill="none" stroke-width="1.2" stroke-linecap="round"><path d="M12 1.6H4A2.4 2.4 0 001.6 4v8A2.4 2.4 0 004 14.4h8a2.4 2.4 0 002.4-2.4V4A2.4 2.4 0 0012 1.6z"></path><path d="M6.8 8h-4a1.2 1.2 0 00-1.2 1.2v2.914A2.286 2.286 0 003.885 14.4H6.8A1.2 1.2 0 008 13.2v-4A1.2 1.2 0 006.8 8z"></path><path d="M9.066 6.933l3.2-3.2m0 0H8.8m3.466 0V7.2" stroke-linejoin="round"></path></g></svg>',initial_image_icon:'<svg width="1em" height="1em" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.975 12.776a.6.6 0 00.849.848l-.849-.848zM5.6 10l.424-.424a.6.6 0 00-.849 0L5.6 10zm1.6 1.6l-.425.424a.6.6 0 00.849 0L7.2 11.6zM10.8 8l.424-.424a.6.6 0 00-.849 0L10.8 8zm2.775 3.624a.6.6 0 00.849-.848l-.849.848zm-10.751 2l3.2-3.2-.849-.848-3.2 3.2.849.848zm2.351-3.2l1.6 1.6.849-.848-1.6-1.6-.849.848zm2.449 1.6l3.6-3.6-.849-.848-3.6 3.6.849.848zm2.751-3.6l3.2 3.2.849-.848-3.2-3.2-.849.848zM4 2.2h8V1H4v1.2zM13.8 4v8H15V4h-1.2zM12 13.8H4V15h8v-1.2zM2.2 12V4H1v8h1.2zM4 13.8A1.8 1.8 0 012.2 12H1a3 3 0 003 3v-1.2zm9.8-1.8a1.8 1.8 0 01-1.8 1.8V15a3 3 0 003-3h-1.2zM12 2.2A1.8 1.8 0 0113.8 4H15a3 3 0 00-3-3v1.2zM4 1a3 3 0 00-3 3h1.2A1.8 1.8 0 014 2.2V1zm1.8 4.2a.6.6 0 01-.6.6V7A1.8 1.8 0 007 5.2H5.8zm-.6.6a.6.6 0 01-.6-.6H3.4A1.8 1.8 0 005.2 7V5.8zm-.6-.6a.6.6 0 01.6-.6V3.4a1.8 1.8 0 00-1.8 1.8h1.2zm.6-.6a.6.6 0 01.6.6H7a1.8 1.8 0 00-1.8-1.8v1.2z" fill="currentColor"></path></svg>',horizontal_three_dots_icon:'<svg width="1em" height="1em" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M10.833 7.833a1 1 0 102 0 1 1 0 00-2 0zm-4 0a1 1 0 102 0 1 1 0 00-2 0zm-3.667 0a1 1 0 102 0 1 1 0 00-2 0z"></path></svg>',remove_text_icon:'<svg width="1em" height="1em" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L2 12m1-8h8M7 4v7M3 1h8a2 2 0 012 2v8a2 2 0 01-2 2H3a2 2 0 01-2-2V3a2 2 0 012-2z" stroke="currentColor" stroke-linecap="round"></path></svg>',remove_background_icon:'<svg width="1em" height="1em" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.369 1L3.684 4.316l-.335.414-.336.415-.335.414-.336.415L1 7.632M10.79 1L8.343 3.684M13 5v-.917V3a2 2 0 00-2-2H3a2 2 0 00-2 2V11A2 2 0 003 13h2.542m-2.4-3.612l-.306.336-.612.67-.612.672-.306.335" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M11.5 7a.5.5 0 000 1V7zm1.5.5h.5A.5.5 0 0013 7v.5zm0 2.5l.099.49A.5.5 0 0013.5 10H13zm-5 1l-.098-.49A.5.5 0 007.5 11H8zm-.5 2.5a.5.5 0 001 0h-1zM5 5.5h5v-1H5v1zm5.5.5v2h1V6h-1zM10 8.5H5v1h5v-1zM4.5 8V6h-1v2h1zm.5.5a.5.5 0 01-.5-.5h-1A1.5 1.5 0 005 9.5v-1zm5.5-.5a.5.5 0 01-.5.5v1A1.5 1.5 0 0011.5 8h-1zM10 5.5a.5.5 0 01.5.5h1A1.5 1.5 0 0010 4.5v1zm-5-1A1.5 1.5 0 003.5 6h1a.5.5 0 01.5-.5v-1zM11.5 8H13V7h-1.5v1zm1-.5V10h1V7.5h-1zm.403 2.01l-5 1 .195.98 5-1-.195-.98zM7.5 11v2.5h1V11h-1z" fill="currentColor"></path></svg>',replace_background_icon:'<svg width="1em" height="1em" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="icon/å¾ç/ç¼è¾" clip-path="url(#clip0_32985_775)"><path id="Vector" d="M6.36879 1L1 7.63158M10.7902 1L1.36454 11.3371M13.0008 3.21053L10.7112 5.65789M3.8423 13L4.98712 11.7763M8.22983 13H7.00042H3C1.89543 13 1 12.104 1 10.9995C1 10.9705 1 10.9431 1 10.9173V3.08271C1 3.0569 1 3.02945 1 3.00054C1 1.89597 1.89543 1 3 1H11.0008C12.1054 1 13.0008 1.89597 13.0008 3.00054C13.0008 3.02945 13.0008 3.0569 13.0008 3.08271V7V9.45865V10.688" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path id="Vector_2" d="M10.1351 12.66L10.7581 14.074L11.3811 12.66L12.5222 12.037L11.3811 11.414L10.7581 10L10.1351 11.414L9.00098 12.037L10.1351 12.66Z" fill="currentColor"></path><path id="Vector_3" d="M7.13408 9.66L7.75711 11.074L8.38017 9.66L9.52124 9.03699L8.38017 8.414L7.75711 7L7.13408 8.414L6 9.03699L7.13408 9.66Z" fill="currentColor"></path></g><defs><clipPath id="clip0_32985_775"><rect width="14.001" height="14" fill="currentColor"></rect></clipPath></defs></svg>',remove_brushed_area_icon:'<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_33336_906)"><path d="M14.001 0H0V14H14.001V0Z" fill="none"></path><path d="M3.08659 8.07435L4.9972 9.17744L2.6691 12.7649C2.36449 13.2925 1.68985 13.4732 1.16224 13.1686C0.634643 12.864 0.453874 12.1894 0.758485 11.6618L3.08659 8.07435Z" stroke="currentColor"></path><path d="M7.18979 6.69051C7.42492 7.90126 5.43449 9.20952 4.34465 8.5803C3.25481 7.95108 2.95831 6.4243 3.6824 5.17014C4.40648 3.91599 7.40383 3.28165 7.40383 3.28165C7.40383 3.28165 7.00351 5.73127 7.18979 6.69051Z" stroke="currentColor"></path><path d="M4.55078 3C4.78243 1.85888 5.79138 1 7.00094 1C8.38175 1 9.50112 2.11929 9.50112 3.5C9.50112 4.26578 9.15679 4.95114 8.61451 5.40972" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5.00042 12H13.001C13.001 9.67906 11.2577 7.70789 8.83448 7" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_33336_906"><rect width="14.001" height="14" fill="currentColor"></rect></clipPath></defs></svg>',upload_again_icon:'<svg width="1em" height="1em" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><path d="M1.747 11.196a.5.5 0 00.707.708l-.707-.708zM4.9 8.75l.353-.354a.5.5 0 00-.707 0l.354.354zm1.4 1.4l-.354.354a.5.5 0 00.707 0L6.3 10.15zM9.45 7l.353-.354a.5.5 0 00-.707 0L9.451 7zm2.447 3.154a.5.5 0 00.707-.708l-.707.708zM7 1.9a.5.5 0 000-1v1zM13.1 7a.5.5 0 00-1 0h1zM8 3a.5.5 0 000 1V3zm5 1a.5.5 0 000-1v1zm-2-3a.5.5 0 10-1 0h1zm-1 5a.5.5 0 001 0h-1zm-7.547 5.904l2.8-2.8-.707-.708-2.8 2.8.707.708zm2.093-2.8l1.4 1.4.707-.708-1.4-1.4-.707.708zm2.107 1.4l3.15-3.15-.707-.708-3.15 3.15.707.708zm2.443-3.15l2.8 2.8.708-.708-2.8-2.8-.708.708zM10.5 12.1h-7v1h7v-1zm-8.6-1.6v-7h-1v7h1zm1.6 1.6a1.6 1.6 0 01-1.6-1.6h-1a2.6 2.6 0 002.6 2.6v-1zm8.6-1.6a1.6 1.6 0 01-1.6 1.6v1a2.6 2.6 0 002.6-2.6h-1zM3.501.9A2.6 2.6 0 00.9 3.5h1a1.6 1.6 0 011.6-1.6v-1zm1.6 3.65a.55.55 0 01-.55.55v1A1.55 1.55 0 006.1 4.55h-1zm-.55.55A.55.55 0 014 4.55H3c0 .856.694 1.55 1.55 1.55v-1zM4 4.55A.55.55 0 014.55 4V3A1.55 1.55 0 003 4.55h1zM4.55 4a.55.55 0 01.55.55h1A1.55 1.55 0 004.55 3v1zM3.5 1.9H7v-1H3.5v1zM12.1 7v3.5h1V7h-1zM8 4h5V3H8v1zm2-3v5h1V1h-1z" fill="currentColor"></path></svg>',credit_icon:'<svg width="1em" height="1em" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#ffffff" stroke-width="1.2" stroke-linejoin="round" d="M9.882 1.6l1.22 3.298 3.298 1.22-3.298 1.22-1.22 3.297-1.22-3.297-3.298-1.22 3.298-1.22L9.882 1.6zM4.235 9.13L5.3 10.699l1.57 1.066L5.3 12.83 4.235 14.4l-1.066-1.57-1.57-1.066 1.57-1.066 1.066-1.57z"></path></svg>',magic_wand:'<svg width="20" height="20" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M9.5 9.625l-0.906 2.906-0.875-2.906-2.906-0.906 2.906-0.875 0.875-2.938 0.906 2.938 2.906 0.875zM14.563 8.031l-0.438 1.469-0.5-1.469-1.438-0.469 1.438-0.438 0.5-1.438 0.438 1.438 1.438 0.438zM0.281 24l17.906-17.375c0.125-0.156 0.313-0.25 0.531-0.25 0.281-0.031 0.563 0.063 0.781 0.281 0.094 0.063 0.219 0.188 0.406 0.344 0.344 0.313 0.719 0.688 1 1.063 0.125 0.188 0.188 0.344 0.188 0.5 0.031 0.313-0.063 0.594-0.25 0.781l-17.906 17.438c-0.156 0.156-0.344 0.219-0.563 0.25-0.281 0.031-0.563-0.063-0.781-0.281-0.094-0.094-0.219-0.188-0.406-0.375-0.344-0.281-0.719-0.656-0.969-1.063-0.125-0.188-0.188-0.375-0.219-0.531-0.031-0.313 0.063-0.563 0.281-0.781zM14.656 11.375l1.313 1.344 4.156-4.031-1.313-1.375zM5.938 13.156l-0.406 1.438-0.438-1.438-1.438-0.469 1.438-0.438 0.438-1.469 0.406 1.469 1.5 0.438zM20.5 12.063l0.469 1.469 1.438 0.438-1.438 0.469-0.469 1.438-0.469-1.438-1.438-0.469 1.438-0.438z"></path></svg>',reference_image_icon:'<svg class="ait-cursor-pointer icon-zzgNjO" width="20" height="20" fill="none" viewBox="0 0 20 20" style="min-width: 20px; min-height: 20px;"><g><path fill="currentColor" d="M4.063 4.844c0-.432.35-.782.78-.782H10A.781.781 0 1 0 10 2.5H4.844A2.344 2.344 0 0 0 2.5 4.844v10.312A2.344 2.344 0 0 0 4.844 17.5h10.312a2.344 2.344 0 0 0 2.344-2.344V10a.781.781 0 0 0-1.563 0v5.156c0 .432-.35.781-.78.781H4.843a.781.781 0 0 1-.782-.78V4.843Zm1.044 7.754a.625.625 0 0 0 .504.996h8.812c.506 0 .803-.57.512-.984l-2.988-4.26a.625.625 0 0 0-1.041.027L9.857 10.05a.625.625 0 0 1-.974.106l-.619-.627a.625.625 0 0 0-.948.068l-2.209 3.001Zm6.455-7.13c0-.43.35-.78.782-.78h1.406V3.28a.781.781 0 0 1 1.563 0v1.406h1.406a.781.781 0 0 1 0 1.563h-1.407v1.406a.781.781 0 0 1-1.562 0V6.25h-1.406a.781.781 0 0 1-.781-.781Z" clip-rule="evenodd" fill-rule="evenodd" opacity=".8" data-follow-fill="#545C66" data-darkreader-inline-fill="" style="--darkreader-inline-fill: currentColor;"></path></g></svg>',delete_icon:'<svg width="1em" height="1em" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><rect x="4.20004" y="1.40039" width="5.6" height="1.2" rx="0.6"></rect><mask id="path-2-inside-1_23046_6486" fill="white"><path fill-rule="evenodd" clip-rule="evenodd" d="M2 3.40039C1.66863 3.40039 1.4 3.66902 1.4 4.00039C1.4 4.33176 1.66863 4.60039 2 4.60039H2.60007V11.0004C2.60007 11.884 3.31642 12.6004 4.20007 12.6004H9.80007C10.6837 12.6004 11.4001 11.884 11.4001 11.0004V4.60039H12C12.3314 4.60039 12.6 4.33176 12.6 4.00039C12.6 3.66902 12.3314 3.40039 12 3.40039H11.4001H10.2001H3.80007H2.60007H2ZM10.2001 4.60039H3.80007V11.0004C3.80007 11.2213 3.97916 11.4004 4.20007 11.4004H9.80007C10.021 11.4004 10.2001 11.2213 10.2001 11.0004V4.60039Z"></path></mask><path d="M2.60007 4.60039H4.4215V2.77896H2.60007V4.60039ZM11.4001 4.60039V2.77896H9.57864V4.60039H11.4001ZM10.2001 4.60039H12.0215V2.77896H10.2001V4.60039ZM3.80007 4.60039V2.77896H1.97864V4.60039H3.80007ZM3.22143 4.00039C3.22143 4.67497 2.67458 5.22182 2 5.22182V1.57896C0.662684 1.57896 -0.421427 2.66307 -0.421427 4.00039H3.22143ZM2 2.77896C2.67458 2.77896 3.22143 3.32582 3.22143 4.00039H-0.421427C-0.421427 5.33771 0.662682 6.42182 2 6.42182V2.77896ZM2.60007 2.77896H2V6.42182H2.60007V2.77896ZM0.778643 4.60039V11.0004H4.4215V4.60039H0.778643ZM0.778643 11.0004C0.778643 12.89 2.31047 14.4218 4.20007 14.4218V10.779C4.32236 10.779 4.4215 10.8781 4.4215 11.0004H0.778643ZM4.20007 14.4218H9.80007V10.779H4.20007V14.4218ZM9.80007 14.4218C11.6897 14.4218 13.2215 12.89 13.2215 11.0004H9.57864C9.57864 10.8781 9.67778 10.779 9.80007 10.779V14.4218ZM13.2215 11.0004V4.60039H9.57864V11.0004H13.2215ZM12 2.77896H11.4001V6.42182H12V2.77896ZM10.7786 4.00039C10.7786 3.32581 11.3254 2.77896 12 2.77896V6.42182C13.3373 6.42182 14.4214 5.33771 14.4214 4.00039H10.7786ZM12 5.22182C11.3254 5.22182 10.7786 4.67497 10.7786 4.00039H14.4214C14.4214 2.66307 13.3373 1.57896 12 1.57896V5.22182ZM11.4001 5.22182H12V1.57896H11.4001V5.22182ZM11.4001 1.57896H10.2001V5.22182H11.4001V1.57896ZM10.2001 1.57896H3.80007V5.22182H10.2001V1.57896ZM3.80007 1.57896H2.60007V5.22182H3.80007V1.57896ZM2 5.22182H2.60007V1.57896H2V5.22182ZM10.2001 2.77896H3.80007V6.42182H10.2001V2.77896ZM1.97864 4.60039V11.0004H5.6215V4.60039H1.97864ZM1.97864 11.0004C1.97864 12.2273 2.97321 13.2218 4.20007 13.2218V9.57896C4.9851 9.57896 5.6215 10.2154 5.6215 11.0004H1.97864ZM4.20007 13.2218H9.80007V9.57896H4.20007V13.2218ZM9.80007 13.2218C11.0269 13.2218 12.0215 12.2272 12.0215 11.0004H8.37864C8.37864 10.2154 9.01503 9.57896 9.80007 9.57896V13.2218ZM12.0215 11.0004V4.60039H8.37864V11.0004H12.0215Z" mask="url(#path-2-inside-1_23046_6486)"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M6.00018 5.40039C6.33155 5.40039 6.60018 5.66902 6.60018 6.00039L6.60018 9.60039C6.60018 9.93176 6.33155 10.2004 6.00018 10.2004C5.66881 10.2004 5.40018 9.93176 5.40018 9.60039L5.40018 6.00039C5.40018 5.66902 5.66881 5.40039 6.00018 5.40039Z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M8.00005 5.40039C8.33142 5.40039 8.60005 5.66902 8.60005 6.00039L8.60005 9.60039C8.60005 9.93176 8.33142 10.2004 8.00005 10.2004C7.66868 10.2004 7.40005 9.93176 7.40005 9.60039L7.40005 6.00039C7.40005 5.66902 7.66868 5.40039 8.00005 5.40039Z"></path></g></svg>',history_icon:'<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12C4 7.58172 7.58172 4 12 4C16.4183 4 20 7.58172 20 12ZM22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM13 8.99939C12.9997 8.4471 12.5517 7.99966 11.9994 8C11.4471 8.00034 10.9997 8.44833 11 9.00061L11.0024 13.0006C11.0026 13.3347 11.1697 13.6466 11.4477 13.832L14.4471 15.832C14.9066 16.1384 15.5275 16.0143 15.8339 15.5548C16.1403 15.0953 16.0161 14.4744 15.5566 14.168L13.0021 12.4647L13 8.99939Z" fill="currentColor"></path></svg>',full_screen_icon:'<svg class="svg-icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M237.248 192H352a32 32 0 1 0 0-64H160a32 32 0 0 0-32 32v192a32 32 0 1 0 64 0v-114.752l137.36 137.36a32 32 0 1 0 45.232-45.264L237.248 192zM832 237.248V352a32 32 0 1 0 64 0V160a32 32 0 0 0-32-32H672a32 32 0 1 0 0 64h114.752l-137.36 137.36a32 32 0 1 0 45.264 45.232L832 237.248zM237.248 832H352a32 32 0 1 1 0 64H160a32 32 0 0 1-32-32V672a32 32 0 1 1 64 0v114.752l137.36-137.36a32 32 0 1 1 45.232 45.264L237.248 832zM832 786.752V672a32 32 0 1 1 64 0v192a32 32 0 0 1-32 32H672a32 32 0 1 1 0-64h114.752l-137.36-137.36a32 32 0 1 1 45.264-45.232L832 786.752z"  /></svg>',arrow_icon:'<svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-chevron-right" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path d="M6.22 3.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L9.94 8 6.22 4.28a.75.75 0 0 1 0-1.06Z"></path></svg>',image_chat_settings_icon:'<svg width="20" height="20" fill="none" viewBox="0 0 20 20" style="min-width: 20px; min-height: 20px;"><g><path data-follow-fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M9.375 5.898a1.836 1.836 0 1 1-3.672 0 1.836 1.836 0 0 1 3.672 0Zm1.463.82a3.4 3.4 0 0 1-6.598 0H2.5a.781.781 0 0 1 0-1.562h1.722a3.4 3.4 0 0 1 6.634 0H17.5a.781.781 0 1 1 0 1.563h-6.662Zm3.459 7.384a1.836 1.836 0 1 1-3.672 0 1.836 1.836 0 0 1 3.672 0Zm1.463.82a3.4 3.4 0 0 1-6.598 0H2.5a.781.781 0 0 1 0-1.563h6.644a3.4 3.4 0 0 1 6.634 0H17.5a.781.781 0 1 1 0 1.563h-1.74Z" fill="currentColor" data-darkreader-inline-fill="" style="--darkreader-inline-fill: currentColor;"></path></g></svg>',regenerate_icon:'<svg width="16" height="16" fill="none" viewBox="0 0 16 16" style="min-width: 16px; min-height: 16px; margin-top: 2px;"><g><path data-follow-fill="currentColor" d="M11.767 4.233a5.3 5.3 0 0 0-4.32-1.54C5 2.94 2.987 4.927 2.714 7.373a5.323 5.323 0 0 0 10.093 2.92.668.668 0 0 0-1.187-.606 3.996 3.996 0 0 1-4.533 2.206A3.965 3.965 0 0 1 4.1 8.88 4.002 4.002 0 0 1 8 4a3.94 3.94 0 0 1 2.813 1.187L9.807 6.193c-.42.42-.127 1.14.466 1.14h2.394c.367 0 .667-.3.667-.666V4.273a.669.669 0 0 0-1.14-.473l-.427.433Z" fill="currentColor" data-darkreader-inline-fill="" style="--darkreader-inline-fill: currentColor;"></path></g></svg>',gift_icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" fill="none"><g clip-path="url(#clip0_11821_42642)"><path d="M2.18208 6.77174H11.8179M2.18208 6.77174C1.64991 6.77174 1.21851 6.34033 1.21851 5.80816V4.84458C1.21851 4.31241 1.64991 3.881 2.18208 3.881H11.8179C12.35 3.881 12.7814 4.31241 12.7814 4.84458V5.80816C12.7814 6.34033 12.35 6.77174 11.8179 6.77174M2.18208 6.77174L2.18208 11.5896C2.18208 12.1218 2.61349 12.5532 3.14566 12.5532H10.8543C11.3865 12.5532 11.8179 12.1218 11.8179 11.5896V6.77174M6.99998 3.881L9.31257 3.11014C9.67652 2.98882 9.96211 2.70323 10.0834 2.33927C10.401 1.38644 9.49454 0.479936 8.5417 0.797549C8.17775 0.918867 7.89216 1.20446 7.77084 1.56841L6.99998 3.881ZM6.99998 3.881L4.68739 3.11014C4.32344 2.98882 4.03784 2.70323 3.91653 2.33927C3.59891 1.38644 4.50541 0.479936 5.45825 0.797549C5.8222 0.918867 6.1078 1.20446 6.22911 1.56841L6.99998 3.881ZM6.99998 3.881V12.5532" stroke="currentColor" stroke-width="1.2"></path></g><defs><clipPath id="clip0_11821_42642"><rect width="14" height="14" fill="white"></rect></clipPath></defs></svg>',gift_white_icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" fill="none"><g clip-path="url(#clip0_11821_42642)"><path d="M2.18208 6.77174H11.8179M2.18208 6.77174C1.64991 6.77174 1.21851 6.34033 1.21851 5.80816V4.84458C1.21851 4.31241 1.64991 3.881 2.18208 3.881H11.8179C12.35 3.881 12.7814 4.31241 12.7814 4.84458V5.80816C12.7814 6.34033 12.35 6.77174 11.8179 6.77174M2.18208 6.77174L2.18208 11.5896C2.18208 12.1218 2.61349 12.5532 3.14566 12.5532H10.8543C11.3865 12.5532 11.8179 12.1218 11.8179 11.5896V6.77174M6.99998 3.881L9.31257 3.11014C9.67652 2.98882 9.96211 2.70323 10.0834 2.33927C10.401 1.38644 9.49454 0.479936 8.5417 0.797549C8.17775 0.918867 7.89216 1.20446 7.77084 1.56841L6.99998 3.881ZM6.99998 3.881L4.68739 3.11014C4.32344 2.98882 4.03784 2.70323 3.91653 2.33927C3.59891 1.38644 4.50541 0.479936 5.45825 0.797549C5.8222 0.918867 6.1078 1.20446 6.22911 1.56841L6.99998 3.881ZM6.99998 3.881V12.5532" stroke="#fff" stroke-width="1.2"></path></g><defs><clipPath id="clip0_11821_42642"><rect width="14" height="14" fill="white"></rect></clipPath></defs></svg>',send_icon:`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="ait-w-5 ait-h-5 ait-cursor-pointer" fill="none"' <path d="M20 12L14 6M20 12L14 18M20 12L9.5 12M4 12L6.5 12" stroke="#14746F" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>`,pin_icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pin"><line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/></svg>',unpin_icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pin-off"><line x1="2" x2="22" y1="2" y2="22"/><line x1="12" x2="12" y1="17" y2="22"/><path d="M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V17h12"/><path d="M15 9.34V6h1a2 2 0 0 0 0-4H7.89"/></svg>',voice_icon:'<svg width="16px" height="16px" viewBox="0 0 20 20" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg" class="ait-text-[var(--ait-link-color)] ait-text-[20px]"><path d="M3 9.5L3 10.5" stroke-width="2" stroke-linecap="round"></path><path d="M6.5 5.5L6.5 14.5" stroke-width="2" stroke-linecap="round"></path><path d="M10 8L10 12" stroke-width="2" stroke-linecap="round"></path><path d="M13.5 2L13.5 18" stroke-width="2" stroke-linecap="round"></path><path d="M17 6.5L17 13.5" stroke-width="2" stroke-linecap="round"></path></svg>',"GPT-3.5":'<svg  viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="8" fill="#19C37D"></circle><path d="M13.1351 6.91143C13.4073 6.09431 13.3136 5.19918 12.8782 4.45593C12.2235 3.31593 10.9072 2.72943 9.6217 3.00543C9.04983 2.36118 8.2282 1.99481 7.36683 2.00006C6.05283 1.99706 4.88695 2.84306 4.4827 4.09331C3.63858 4.26618 2.90995 4.79456 2.48358 5.54343C1.82395 6.68043 1.97433 8.11368 2.85558 9.08868C2.58333 9.9058 2.67708 10.8009 3.11245 11.5442C3.7672 12.6842 5.08345 13.2707 6.36895 12.9947C6.94045 13.6389 7.76245 14.0053 8.62383 13.9997C9.93858 14.0031 11.1048 13.1563 11.5091 11.9049C12.3532 11.7321 13.0818 11.2037 13.5082 10.4548C14.1671 9.3178 14.0163 7.88568 13.1355 6.91068L13.1351 6.91143ZM8.62458 13.2156C8.09845 13.2163 7.58883 13.0322 7.18495 12.6951C7.20333 12.6853 7.2352 12.6677 7.25583 12.6549L9.64533 11.2749C9.76758 11.2056 9.84258 11.0754 9.84183 10.9348V7.56618L10.8517 8.1493C10.8626 8.15455 10.8697 8.16505 10.8712 8.17705V10.9667C10.8697 12.2072 9.86508 13.2129 8.62458 13.2156ZM3.79308 11.1519C3.52945 10.6967 3.43458 10.1631 3.52495 9.64518C3.54258 9.65568 3.5737 9.6748 3.59583 9.68755L5.98533 11.0676C6.10645 11.1384 6.25645 11.1384 6.37795 11.0676L9.29508 9.38305V10.5493C9.29583 10.5613 9.2902 10.5729 9.28083 10.5804L6.86545 11.9751C5.78958 12.5946 4.41558 12.2263 3.79345 11.1519H3.79308ZM3.1642 5.93606C3.4267 5.48006 3.84108 5.13131 4.33458 4.95018C4.33458 4.97081 4.33345 5.00718 4.33345 5.03268V7.79305C4.3327 7.9333 4.4077 8.06343 4.52958 8.1328L7.4467 9.81693L6.43683 10.4001C6.4267 10.4068 6.41395 10.4079 6.4027 10.4031L3.98695 9.0073C2.91333 8.38555 2.54508 7.01193 3.16383 5.93643L3.1642 5.93606ZM11.4615 7.86693L8.54433 6.18243L9.5542 5.59968C9.56433 5.59293 9.57708 5.59181 9.58833 5.59668L12.0041 6.9913C13.0796 7.61268 13.4482 8.98855 12.8268 10.0641C12.564 10.5193 12.15 10.8681 11.6568 11.0496V8.20668C11.658 8.06643 11.5833 7.93668 11.4618 7.86693H11.4615ZM12.4665 6.35418C12.4488 6.34331 12.4177 6.32456 12.3956 6.31181L10.0061 4.93181C9.88495 4.86093 9.73495 4.86093 9.61345 4.93181L6.69633 6.6163V5.45006C6.69558 5.43806 6.7012 5.42643 6.71058 5.41893L9.12595 4.02543C10.2018 3.40481 11.5773 3.77418 12.1976 4.85043C12.4597 5.30493 12.5546 5.83706 12.4657 6.35418H12.4665ZM6.14733 8.4328L5.13708 7.84968C5.1262 7.84443 5.11908 7.83393 5.11758 7.82193V5.03231C5.11833 3.79031 6.12595 2.78381 7.36795 2.78456C7.89333 2.78456 8.40183 2.96906 8.8057 3.30506C8.78733 3.31481 8.75583 3.33243 8.73483 3.34518L6.34533 4.72518C6.22308 4.79456 6.14808 4.92431 6.14883 5.06493L6.14733 8.43205V8.4328ZM6.69595 7.25005L7.99533 6.49968L9.2947 7.24968V8.75005L7.99533 9.50005L6.69595 8.75005V7.25005Z" fill="white"></path></svg>',"GPT-4o":'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="8" fill="#28044a"></circle><path d="M13.1351 6.91143C13.4073 6.0943 13.3136 5.19918 12.8782 4.45593C12.2235 3.31593 10.9072 2.72943 9.6217 3.00543C9.04983 2.36118 8.2282 1.99481 7.36683 2.00006C6.05283 1.99706 4.88695 2.84306 4.4827 4.09331C3.63858 4.26618 2.90995 4.79456 2.48358 5.54343C1.82395 6.68043 1.97433 8.11368 2.85558 9.08868C2.58333 9.9058 2.67708 10.8009 3.11245 11.5442C3.7672 12.6842 5.08345 13.2707 6.36895 12.9947C6.94045 13.6389 7.76245 14.0053 8.62383 13.9997C9.93858 14.0031 11.1048 13.1563 11.5091 11.9049C12.3532 11.7321 13.0818 11.2037 13.5082 10.4548C14.1671 9.3178 14.016 7.88643 13.1351 6.91143ZM8.62458 13.2156C8.09845 13.2163 7.58883 13.0322 7.18495 12.6951C7.20333 12.6853 7.2352 12.6677 7.25583 12.6549L9.64533 11.2749C9.76758 11.2056 9.84258 11.0754 9.84183 10.9348V7.56618L10.8517 8.1493C10.8626 8.15455 10.8697 8.16505 10.8712 8.17705V10.9667C10.8697 12.2072 9.86508 13.2129 8.62458 13.2156ZM3.79308 11.1519C3.52945 10.6967 3.43458 10.1631 3.52495 9.64518C3.54258 9.65568 3.5737 9.6748 3.59583 9.68755L5.98533 11.0676C6.10645 11.1384 6.25645 11.1384 6.37795 11.0676L9.29508 9.38305V10.5493C9.29583 10.5613 9.2902 10.5729 9.28083 10.5804L6.86545 11.9751C5.78958 12.5946 4.4152 12.2263 3.79308 11.1519ZM3.1642 5.93605C3.4267 5.48006 3.84108 5.13131 4.33458 4.95018C4.33458 4.97081 4.33345 5.00718 4.33345 5.03268V7.79305C4.3327 7.9333 4.4077 8.06343 4.52958 8.1328L7.4467 9.81693L6.43683 10.4001C6.4267 10.4068 6.41395 10.4079 6.4027 10.4031L3.98695 9.0073C2.91333 8.38555 2.54545 7.01155 3.1642 5.93605ZM11.4615 7.86693L8.54433 6.18243L9.5542 5.59968C9.56433 5.59293 9.57708 5.59181 9.58833 5.59668L12.0041 6.9913C13.0796 7.61268 13.4482 8.98855 12.8268 10.0641C12.564 10.5193 12.15 10.8681 11.6568 11.0496V8.20668C11.658 8.06643 11.583 7.93668 11.4615 7.86693ZM12.4665 6.35418C12.4488 6.34331 12.4177 6.32455 12.3956 6.3118L10.0061 4.93181C9.88495 4.86093 9.73495 4.86093 9.61345 4.93181L6.69633 6.6163V5.45005C6.69558 5.43805 6.7012 5.42643 6.71058 5.41893L9.12595 4.02543C10.2018 3.40481 11.5773 3.77418 12.1976 4.85043C12.4597 5.30493 12.5553 5.83706 12.4665 6.35418ZM6.14733 8.4328L5.13708 7.84968C5.1262 7.84443 5.11908 7.83393 5.11758 7.82193V5.03231C5.11833 3.79031 6.12595 2.78381 7.36795 2.78456C7.89333 2.78456 8.40183 2.96906 8.8057 3.30506C8.78733 3.31481 8.75583 3.33243 8.73483 3.34518L6.34533 4.72518C6.22308 4.79456 6.14808 4.92431 6.14883 5.06493L6.14733 8.4328ZM6.69595 7.25005L7.99533 6.49968L9.2947 7.24968V8.75005L7.99533 9.50005L6.69595 8.75005V7.25005Z" fill="#7cf178"></path></svg>',"GPT-4":'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="8" fill="#AB68E1"></circle><path d="M13.1351 6.91143C13.4073 6.0943 13.3136 5.19918 12.8782 4.45593C12.2235 3.31593 10.9072 2.72943 9.6217 3.00543C9.04983 2.36118 8.2282 1.99481 7.36683 2.00006C6.05283 1.99706 4.88695 2.84306 4.4827 4.09331C3.63858 4.26618 2.90995 4.79456 2.48358 5.54343C1.82395 6.68043 1.97433 8.11368 2.85558 9.08868C2.58333 9.9058 2.67708 10.8009 3.11245 11.5442C3.7672 12.6842 5.08345 13.2707 6.36895 12.9947C6.94045 13.6389 7.76245 14.0053 8.62383 13.9997C9.93858 14.0031 11.1048 13.1563 11.5091 11.9049C12.3532 11.7321 13.0818 11.2037 13.5082 10.4548C14.1671 9.3178 14.016 7.88643 13.1351 6.91143ZM8.62458 13.2156C8.09845 13.2163 7.58883 13.0322 7.18495 12.6951C7.20333 12.6853 7.2352 12.6677 7.25583 12.6549L9.64533 11.2749C9.76758 11.2056 9.84258 11.0754 9.84183 10.9348V7.56618L10.8517 8.1493C10.8626 8.15455 10.8697 8.16505 10.8712 8.17705V10.9667C10.8697 12.2072 9.86508 13.2129 8.62458 13.2156ZM3.79308 11.1519C3.52945 10.6967 3.43458 10.1631 3.52495 9.64518C3.54258 9.65568 3.5737 9.6748 3.59583 9.68755L5.98533 11.0676C6.10645 11.1384 6.25645 11.1384 6.37795 11.0676L9.29508 9.38305V10.5493C9.29583 10.5613 9.2902 10.5729 9.28083 10.5804L6.86545 11.9751C5.78958 12.5946 4.4152 12.2263 3.79308 11.1519ZM3.1642 5.93605C3.4267 5.48006 3.84108 5.13131 4.33458 4.95018C4.33458 4.97081 4.33345 5.00718 4.33345 5.03268V7.79305C4.3327 7.9333 4.4077 8.06343 4.52958 8.1328L7.4467 9.81693L6.43683 10.4001C6.4267 10.4068 6.41395 10.4079 6.4027 10.4031L3.98695 9.0073C2.91333 8.38555 2.54545 7.01155 3.1642 5.93605ZM11.4615 7.86693L8.54433 6.18243L9.5542 5.59968C9.56433 5.59293 9.57708 5.59181 9.58833 5.59668L12.0041 6.9913C13.0796 7.61268 13.4482 8.98855 12.8268 10.0641C12.564 10.5193 12.15 10.8681 11.6568 11.0496V8.20668C11.658 8.06643 11.583 7.93668 11.4615 7.86693ZM12.4665 6.35418C12.4488 6.34331 12.4177 6.32455 12.3956 6.3118L10.0061 4.93181C9.88495 4.86093 9.73495 4.86093 9.61345 4.93181L6.69633 6.6163V5.45005C6.69558 5.43805 6.7012 5.42643 6.71058 5.41893L9.12595 4.02543C10.2018 3.40481 11.5773 3.77418 12.1976 4.85043C12.4597 5.30493 12.5553 5.83706 12.4665 6.35418ZM6.14733 8.4328L5.13708 7.84968C5.1262 7.84443 5.11908 7.83393 5.11758 7.82193V5.03231C5.11833 3.79031 6.12595 2.78381 7.36795 2.78456C7.89333 2.78456 8.40183 2.96906 8.8057 3.30506C8.78733 3.31481 8.75583 3.33243 8.73483 3.34518L6.34533 4.72518C6.22308 4.79456 6.14808 4.92431 6.14883 5.06493L6.14733 8.4328ZM6.69595 7.25005L7.99533 6.49968L9.2947 7.24968V8.75005L7.99533 9.50005L6.69595 8.75005V7.25005Z" fill="white"></path></svg>',"Claude 3 Haiku":`<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 16 16" fill="none"><rect width='100%' height='100%' rx="8" fill="#F0E8D6"></rect><path d="M4.67668 9.70835L6.71408 8.5651L6.74817 8.46546L6.71408 8.41039H6.61444L6.27356 8.38941L5.10934 8.35795L4.09981 8.31599L3.12176 8.26355L2.87528 8.21111L2.64453 7.90694L2.66813 7.75486L2.87528 7.61588L3.17158 7.64211L3.82711 7.68668L4.81041 7.75486L5.52363 7.79681L6.58035 7.90694H6.74817L6.77177 7.83877L6.71408 7.79681L6.6695 7.75486L5.65212 7.06524L4.55082 6.33628L3.97395 5.91674L3.66192 5.70435L3.50459 5.50507L3.43642 5.06979L3.71961 4.75776L4.09981 4.78398L4.19683 4.8102L4.58229 5.1065L5.40564 5.74368L6.48071 6.53557L6.63804 6.66667L6.70097 6.6221L6.70884 6.59063L6.63804 6.47264L6.0533 5.41592L5.42924 4.34084L5.15129 3.89508L5.07787 3.62762C5.05165 3.51749 5.03329 3.42572 5.03329 3.31297L5.35582 2.87507L5.53412 2.81738L5.96415 2.87507L6.14508 3.0324L6.41253 3.64335L6.84519 4.60568L7.51645 5.91412L7.71311 6.3022L7.818 6.66143L7.85733 6.77156H7.92551V6.70863L7.98057 5.97181L8.08283 5.06717L8.18247 3.90295L8.21656 3.57518L8.37913 3.18186L8.70166 2.96947L8.95338 3.09008L9.16053 3.38639L9.13169 3.5778L9.00845 4.37755L8.76721 5.63093L8.60988 6.47001H8.70166L8.80654 6.36513L9.23133 5.80137L9.94455 4.90984L10.2592 4.55586L10.6263 4.16516L10.8623 3.97899H11.3081L11.6358 4.4667L11.489 4.97015L11.0301 5.55227L10.6499 6.04523L10.1045 6.77942L9.76362 7.36678L9.79509 7.41398L9.87637 7.40611L11.1088 7.1439L11.7748 7.02328L12.5693 6.88693L12.9285 7.05475L12.9679 7.22519L12.8263 7.57393L11.9767 7.7837L10.9803 7.98298L9.49616 8.33435L9.47781 8.34746L9.49878 8.37368L10.1674 8.43661L10.4532 8.45234H11.1533L12.4565 8.54936L12.7974 8.77487L13.002 9.05019L12.9679 9.25996L12.4434 9.52742L11.7355 9.3596L10.0835 8.96628L9.51714 8.82469H9.43848V8.87189L9.91046 9.33338L10.7758 10.1148L11.8587 11.1217L11.9138 11.3708L11.7748 11.5674L11.628 11.5465L10.6761 10.8306L10.309 10.5081L9.47781 9.80799H9.42274V9.88141L9.61416 10.162L10.6263 11.6828L10.6787 12.1496L10.6053 12.3016L10.3431 12.3934L10.0547 12.341L9.46207 11.5097L8.85112 10.5736L8.35816 9.73457L8.29785 9.76865L8.00679 12.9021L7.87044 13.0621L7.55578 13.1827L7.29357 12.9834L7.1546 12.6609L7.29357 12.0237L7.46139 11.1925L7.59774 10.5317L7.72098 9.71097L7.7944 9.43827L7.78915 9.41991L7.72885 9.42778L7.11002 10.2773L6.16868 11.5491L5.42399 12.3462L5.24569 12.417L4.93627 12.2571L4.96512 11.9712L5.13818 11.7169L6.16868 10.4058L6.79012 9.59297L7.19131 9.12361L7.18869 9.05544H7.16509L4.42758 10.8332L3.93986 10.8962L3.73009 10.6995L3.75632 10.377L3.85596 10.2721L4.67931 9.70572L4.67668 9.70835Z" fill="#D97757"></path></svg>`,"Claude 3 Sonnet":`<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 16 16" fill="none"><rect width='100%' height='100%' rx="8" fill="#F0E8D6"></rect><path d="M4.67668 9.70835L6.71408 8.5651L6.74817 8.46546L6.71408 8.41039H6.61444L6.27356 8.38941L5.10934 8.35795L4.09981 8.31599L3.12176 8.26355L2.87528 8.21111L2.64453 7.90694L2.66813 7.75486L2.87528 7.61588L3.17158 7.64211L3.82711 7.68668L4.81041 7.75486L5.52363 7.79681L6.58035 7.90694H6.74817L6.77177 7.83877L6.71408 7.79681L6.6695 7.75486L5.65212 7.06524L4.55082 6.33628L3.97395 5.91674L3.66192 5.70435L3.50459 5.50507L3.43642 5.06979L3.71961 4.75776L4.09981 4.78398L4.19683 4.8102L4.58229 5.1065L5.40564 5.74368L6.48071 6.53557L6.63804 6.66667L6.70097 6.6221L6.70884 6.59063L6.63804 6.47264L6.0533 5.41592L5.42924 4.34084L5.15129 3.89508L5.07787 3.62762C5.05165 3.51749 5.03329 3.42572 5.03329 3.31297L5.35582 2.87507L5.53412 2.81738L5.96415 2.87507L6.14508 3.0324L6.41253 3.64335L6.84519 4.60568L7.51645 5.91412L7.71311 6.3022L7.818 6.66143L7.85733 6.77156H7.92551V6.70863L7.98057 5.97181L8.08283 5.06717L8.18247 3.90295L8.21656 3.57518L8.37913 3.18186L8.70166 2.96947L8.95338 3.09008L9.16053 3.38639L9.13169 3.5778L9.00845 4.37755L8.76721 5.63093L8.60988 6.47001H8.70166L8.80654 6.36513L9.23133 5.80137L9.94455 4.90984L10.2592 4.55586L10.6263 4.16516L10.8623 3.97899H11.3081L11.6358 4.4667L11.489 4.97015L11.0301 5.55227L10.6499 6.04523L10.1045 6.77942L9.76362 7.36678L9.79509 7.41398L9.87637 7.40611L11.1088 7.1439L11.7748 7.02328L12.5693 6.88693L12.9285 7.05475L12.9679 7.22519L12.8263 7.57393L11.9767 7.7837L10.9803 7.98298L9.49616 8.33435L9.47781 8.34746L9.49878 8.37368L10.1674 8.43661L10.4532 8.45234H11.1533L12.4565 8.54936L12.7974 8.77487L13.002 9.05019L12.9679 9.25996L12.4434 9.52742L11.7355 9.3596L10.0835 8.96628L9.51714 8.82469H9.43848V8.87189L9.91046 9.33338L10.7758 10.1148L11.8587 11.1217L11.9138 11.3708L11.7748 11.5674L11.628 11.5465L10.6761 10.8306L10.309 10.5081L9.47781 9.80799H9.42274V9.88141L9.61416 10.162L10.6263 11.6828L10.6787 12.1496L10.6053 12.3016L10.3431 12.3934L10.0547 12.341L9.46207 11.5097L8.85112 10.5736L8.35816 9.73457L8.29785 9.76865L8.00679 12.9021L7.87044 13.0621L7.55578 13.1827L7.29357 12.9834L7.1546 12.6609L7.29357 12.0237L7.46139 11.1925L7.59774 10.5317L7.72098 9.71097L7.7944 9.43827L7.78915 9.41991L7.72885 9.42778L7.11002 10.2773L6.16868 11.5491L5.42399 12.3462L5.24569 12.417L4.93627 12.2571L4.96512 11.9712L5.13818 11.7169L6.16868 10.4058L6.79012 9.59297L7.19131 9.12361L7.18869 9.05544H7.16509L4.42758 10.8332L3.93986 10.8962L3.73009 10.6995L3.75632 10.377L3.85596 10.2721L4.67931 9.70572L4.67668 9.70835Z" fill="black" fill-opacity="0.92"></path></svg>`,"Claude 3 Opus":`<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 16 16" fill="none"><rect width='100%' height='100%' rx="8" fill="#C36E51"></rect><path d="M4.67668 9.70835L6.71408 8.5651L6.74817 8.46546L6.71408 8.41039H6.61444L6.27356 8.38941L5.10934 8.35795L4.09981 8.31599L3.12176 8.26355L2.87528 8.21111L2.64453 7.90694L2.66813 7.75486L2.87528 7.61588L3.17158 7.64211L3.82711 7.68668L4.81041 7.75486L5.52363 7.79681L6.58035 7.90694H6.74817L6.77177 7.83877L6.71408 7.79681L6.6695 7.75486L5.65212 7.06524L4.55082 6.33628L3.97395 5.91674L3.66192 5.70435L3.50459 5.50507L3.43642 5.06979L3.71961 4.75776L4.09981 4.78398L4.19683 4.8102L4.58229 5.1065L5.40564 5.74368L6.48071 6.53557L6.63804 6.66667L6.70097 6.6221L6.70884 6.59063L6.63804 6.47264L6.0533 5.41592L5.42924 4.34084L5.15129 3.89508L5.07787 3.62762C5.05165 3.51749 5.03329 3.42572 5.03329 3.31297L5.35582 2.87507L5.53412 2.81738L5.96415 2.87507L6.14508 3.0324L6.41253 3.64335L6.84519 4.60568L7.51645 5.91412L7.71311 6.3022L7.818 6.66143L7.85733 6.77156H7.92551V6.70863L7.98057 5.97181L8.08283 5.06717L8.18247 3.90295L8.21656 3.57518L8.37913 3.18186L8.70166 2.96947L8.95338 3.09008L9.16053 3.38639L9.13169 3.5778L9.00845 4.37755L8.76721 5.63093L8.60988 6.47001H8.70166L8.80654 6.36513L9.23133 5.80137L9.94455 4.90984L10.2592 4.55586L10.6263 4.16516L10.8623 3.97899H11.3081L11.6358 4.4667L11.489 4.97015L11.0301 5.55227L10.6499 6.04523L10.1045 6.77942L9.76362 7.36678L9.79509 7.41398L9.87637 7.40611L11.1088 7.1439L11.7748 7.02328L12.5693 6.88693L12.9285 7.05475L12.9679 7.22519L12.8263 7.57393L11.9767 7.7837L10.9803 7.98298L9.49616 8.33435L9.47781 8.34746L9.49878 8.37368L10.1674 8.43661L10.4532 8.45234H11.1533L12.4565 8.54936L12.7974 8.77487L13.002 9.05019L12.9679 9.25996L12.4434 9.52742L11.7355 9.3596L10.0835 8.96628L9.51714 8.82469H9.43848V8.87189L9.91046 9.33338L10.7758 10.1148L11.8587 11.1217L11.9138 11.3708L11.7748 11.5674L11.628 11.5465L10.6761 10.8306L10.309 10.5081L9.47781 9.80799H9.42274V9.88141L9.61416 10.162L10.6263 11.6828L10.6787 12.1496L10.6053 12.3016L10.3431 12.3934L10.0547 12.341L9.46207 11.5097L8.85112 10.5736L8.35816 9.73457L8.29785 9.76865L8.00679 12.9021L7.87044 13.0621L7.55578 13.1827L7.29357 12.9834L7.1546 12.6609L7.29357 12.0237L7.46139 11.1925L7.59774 10.5317L7.72098 9.71097L7.7944 9.43827L7.78915 9.41991L7.72885 9.42778L7.11002 10.2773L6.16868 11.5491L5.42399 12.3462L5.24569 12.417L4.93627 12.2571L4.96512 11.9712L5.13818 11.7169L6.16868 10.4058L6.79012 9.59297L7.19131 9.12361L7.18869 9.05544H7.16509L4.42758 10.8332L3.93986 10.8962L3.73009 10.6995L3.75632 10.377L3.85596 10.2721L4.67931 9.70572L4.67668 9.70835Z" fill="black" fill-opacity="0.92"></path></svg>`,"Gemini 1.0 Pro":`<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 16 16" fill="none"><rect width='100%' height='100%' rx="8" fill="#F3F3FA"></rect><path d="M8 14C8 13.17 7.84002 12.39 7.52 11.66C7.21002 10.93 6.785 10.295 6.245 9.755C5.705 9.215 5.07 8.78998 4.34 8.48C3.61 8.15998 2.83 8 2 8C2.83 8 3.61 7.84498 4.34 7.535C5.07 7.21498 5.705 6.785 6.245 6.245C6.785 5.705 7.21002 5.07 7.52 4.34C7.84002 3.61 8 2.83 8 2C8 2.83 8.15502 3.61 8.465 4.34C8.78502 5.07 9.215 5.705 9.755 6.245C10.295 6.785 10.93 7.21498 11.66 7.535C12.39 7.84498 13.17 8 14 8C13.17 8 12.39 8.15998 11.66 8.48C10.93 8.78998 10.295 9.215 9.755 9.755C9.215 10.295 8.78502 10.93 8.465 11.66C8.15502 12.39 8 13.17 8 14Z" fill="url(#paint0_radial_31840_116010.8188744257018719)"></path><defs><radialGradient id="paint0_radial_31840_116010.8188744257018719" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(3.1909 6.87693) rotate(18.6832) scale(12.7725 102.316)"><stop offset="0.0671246" stop-color="#9168C0"></stop><stop offset="0.342551" stop-color="#5684D1"></stop><stop offset="0.672076" stop-color="#1BA1E3"></stop></radialGradient></defs></svg>`,"Gemini 1.5 Pro":`<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 16 16" fill="none"><rect width='100%' height='100%' rx="8" fill="#000002"></rect><path d="M8 14C8 13.17 7.84002 12.39 7.52 11.66C7.21002 10.93 6.785 10.295 6.245 9.755C5.705 9.215 5.07 8.78998 4.34 8.48C3.61 8.15998 2.83 8 2 8C2.83 8 3.61 7.84498 4.34 7.535C5.07 7.21498 5.705 6.785 6.245 6.245C6.785 5.705 7.21002 5.07 7.52 4.34C7.84002 3.61 8 2.83 8 2C8 2.83 8.15502 3.61 8.465 4.34C8.78502 5.07 9.215 5.705 9.755 6.245C10.295 6.785 10.93 7.21498 11.66 7.535C12.39 7.84498 13.17 8 14 8C13.17 8 12.39 8.15998 11.66 8.48C10.93 8.78998 10.295 9.215 9.755 9.755C9.215 10.295 8.78502 10.93 8.465 11.66C8.15502 12.39 8 13.17 8 14Z" fill="url(#paint0_radial_38740_116090.18929996496507928)"></path><defs><radialGradient id="paint0_radial_38740_116090.18929996496507928" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(3.1909 6.87693) rotate(18.6832) scale(12.7725 102.316)"><stop offset="0.0671246" stop-color="#9168C0"></stop><stop offset="0.342551" stop-color="#5684D1"></stop><stop offset="0.672076" stop-color="#1BA1E3"></stop></radialGradient></defs></svg>`},K={init(){if(location.search.indexOf("__aitopia_developer_mode__")!==-1&&(this.is_dev=!0),this!=null&&this.developer&&(_.notUndefined(this.developer,"beta_api")&&(this.constants.api_url=`https://beta_api.${this.constants.domain}`),_.notUndefined(this.developer,"debug_log")&&(this.constants.debugMode=1)),this.storageExpires(),_.Browser().storage.local.set({migration_status:!0}).then(),this.migration_status=!0,_.addLoading(),typeof window.ai_run<"u")return;window.ai_run=!0,this.run=!0,this.stc=0,this.constants.runtime_id==null&&window&&window.addEventListener("message",s=>_.sendMessageListener(s.data,null,null,!0),!1),this.storage.listener(this),this.defaultSettings(),this.changeColorMode(),this.changeSettings(),this.domain!=null&&this.constants.runtime_id!=null&&_.domainByUrls(this.domain),_.Browser().storage.local.get("language_variables").then(s=>{_.notUndefined(s,"language_variables")||this.getLanguages(!0)}),typeof document<"u"&&document.addEventListener("keydown",this.keyAction),this.storage.Local.ai_chat?this.ai_chat=this.storage.Local.ai_chat:this.newChat();let t;if(window&&window.location.host&&(window.location.host.split(".").length>2?(t=window.location.host.split("."),delete t[0],t=Object.values(t).join(".").toString()):t=window.location.host),this.constants.domain_allows.indexOf(t)!==-1){if(_.changeSiteLanguage(),window.location.href.indexOf("/payment")!=-1){let c=0,u=setInterval(()=>{window.location.href.indexOf("?thank_you")!=-1&&c==0&&(c=1,clearInterval(u),_.sendMessage("tabExtensionPage",{url:this.constants.extension_payment_success,filter_url:"/payment?thank_you",filters:{}}))},10)}(window.location.href.indexOf("/subscription?thank_you")!=-1||window.location.href.indexOf("/auth?logout")!=-1||window.location.href.indexOf("?login=success")!=-1||window.location.href.indexOf("/subscription")!=-1||window.location.href.indexOf("check_plan_by_uuid_chatgpt_sidebar")!=-1||window.location.href.indexOf("/invited?register=success")!=-1||window.location.href.indexOf("/setup")!=-1)&&(window.history.pushState(null,document.title,window.location.href.split("?")[0]),_.sendMessage("uuid",{data:1}));let s=!1;if(window.location.href.indexOf("/setup")!=-1){(document.querySelector(".setup_page #pin-step.hidden")==null||document.querySelector(".setup_page #login-step.hidden")==null)&&this.sidebarToggle(!1);var e=!1,a=!1,n=setInterval(()=>{if(s)return;let c=document.querySelector(".setup_page #check_toolbar");(c.value==="false"||c.value===!1)&&_.sendMessage("action.getUserSettings",{},"Helpers.isPinned"),e==!1&&document.querySelector(".setup_page #pin-step.hidden")!=null&&(e=!0,this.sidebarToggle(!1)),a==!1&&document.querySelector(".setup_page #login-step.hidden")!=null&&(a=!0,e=!0,_.sendMessage("uuid",{data:1})),document.querySelector(".setup_page #finish-step.hidden")==null&&s==!1&&(typeof this.storage.Local.ai_setup>"u"&&(this.sidebarToggle(!0),_.Browser().storage.local.set({ai_setup:!0}).then()),s=!0,n&&clearInterval(n))},1e3)}}},async checkSiteAuthChange(){typeof window<"u"&&window.getCookie("aitopia_check_login")&&(window.eraseCookie("aitopia_check_login"),_.sendMessage("uuid",{data:1}))},changeListener(t="session",e="change",a={},n={},s=!1){if(typeof this[e]<"u"&&(typeof n=="string"&&(n=_.JsonParse(n)),typeof a=="string"&&(a=_.JsonParse(a)),this[e]=a),e=="migration"||e=="migration_status"){e=="migration_status"&&(this.storage.Local.migration_status=this.migrate_status=a);return}this.checkSiteAuthChange();let c=!1;if(e=="credit_detail"&&(this.credit_details=a,c=!0),e=="credit_detail_visual"&&(this.credit_detail_visual=a,c=!0),e=="email"&&(this.email=a,c=!0),e=="ai_models"&&(this.ai_models=a,c=!0),e.includes("ai_single_")&&(this[e]=a,console.log(e),this.$data[e]=a,this.ai_single==null&&(this.ai_single={}),this.ai_single||(this.ai_single={}),this.ai_single[e.replace("ai_single_","")]=a,console.log(e),c=!0),e=="ai_single"&&(this.ai_single=a,c=!0),e=="ai_chat"&&(this.ai_chat=T.ai_chat=a!=null?Object.values(a):[],c=!0),this.constants.debugMode&&console.log(t,e,a),typeof this.storage[t]=="object"&&(this.storage[t][e]=a),typeof this[e]<"u"&&(this[e]=a),e=="settings"&&this.storage.build().then(u=>{this.storage=u,this.changeSettings()}),e=="ai_single"&&(J.change(),c=!0),e=="settings"&&(this.credit_model=_.notUndefined(a,"ai_model"),_.notUndefined(a,"switchbar")!=_.notUndefined(n,"switchbar")&&(this.SettingsCatchbyCallApi(),this.clearText()),_.notUndefined(a,"language")!=_.notUndefined(n,"language")&&this.getLanguages(!0,_.notUndefined(a,"language")),c=!0),e=="settings"&&a==null&&console.error(e,a),e!="start_scrap"&&c&&!this.migration_status&&!s){let u={},d=t.toLowerCase();u[d]={},u[d][e]=_.JsonParse(a),u[d].migration=new Date().getTime(),_.Browser().storage.local.set({migration:u[d].migration}),_.sendMessage("SyncAppAndExtensionOrTabs",{data:{storage:u}})}},finish(){if(this.getPrompts().then(async t=>await this.getPromptSettings(t)).then(()=>{Z.build(this),this.getAiContextPrompts(),ct.build(this)}),this.tabMenuUrl(),this.tabMenu(),this.fullTabMenu(),(typeof this.storage.Local.uuid_hopekey>"u"||typeof this.storage.Local.uuid_search>"u"||typeof this.storage.Local.credit_detail>"u")&&_.sendMessage("uuid",{}),setTimeout(()=>{J.build(this)},1e3),this.clickListener(),this.clearText(),_.scrollToBottom(),_.onMessageListener(),this.tooltip(),_.Browser().storage.local.set({migration_status:!1}),_.sendMessage("SyncAppAndExtensionOrTabs"),this.constants.mode!="production"&&this.syncLangVar(),this.dropdownUnique(),document&&document.querySelector('[role="presentation"] #zoom')!==null&&document.querySelector("#aitopia-sidebar-opener")!==null){let t=document.querySelector("#aitopia-sidebar-opener"),e={bottom:"160px"};Object.assign(t.style,e),console.log(t.style)}this.SettingsCatchbyCallApi()},clickListener(){let t=this;document.addEventListener("click",function(e){let a=e.target;if(K.dropdownInit(e),typeof t.constants!=null){let s=t.constants.click_open_url;Object.keys(s).forEach(c=>{if(a.closest(`.${c}`)&&(a=a.closest(`.${c}`)),Object.values(a.classList).indexOf(c)!=-1){let u=s[c];typeof t.constants[u]<"u"&&(u=t.constants[u]),t.clickOpenPage(u)}})}if(Object.values(a.classList).indexOf("aitopia-ask-search")!=-1)J.build(t,"GPT-3.5",!0,!0,"click");else if(Object.values(a.classList).indexOf("aitopia-gpt-4")!=-1){let s=a.closest("[data-key]").getAttribute("data-key");if(!_.notUndefined(T.ai_single,`${s}.0.item`))return;let c=_.notUndefined(T.ai_single,`${s}.0.item`);if(c==null)return;let u=_.notUndefined(T.ai_single,`${s}.0.extra_data`)??{};at.build(t,s,c,"GPT-4",null,null,!1,u)}else if(Object.values(a.classList).indexOf("ait-continue-btn")!==-1){console.log("continue is clicked");let s=a.closest("[data-key]").getAttribute("data-key")??null;s!=null&&(T.ai_extra_key=s),T.ai_single!=null&&typeof T.ai_single[T.ai_extra_key]<"u"&&(typeof T.ai_single[T.ai_extra_key].ai_single<"u"?(t.newChat(T.ai_single[T.ai_extra_key].ai_single),t.sidebarToggle(!0)):(t.newChat(T.ai_single[T.ai_extra_key]),t.sidebarToggle(!0)),t.changeStorage("settings.switchbar","chat",!1))}else Object.values(a.classList).indexOf("ait-action-question")!=-1&&(j.instance=this,j.chat(a.innerText,t.settings.ai_model,"ai_chat","__all",!0,!1));let n=!1;if((Object.values(a.classList).indexOf("aitopia-result-copy")!=-1||a.closest(".aitopia-result-copy")!=null)&&(n=!0),n){let s=a.closest(".ait-response").querySelector(".ai_result").innerText;_.copyClipboard(s)}if(a){if(a.closest(".ait-continue-chat")){let u=a.closest(".ait-continue-chat").id.replace(/ait-continue-chat-/g,""),d="__all";a.closest(".ait-response")!=null&&(d=a.closest(".ait-response").getAttribute("data-key"));let h=a.getAttribute("data-title")??t.__("Continue");j.instance=this,j.chat(h,t.settings.ai_model,u,d,!0,!1,null,!0)}let s=!1;a.getAttribute("class")!=null&&a.getAttribute("class").indexOf("ait-back-pricing")!==-1&&(s=!0),(s||a.closest(".ait-back-pricing")!==null)&&_.sendMessage("tabExtensionPage",{url:t.constants.extension_pricing,filters:{active:!0,lastFocusedWindow:!0}})}})},clickOpenPage(t){return _.sendMessage("openPage",{url:t})},sidebarToggle(t=null,e=null){let a=!1,n=!1;if(!this.constants.is_web_app){if(e){if(e.target.closest("#aitopia-sidepanel")&&!document.querySelector("#aitopia-container.close-sidebar"))n=!0;else if(document.querySelector("#aitopia-sidepanel #aitopia-container.close-sidebar")){document.querySelector("#aitopia-container.close-sidebar").classList.remove("close-sidebar");return}}document.querySelector("#aitopia-sidepanel")&&n?typeof _.Browser().sidePanel<"u"&&_.Browser().sidePanel.setOptions({enabled:!1}):document.querySelector("#aitopia-container")&&document.querySelector("#aitopia-container #aitopia-sidebar")&&(typeof t!="boolean"&&(a=!0),(t==null||typeof t!="boolean")&&(t=this.show_sidebar!=!0),_.Browser().storage.local.set({show_sidebar:t}).then(),t==!0?(((document.querySelector("body").getAttribute("id")??"").indexOf("aitopia")==-1||document.querySelector("#aitopia-container.close-sidebar")||a)&&(document.querySelector("#aitopia-container").classList.remove("close-sidebar"),document.querySelector("#aitopia-container").classList.add("show-sidebar")),document.querySelector("#aitopia-sidebar-opener").classList.remove("ait-show"),document.querySelector("#aitopia-sidebar-opener").classList.add("ait-hide")):(document.querySelector("#aitopia-container").classList.remove("show-sidebar"),document.querySelector("#aitopia-container").classList.add("close-sidebar"),this.settings.sidebar_show_icon&&(document.querySelector("#aitopia-sidebar-opener").classList.add("ait-show"),document.querySelector("#aitopia-sidebar-opener").classList.remove("ait-hide")))),this.clearText()}},changeAi(t,e){this.ai_chat[e]={item:t,role:"system"}},elementRemove(t){return document.querySelector(t).remove(),!0},getUri:t=>_.Browser().runtime.getURL(t),emptyMethod:()=>{},html(...t){this.constants.debugMode&&console.log(t)},combinationSet(t,e){t.target&&typeof t.target.value<"u"&&(t.target.value=e.join("+"),t.target.dispatchEvent(new Event("change")))},keyAction(t,e={ctrl:!0,shift:!0,key:"enter"},a=n=>n){t.key=="Escape"&&this.sidebarToggle(!1);let n={};if((t.ctrlKey||t.metaKey)&&(n.ctrl="ctrl"),t.altKey&&(n.alt="alt"),t.altgrKey&&(n.altgr="altgr"),t.shiftKey&&(n.shift="shift"),t.key&&typeof t.key.toLowerCase=="function"){let d=t.key.toLowerCase();d=="control"&&(d="ctrl"),d&&(n[d]=d)}let s=Object.values(n).join("+");Object.keys(this.settings).forEach(d=>{if(d.indexOf("_cmd")!==-1){if(d=="sidebar_cmd"){let h=this.settings[d];h.length>0&&s.toLowerCase()==h.toLowerCase()&&_.Browser().storage.local.get("show_sidebar").then(g=>{this.sidebarToggle(g.show_sidebar!=!0)})}else if(d=="send_cmd"){let h=this.settings[d];if(h.length>0&&s.toLowerCase()==h.toLowerCase()&&t.target.closest(".ait-border")!=null&&(t.target.closest(".ait-border").querySelector("#ask")!=null&&(String(this.ai_ask).trim().length>2&&this.ai_ask!=""&&this.ai_ask!=null?(t.target.closest(".ait-border").classList.remove("input-error"),this.constants.debugMode&&console.log(Date()),j.instance=this,j.chat(this.ai_ask,this.settings.ai_model,"ai_chat","__all",!0,!1),this.ai_ask=null):(this.constants.debugMode&&console.log(t.target),t.target.closest(".ait-border").classList.add("input-error")),t.preventDefault(),t.stopPropagation()),t.target.getAttribute("id")!=null&&t.target.id=="ait-prompt-selection")){let g=t.target;String(g.value).trim().length>2?(g.classList.remove("input-error"),this.constants.debugMode&&console.log(Date()),t.target.closest("#ait-prompt-container").querySelector("#ait-prompt-submit").click()):(this.constants.debugMode&&console.log(t.target),g.classList.add("input-error")),t.preventDefault(),t.stopPropagation()}}else if(d=="color_mode_cmd"){let h=this.settings[d];h.length>0&&s.toLowerCase()==h.toLowerCase()&&this.changeColorMode(this.settings.color_mode=="light"?"dark":"light")}else if(d=="fullscreen_cmd"){let h=this.settings[d];h.length>0&&s.toLowerCase()==h.toLowerCase()&&_.sendMessage("openPage",{url:"./src/html/full_screen.html"})}else if(d=="context_menu_shortcut_cmd"){let h=this.settings[d];h.length>0&&s.toLowerCase()==h.toLowerCase()&&ct.showContextMenuWithShortcuts(this)}}}),typeof e=="string"&&(e=JSON.parse(e));let c=!0,u=!0;if(e!=null&&e.ctrl&&!t.ctrlKey&&!t.metaKey&&(c=!1),e!=null&&e.shift&&(t.shiftKey||(u=!1)),t.key&&typeof t.key.toLowerCase=="function"&&e.key.toLowerCase()==t.key.toLowerCase()&&c&&u)return typeof a=="function"&&a(t),!0},async changeStorage(t,e,a=!1,n=!1){let s={};s=_.treeKeybyValueBuild(t,e,this.storage.Local,"."),this.constants.debugMode&&console.log(t,e,s),t=="settings.ai_mode"&&e=="local"?s.settings.ai_model="GPT-3.5":t=="settings.ai_mode"&&e=="api"&&(s.settings.ai_model="gpt-3.5-turbo"),t=="settings.sidebar_show_icon"&&e==!1&&this.sidebarToggle(!1);let c=null;n==!1&&(c=await _.Browser().storage.local.set(s).catch(u=>console.log(u)).finally(()=>{a&&this.notify.success(this.__("The transaction has been completed successfully."))})),t=="settings.switchbar"&&(_.notUndefined(s,"settings.switchbar")=="web_search"?this.storage.Local.plan!="Free"&&typeof this.storage.Local.settings.web_access<"u"&&await this.changeStorage("settings.web_access",!0):_.notUndefined(s,"settings.switchbar")=="chat"&&await this.changeStorage("settings.web_access",!1),_.scrollToBottom());try{this.storage.Local=Object.assign(this.storage.Local,s),Object.keys(s).forEach(u=>{typeof this[u]<"u"&&(this[u]=s[u]),typeof this.$data[u]<"u"&&(this.$data[u]=s[u])})}catch{console.log("NotAssign")}return t=="settings.ai_mode"&&setTimeout(()=>{_.sendMessage("uuid",{data:1})},500),this.constants.debugMode&&console.log(t,e,s),c},defaultSettings(t=null){let e=T.settings;return typeof this.storage.Local>"u"&&(this.storage.Local={}),typeof this.storage.Local.settings>"u"||!_.notUndefined(this.storage.Local,"settings")?this.storage.Local.settings=e:Object.keys(e).forEach(a=>{_.notUndefined(this.storage.Local,"settings")||(this.storage.Local.settings={}),typeof this.storage.Local.settings[a]>"u"&&(this.storage.Local.settings[a]=e[a])}),this.settings=this.storage.Local.settings,this.settings},changeSettings(){document.querySelector("#aitopia")!=null&&(document.querySelector("#aitopia").classList.remove("left-format"),_.notUndefined(this.storage.Local.settings,"sidebar_position")=="left"&&document.querySelector("#aitopia").classList.add("left-format")),_.notUndefined(this.storage.Local.settings,"sidebar_show_icon")||document.querySelector("#aitopia #aitopia-sidebar-opener")&&document.querySelector("#aitopia-sidebar-opener").classList.add("ait-hide"),_.notUndefined(this.storage.Local,"settings")&&(this.settings=this.storage.Local.settings),_.notUndefined(this.storage.Local,"settings.color_mode")&&this.changeColorMode(this.storage.Local.settings.color_mode,!1),_.notUndefined(this.storage.Local,"settings.ai_model")&&(this.credit_model=_.notUndefined(this.storage.Local,"settings.switchbar")=="image"?"image":this.storage.Local.settings.ai_model,_.notUndefined(this.storage.Local,"settings.web_access")&&this.credit_model=="GPT-3.5"&&(this.credit_model="GPT-4")),this.fullTabMenu(null)},changeColorMode(t=null,e=!0){let a=!1;typeof this.storage.Local.settings>"u"&&(this.storage.Local.settings={}),typeof this.storage.Local.settings.color_mode>"u"&&(this.storage.Local.settings.color_mode=this.settings.color_mode,a=!0),t!=null&&typeof t=="string"&&(this.storage.Local.settings.color_mode=["auto","light","dark"].indexOf(t)!==-1?t:"auto");let n=this.settings.color_mode=this.storage.Local.settings.color_mode,s=!1;return window.matchMedia&&(a==!0||this.storage.Local.settings.color_mode=="auto")&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(n="dark",s=!0),t!=null&&typeof t.type<"u"&&t.type!="change"&&n!="auto"&&(n=n=="dark"?"light":"dark"),n!="auto"&&(n=n=="dark"?"dark":"light"),t!=null&&e&&(this.settings.color_mode=s?"auto":n,_.Browser().storage.local.set({settings:this.settings}).catch(c=>console.log(c)),this.storage.Local.settings.color_mode=s?"auto":n),this.storage.Local.settings.color_mode=="auto"?(document.querySelectorAll(".aitopia").forEach(c=>{(c.querySelector(".aitopia-draggable-modal")===null||c.querySelector("#aitopia .aitopia-draggable-modal")!==null)&&(c.classList.remove("light"),c.classList.remove("dark"),c.classList.add(n))}),document.querySelector("#ait-web")!=null&&(document.querySelector("#ait-web").classList.remove("light"),document.querySelector("#ait-web").classList.remove("dark"),document.querySelector("#ait-web").classList.add(n))):(document.querySelectorAll(".aitopia").forEach(c=>{(c.querySelector(".aitopia-draggable-modal")===null||c.querySelector("#aitopia .aitopia-draggable-modal")!==null)&&(c.classList.remove(n=="light"?"dark":"light"),c.classList.add(n))}),document.querySelector("#ait-web")!=null&&(document.querySelector("#ait-web").classList.remove(n=="light"?"dark":"light"),document.querySelector("#ait-web").classList.add(n))),n},__(t,e="tr"){return _.__(t,e)},getLanguages(t=!1,e=null){return _.getLanguages(t,e,this).then(()=>{t==!0&&this.storage.build().then(a=>{this.storage=a,this.changeSettings()})})},syncLangVar(){return _.syncLangVar()},tabMenuUrl(){let e=new URLSearchParams(window.location.search).get("mode");document.querySelectorAll(`[aria-url="${e}"]`).forEach(a=>{let n=a.getAttribute("aria-label");if(n!=null&&(n=n.replace("ait-tab-",""),n)){let s=n.split("-");this.tab_menus[s[0]]=n,this.tabMenu(n)}})},fullTabMenu(t=null){if(t){if(typeof t.target<"u"){let a=t.target.getAttribute("aria-label");if(!a){let c=t.target.parentElement;for(;c&&!c.hasAttribute("aria-label");)c=c.parentElement;a=c.getAttribute("aria-label")}let n=!1;a==="ait-tab-0-pdf"&&(a="ait-tab-0-chat",n=!0),a=a.replace("ait-tab-","");let s=a.split("-");if(this.tab_menus[s[0]]=a,typeof s[1]<"u"&&_.notUndefined(this.settings,"switchbar")!=s[1]&&(this.settings.switchbar=s[1],this.changeStorage("settings.switchbar",s[1],!1)),t.target.getAttribute("aria-url")){let c=new URLSearchParams(window.location.search);c.set("mode",t.target.getAttribute("aria-url"));let u=window.location.href.replace(window.location.search,"");window.history.replaceState({page:document.title??""},document.title??"",`${u}?${c.toString()}`)}_.scrollToBottom(),n&&_.notUndefined(this.settings,"switchbar")!=="chat"&&_.notUndefined(this.settings,"switchbar")!=="pdf"&&setTimeout(()=>{document.querySelector("#ait-pdf-upload-modal")&&(document.querySelector("#ait-pdf-upload-modal").classList.remove("ait-hide"),document.querySelector("#ait-pdf-upload-modal").classList.add("ait-show"))},100)}}else{let a=document.querySelector(`[aria-label*='ait-tab-0-${_.notUndefined(this.settings,"switchbar")}']`);a!=null&&(a.classList.contains("active")||a.dispatchEvent(new Event("click")))}function e(a,n){document.querySelector('[id*="ait-tab-"]')&&document.querySelectorAll(`[id*="ait-tab-${n}-"]`).forEach(u=>u.classList.remove("ait-show")),document.querySelector(`#ait-tab-${a}`)&&document.querySelector(`#ait-tab-${a}`).classList.add("ait-show"),document.querySelector('[aria-label*="ait-tab-"]')&&document.querySelectorAll(`[aria-label*="ait-tab-${n}-"]`).forEach(u=>u.classList.remove("active")),document.querySelector(`[aria-label="ait-tab-${a}"]`)&&document.querySelector(`[aria-label="ait-tab-${a}"]`).classList.add("active");const s=document.getElementById("full-screen-image-settings");if(s)if(a!=="0-image")s.classList.remove("ait-show"),s.classList.add("ait-hide");else{s.classList.add("ait-show");const u=document.getElementById("ait-tab-0-image");u.classList.remove("ait-rounded-r-lg"),u.classList.add("ait-rounded-r-none")}const c=document.getElementById("full-screen-history-sidebar");c&&a!=="0-chat"&&(c.classList.remove("ait-show"),c.classList.add("ait-hide"))}Object.keys(this.tab_menus).forEach(a=>{let n=this.tab_menus[a];e(n,a)})},tabMenu(t=null){if(t){if(typeof t.target<"u"){let a=t.target.getAttribute("aria-label");if(a){if(a=a.replace("ait-tab-",""),t.target.getAttribute("aria-url")){let s=new URLSearchParams(window.location.search);s.set("mode",t.target.getAttribute("aria-url"));let c=window.location.href.replace(window.location.search,"");window.history.replaceState({page:document.title??""},document.title??"",`${c}?${s.toString()}`)}let n=a.split("-");this.tab_menus[n[0]]=a}}else if(typeof t=="string"){let a=t.split("-");return this.tab_menus[a[0]]=t,e(t,a[0])}}function e(a,n){document.querySelector('[id*="ait-tab-"]')&&document.querySelectorAll(`[id*="ait-tab-${n}-"]`).forEach(s=>s.classList.remove("ait-show")),document.querySelector(`#ait-tab-${a}`)&&document.querySelector(`#ait-tab-${a}`).classList.add("ait-show"),document.querySelector('[aria-label*="ait-tab-"]')&&document.querySelectorAll(`[aria-label*="ait-tab-${n}-"]`).forEach(s=>s.classList.remove("active")),document.querySelector(`[aria-label="ait-tab-${a}"]`)&&document.querySelector(`[aria-label="ait-tab-${a}"]`).classList.add("active")}this.tab_menus&&t!=null?Object.keys(this.tab_menus).forEach(a=>{let n=this.tab_menus[a];e(n,a)}):document.querySelectorAll('[id*="ait-tab-"]').forEach(a=>{let n=a.getAttribute("id").replace("ait-tab-",""),s=n.split("-");if(typeof this.tab_menus[s[0]]>"u"){let c=document.querySelector(`[aria-label*="ait-tab-${s[0]}"]:checked, [id*="ait-tab-${s[0]}"]:active, [id*="ait-tab-${s[0]}"].active`);if(c){if(n=c.getAttribute("aria-label"),n==null)return;n=n.replace("ait-tab-",""),s=n.split("-")}this.tab_menus[s[0]]=n,n&&this.tabMenu(n)}})},openAiSession(){},newChat(t=null,e="ai_chat",a=null){if(_.ChatId(e,a,1),e=="ai_single"){if(a!=null){let n={};n[e]=this[e]||{},typeof n[e]=="object"&&typeof n[e][a]<"u"&&(delete n[e][a],Object.values(n[e]).length==0&&(n[e]={}),this[e]=n[e],typeof this.storage.Local[e]<"u"&&(this.storage.Local[e]=this[e]),console.log(n),_.Browser().storage.local.set(n).then(()=>{this.storage.build().then(s=>{this.storage=s,this.changeSettings()})}))}return}this.ai_send=null,this.ai_chat=[{item:this.__("Hello, how can I help you today?"),role:"assistant",model:this.settings.ai_model}],t!=null&&(t.forEach(n=>{this.ai_chat.push(n)}),this.ai_chat&&(this.ai_chat=Object.values(this.ai_chat))),this.ai_chat_text="",this.ai_ask=null,_.Browser().storage.local.set({ai_chat:this.ai_chat}).then()},dropdownUnique(){if(document.querySelectorAll("[data-ait-dropdown-toggle]")){let t=document.querySelectorAll("[data-ait-dropdown-toggle]"),e=0;for(const a of t){e++;let n=a.getAttribute("data-ait-dropdown-toggle"),s="#"+n+",."+n,c=document.querySelector(s);c!==null&&document.querySelectorAll(s).length>1&&(c.getAttribute("id")==n?(a.setAttribute("data-ait-dropdown-toggle",n+"-"+e),c.setAttribute("id",n+"-"+e)):c.classList.contains(n)&&(a.setAttribute("data-ait-dropdown-toggle",n+"-"+e),c.classList.remove(n),c.classList.add(n+"-"+e)))}}},dropdownInit(t){let e=t.target;if(document.querySelectorAll("[data-ait-dropdown-toggle]")&&document.querySelectorAll("[data-ait-dropdown-toggle]").forEach(c=>{let u="#"+c.getAttribute("data-ait-dropdown-toggle")+".ait-show,."+c.getAttribute("data-ait-dropdown-toggle")+".ait-show";document.querySelector(u)!==null&&e!=c&&e.closest("[data-ait-dropdown-toggle]")!=c&&document.querySelector(u)!=e.closest(u)&&document.querySelector(u)!=e&&document.querySelector(u)&&(document.querySelector(u).classList.add("ait-hide"),document.querySelector(u).classList.remove("ait-show"))}),e.closest(".ait-show")!=null&&e.getAttribute("data-modal-hide")==null&&e.closest("[data-ait-dropdown-toggle]")==null&&(e=e.closest("button"),e==null||e.getAttribute("data-modal-hide")==null))return;if(typeof e.getAttribute>"u"){document.querySelectorAll("[data-ait-dropdown-toggle] ~ .ait-show").forEach(c=>{c.classList.remove("ait-show"),c.classList.remove("ait-hide"),c.classList.add("ait-hide")});return}if(e.getAttribute("data-ait-dropdown-toggle")||(e=e.closest("[data-ait-dropdown-toggle]")),e==null){document.querySelectorAll("[data-ait-dropdown-toggle]").forEach(c=>{let u="#"+c.getAttribute("data-ait-dropdown-toggle")+".ait-show",d=document.querySelector(u);d!=null&&typeof d.classList<"u"&&(d.classList.remove("ait-show"),d.classList.remove("ait-hide"),d.classList.add("ait-hide"))});return}let a="#"+e.getAttribute("data-ait-dropdown-toggle"),n="."+e.getAttribute("data-ait-dropdown-toggle"),s=document.querySelector(a);if(s==null&&(s=e.querySelector(n)),s)if(t.preventDefault(),s.classList.contains("ait-hide")||!s.classList.contains("ait-show")){s.classList.remove("ait-hide"),s.classList.add("ait-show");const c=s.clientWidth,u=window.innerWidth,d=e.getBoundingClientRect().left+c;u-d<c?(s.style.right="0",s.style.left="auto"):(s.style.right="auto",s.style.left="0");const h=s.clientHeight,g=window.innerHeight,r=e.getBoundingClientRect().top;g-r<h?(s.style.bottom="100%",s.style.top="auto"):(s.style.bottom="auto",s.style.top="100%")}else s.classList.remove("ait-show"),s.classList.add("ait-hide")},storageExpires(){this.storage.Local.expires!=null&&Object.keys(this.storage.Local.expires).forEach(t=>{let e=Date.now().toString().substring(0,10);typeof t!=null&&this.storage.Local.expires[t]<e&&(t=="languages"?this.getLanguages(!0):t=="credits"?_.sendMessage("uuid",{}):_.Browser().storage.local.remove(t).then())})},contactUs(t=null,e=null,a=null,n=null,s=null){if((e=="null"||e==null)&&(e=""),(a=="null"||a==null)&&(a=""),(n=="null"||n==null)&&(n=""),(t=="null"||t==null)&&(t=""),e.length>5&&a.length>5&&n.length>5)return s!=null&&s.target.setAttribute("disabled","disabled"),_.apiCall("/extensions/app/contact_us",{title:t+":"+e,message:e+`

`+a,email:n,data:this.storage.Local},"POST").then(()=>{this.notify.success(this.__("Your message is sent. We will get back to you as soon as possible.")),s!=null&&s.target.removeAttribute("disabled")});[".ait-contact-title",".ait-ait-contact-description-title",".ait-contact-email"].forEach(u=>{document.querySelector(u)!=null&&(document.querySelector(u).style.borderColor="")}),e.length<6&&document.querySelector(".ait-contact-title")!=null&&document.querySelector(".ait-contact-title").setAttribute("style","border-color:red!important;"),a.length<6&&document.querySelector(".ait-contact-description")!=null&&document.querySelector(".ait-contact-description").setAttribute("style","border-color:red!important;"),n.length<6&&document.querySelector(".ait-contact-email")!=null&&document.querySelector(".ait-contact-email").setAttribute("style","border-color:red!important;"),this.notify.error(this.__("Please check and try again."))},async getPrompts(t=null){let e={},a={};T.ai_prompts==null&&(T.ai_prompts={});var n=async(s,c=!1)=>{let u={},d={};this.ai_contextPrompts={},Object.keys(s).forEach(g=>{let r=s[g],w=s[g].mode;if(typeof u[w]>"u"&&(u[w]=s[g]),r.settings!=null&&typeof r.settings=="object"&&Object.keys(r.settings)[0]!="0"){let b=[];Object.keys(r.settings).forEach(v=>{let k={};k[v]=r.settings[v],b.push([k])}),s[g].settings=b}w!==null&&(w.indexOf("writing")!==-1||w.indexOf("reading")!==-1)&&(d[g]=this.ai_contextPrompts[g]=s[g])});let h={expires:_.notUndefined(this.storage.Local,"expires"),ai_prompts:JSON.stringify(s)};return Object.keys(d).length>0&&(h.ai_contextPrompts=d),Object.keys(u).length>0&&Object.keys(u).forEach(g=>{_.notUndefined(this.storage.Local,`selected_${g}`)||(this[`selected_${g}`]=h[`selected_${g}`]=u[g])}),c&&Object.keys(h)&&Object.keys(h).forEach(g=>{this[g]=h[g],this.$data[g]=h[g],this.storage.Local[g]=h[g]}),await _.Browser().storage.local.set(h).then(),T.ai_prompts=s,h};return await _.Browser().storage.local.get("ai_prompts").then(async s=>{if(typeof s.ai_prompts<"u"){try{e=JSON.parse(s.ai_prompts)}catch{e=s.ai_prompts}return await n(e)}if(Object.keys(e).length==0)return await _.apiCall("/ai/prompts",null,"POST").then(async c=>{if(!(typeof c>"u")&&c!=null&&!(typeof c.expire>"u"))return typeof c.expire<"u"&&(this.storage.Local.expires==null&&(this.storage.Local.expires={}),c.expire!=null&&(this.storage.Local.expires.ai_prompts=c.expire)),typeof c.prompts<"u"&&(a=c.prompts,e=_.minifierExpand(a,c.schema)),await n(e,!0)})})},async getPromptSettings(t={}){return await new Promise(async(e,a)=>{t=_.JsonParse(t),typeof t.ai_prompts<"u"&&(t=t.ai_prompts),Object.keys(t).length==0&&(t=T.ai_prompts),typeof this.prompt_settings!="object"&&(this.prompt_settings={}),Object.keys(t).forEach(n=>{let s=t[n];_.notUndefined(s,"settings")&&_.notUndefined(s,"settings").forEach((u,d)=>{u.forEach(h=>{Object.keys(h).forEach(g=>{this.prompt_settings[`${g}-_-${s.id}_${d}`]=_.vueDefaultChecker(this,`prompt_settings.${g}-_-${s.id}_${d}`,h[g],h[g],this.prompt_settings[`${g}-_-${s.id}_${d}`],!1)})})})}),this.prompt_settings!=null&&await this.changeStorage("prompt_settings",this.prompt_settings,!1),e(this.prompt_settings)})},clearText(){document.querySelectorAll(".ait-ai-text-item")&&document.querySelectorAll(".ait-ai-text-item").forEach(t=>{t&&(t.onchange=e=>{let a=e.target;if(a.closest("div,span").querySelectorAll(".clear_selection").forEach(s=>{s.remove()}),a.value.length>0){let s=document.createElement("button");s.classList.add("clear_selection"),s.innerHTML='<svg title="'+K.__("clear")+'" fill-rule="evenodd" viewBox="64 64 896 896" focusable="false" data-icon="close-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"></path></svg>',s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" title="'+K.__("clear")+'" height="14px" viewBox="0 0 384 512"><path d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"/></svg>',s.onclick=c=>{let u=a.closest("div,span").querySelector(".ait-ai-text-item");c.target.remove(),u&&(u.value="",u.dispatchEvent(new Event("change")))},t.insertAdjacentElement("afterend",s)}})})},redirectUrl(t){window.location.href=t},async downloadUrl(t,e){try{const n=await(await fetch(t)).blob(),s=document.createElement("a");s.href=URL.createObjectURL(n),s.download=e,s.click()}catch(a){console.log(a)}},onEditToolsClick(){this.showEditToolUploadModal&&(this.showEditToolUploadModal=!1),localStorage.setItem("reference_edit_tool_image",null),localStorage.setItem("is_edit_modal_redirected_from_painter","1"),this.showEditToolsModal=!0},toggleHistory(){this.showHistorySideBar=!this.showHistorySideBar},tooltip(){if(!document)return;let t="ait-bg-[#0d0d0dd9] ait-h-10 ait-w-72 ait-absolute ait-text-white ait-px-2 ait-py-1 ait-rounded ait-text-xs ait-shadow-md",e="bottom: 100%; left: 50%; transform: translateY(-50%) translateX(-50%);";document.querySelectorAll("[data-aittooltip]").forEach(a=>{a.onmouseenter=n=>{if(n.target.querySelector(".ait-tooltip-result")==null){let s=document.createElement("div");s.setAttribute("class","ait-tooltip-result ait-relative");let c=document.createElement("div");c.setAttribute("class",t),c.setAttribute("style",e),c.innerText=n.target.getAttribute("data-aittooltip"),s.append(c),n.target.append(s),console.log(n.target.getAttribute("data-aittooltip"))}},a.onmouseleave=n=>{n.target.querySelector(".ait-tooltip-result")!=null&&n.target.querySelector(".ait-tooltip-result").remove(),console.log(n.target)}})},redirectToUrl(t){window.open(t,"_blank")},showContextWrapperAtPosition(t,e,a,n,s){this.contextTextAreaTarget=t,this.contextWrapperPosition.top=e,this.contextWrapperPosition.left=a,this.contextWrapperSize.width=n,this.contextWrapperSize.height=s,this.showContextWrapper=!0},hideContextWrapper(){this.contextTextAreaTarget=null,this.showContextWrapper=!1,this.showContextMenu=!1},showAiContextPopup(){this.showContextMenu=!this.showContextMenu,this.contextWrapperPosition.top=window.innerHeight/2-100,this.contextWrapperPosition.left=window.innerWidth/2-400},hideAiContextPopup(){this.showContextMenu=!1},showAiWriterPopup(t,e,a){this.aiWriterSelectedTarget=t,this.aiWriterPopupPosition.top=e,this.aiWriterPopupPosition.left=a,this.aiWriterShowPopup=!0},updateAiWriterPopupPosition(t,e){this.aiWriterPopupPosition.top=t,this.aiWriterPopupPosition.left=e},hideAiWriterPopup(){this.aiWriterSelectedTarget=null,this.aiWriterShowPopup=!1},showAiReaderPopup(t,e,a){var n;return a!==null&&((n=this.settings)==null?void 0:n.context_reading)==!0&&a.length>0?(this.aiReaderPopupPosition.top=t,this.aiReaderPopupPosition.left=e,this.aiReaderSelectedText=a,this.aiReaderShowPopup=!0,this.aiReaderSelectedText):(this.hideAiReaderPopup(),this.aiReaderSelectedText)},hideAiReaderPopup(){this.aiReaderShowPopup=!1},hideAllPopups(){this.hideAiWriterPopup(),this.hideAiReaderPopup()},getAiContextPrompts(){_.Browser().storage.local.get("ai_pinnedContextPrompts").then(e=>{e.ai_pinnedContextPrompts?this.ai_pinnedContextPrompts={reading:Object.values(e.ai_pinnedContextPrompts.reading).map(Number),writing:Object.values(e.ai_pinnedContextPrompts.writing).map(Number)}:t()});var t=()=>{this.ai_pinnedContextPrompts=A.pinnedContextPrompts,_.Browser().storage.local.set({ai_pinnedContextPrompts:this.ai_pinnedContextPrompts}).then()}},togglePromptToPinnedPrompts(t,e){e==="reading"?this.ai_pinnedContextPrompts.reading.includes(t)?this.ai_pinnedContextPrompts.reading=this.ai_pinnedContextPrompts.reading.filter(a=>a!==t):this.ai_pinnedContextPrompts.reading.push(t):e==="writing"&&(this.ai_pinnedContextPrompts.writing.includes(t)?this.ai_pinnedContextPrompts.writing=this.ai_pinnedContextPrompts.writing.filter(a=>a!==t):this.ai_pinnedContextPrompts.writing.push(t)),_.Browser().storage.local.set({ai_pinnedContextPrompts:this.ai_pinnedContextPrompts}).then()},async SettingsCatchbyCallApi(){let t=!1;if((typeof this.storage.Local.languages>"u"||Object.keys(this.storage.Local.languages??{}).length==0)&&(t=!0),(typeof this.storage.Local.language_variables>"u"||Object.keys(this.storage.Local.language_variables??{}).length==0)&&(t=!0),(typeof this.storage.Local.ai_models>"u"||Object.keys(this.storage.Local.ai_models??{}).length==0)&&(t=!0),(typeof this.storage.Local.prompt_settings>"u"||Object.keys(this.storage.Local.prompt_settings??{}).length==0)&&(t=!0),(typeof this.storage.Local.model_settings>"u"||Object.keys(this.storage.Local.model_settings??{}).length==0)&&(t=!0),t==!0)return await _.settingsBuild(!0).then(async()=>await this.getPrompts().then(async e=>await this.getPromptSettings(e)))},ModelBySvg(t=null){if(t==null)return t;let e=!1;return Object.keys(tt).forEach(a=>{t===a&&(t=a,e=!0),e==!1&&(t.indexOf(a)!==-1||t.toLowerCase().indexOf(a.toLowerCase())!==-1)&&(t=a,e=!0)}),t},draggableModalGetStatus(t){if(this.draggable_modal_history)return _.notUndefined(this.draggable_modal_history,`${t}.status`)},draggableModalToggle(t,e=null){this.draggable_modal_history&&this.draggable_modal_history[t]&&(this.draggable_modal_history[t].zindex=2147483647,this.draggable_modal_history[t].status=e??!this.draggable_modal_history[t].status,typeof this.checkScreenCalbration=="function"&&this.checkScreenCalbration(t),this.draggable_modal_history[t].match_ids&&this.draggable_modal_history[t].status==!1&&Object.values(this.draggable_modal_history[t].match_ids).forEach(a=>{_.notUndefined(this.draggable_modal_history,`${a}.status`)==!0&&this.draggableModalToggle(a,!1)}))},getAiSingleResponse(t){return t.indexOf("ai_single_")===-1&&(t=`ai_single_${t}`),this&&typeof this[t]<"u"&&typeof this[t]=="object"&&this[t]!==null&&Object.keys(this[t]).length>0?this[t]:null}},F={chunkSize:524288,processFile(t,e=0,a=[],n=s=>{}){document.querySelectorAll(t).forEach(s=>{(Object.values(s.files||{})||[]).forEach(u=>{let d=u;this.upload(d,e,a,n)}),s.value=null})},upload(t,e=0,a=[],n=s=>{}){if(e>0&&t.size>=e)return T.notify.error(_.__("More than the maximum file size, please upload less than")+" "+_.getReadableFileSizeString(e)),!1;if(a.length>0&&a.indexOf(t.type)===-1)return A.debugMode&&console.log(t.type,a),T.notify.error(_.__("Your file type is incorrect. Please install these file types.")+" "+a.join(", ")),!1;let s=_.SHA1(t.name+t.size).toString(),c={name:t.name,size:t.size,type:t.type,progress:0,url:null,key:s,extension:t.name.split(".")[t.name.split(".").length-1],start_time_:new Date().getTime(),chnkPckg:0,chunkSize:F.chunkSize,data:"",totalPackage:Math.floor(t.size/F.chunkSize),style:"",file:t};return T.files[s]=c,_.Browser().storage.local.set({files:T.files}).then(),F.uploadFile(c,n),!0},fileList(){return _.Browser().storage.local.get(["files","expires"]).then(t=>typeof t.files<"u"?new Promise((e,a)=>e(t.files)):_.apiCall(`${A.cdn_url}/uploader`,{file_list:!0},"POST",6e4).then(e=>{let a=e;if(typeof a.files<"u")return _.Browser().storage.local.set({files:a.files})}))},uploadFile(t,e=a=>{}){let a={name:t.name,size:t.size,type:t.type,progress:t.progress,url:t.url,key:t.key,extension:t.extension,start_time_:t.start_time_},n=new FileReader;t.chunkStart=t.chnkPckg*F.chunkSize,t.chunkEnd=(t.chnkPckg+1)*F.chunkSize;let s=null;t.totalPackage==t.chnkPckg?s=t.file.slice(t.chunkStart):s=t.file.slice(t.chunkStart,t.chunkEnd),n.readAsDataURL(s),n.onload=function(c){let u=c.target;return t.data=u.result,t.sendSize=u.total,t.lastSize=t.lastSize-u.total,a.start_time_=t._start_time_=new Date().getTime()-t.start_time_,_.apiCall(`${A.cdn_url}/uploader`,t,"POST",6e4).then(d=>{let h=d;if(t.chnkPckg++,t.totalPackage>=t.chnkPckg)return a.progress=t.progress=100/t.totalPackage*t.chnkPckg,T.files[t.key]=a,_.Browser().storage.local.set({files:T.files}).then(),F.uploadFile(t,e);a.progress=t.progress=100,a.url=h.url,T.files[t.key]=a,_.Browser().storage.local.set({files:T.files}).then(g=>{if(typeof e=="function")try{return A.debugMode&&console.log(t),e(t)}catch(r){A.debugMode&&console.log(r,"Error")}}),t.chnkPckg++}).catch(d=>{T.notify.error(_.__("We encountered a problem, please try again.")),delete T.files[t.key],_.Browser().storage.local.set({files:T.files}).then()})}},uploadBlob(t,e,a=n=>{}){let n=_.SHA1(e+t.size).toString(),s={name:e,size:t.size,type:t.type,progress:0,url:null,key:n,extension:e.split(".")[e.split(".").length-1],start_time_:new Date().getTime(),chnkPckg:0,chunkSize:F.chunkSize,data:"",totalPackage:Math.floor(t.size/F.chunkSize),style:"",file:t};return T.files[n]=s,_.Browser().storage.local.set({files:T.files}).then(),F.uploadFile(s,a),!0}};let ut=!1,ht=!1,pt=!1;const H=q({props:["type"],setup(t){typeof t.type<"u"&&t.type!==null&&t.type=="FullScreen"&&(A.is_web_app=!0),A.debugMode&&console.log(t)},data(){return T.Uploader=F,T},async beforeCreate(){},beforeMount(){(ut??!1)||(ut=!0,this.init(),this.AiApi.instance=this)},created(){ht||(ht=!0,window&&window.location.hostname==A.extension_id&&(this.this_page=window.location.pathname.replace("/src/html/","").replace(".html","")),this.AiApi.instance=this,this.$watch(()=>this.ai_chat,()=>{setTimeout(()=>{let t=document.querySelector("#ai-message-container");t&&(t.scrollTop=t.scrollHeight+100)},1)}),this.$watch(()=>this.ai_single,(t,e)=>{setTimeout(()=>{let a=document.querySelectorAll("#aitopia-prompt-response,#ait-prompt-container,#ai-message-container");a&&a.forEach(n=>{n.scrollTop=n.scrollHeight+100})},1)}),this.settings=this.storage.Local.settings,this.$watch(()=>this.constants,K.emptyMethod),this.show_sidebar=this.storage.Local.show_sidebar??!1)},mounted(){pt||(pt=!0,this.finish(),this.sidebarToggle(this.show_sidebar),this.constants.disallow_pages.indexOf(window.location.hostname)!=-1&&(document.querySelector("#aitopia #aitopia-container").classList.remove("show-sidebar"),document.querySelector("#aitopia #aitopia-container").classList.add("close-sidebar")))},methods:K}),L=(t,e)=>{const a=t.__vccOpts||t;for(const[n,s]of e)a[n]=s;return a},Se={id:"aitopia-sidebar"},Me={id:"ai-sidebar",class:"ait-flex ait-w-full ait-h-full ait-overflow-hidden"},He={key:0,class:"ait-flex ait-flex-col ait-w-[calc(100%_-_60px)]",id:"ait-sidebar-chat"},Te={key:1,class:"ait-flex ait-flex-col ait-w-[calc(100%_-_60px)]",id:"ait-sidebar-ask"},Ue={key:2,class:"ait-flex ait-flex-col ait-w-[calc(100%_-_60px)]",id:"ait-sidebar-write"},Pe={key:3,class:"ait-flex ait-flex-col ait-w-[calc(100%_-_60px)]",id:"ait-sidebar-painter"},Ae={key:4,class:"ait-flex ait-flex-col ait-w-[calc(100%_-_60px)]",id:"ait-sidebar-web_search"},Ie={key:1,style:{display:"none"}},Ee=i("textarea",{id:"ait_clipboard",style:{position:"fixed",bottom:"-10px","z-index":"-1",height:"1px",width:"1px","font-size":".1px"}},`
`,-1);function je(t,e,a,n,s,c){const u=y("EditToolsModal"),d=y("EditToolsUploadModal"),h=y("navigation"),g=y("InnerContentView"),r=y("prompts"),w=y("make-a-review"),b=y("write"),v=y("painter"),k=y("HistorySideBar"),$=y("switchbar"),B=y("MakeAReviewModal"),D=y("InviteFriends"),ot=y("font-awesome-icon"),kt=y("svg-logo"),Ct=y("SearchResponse"),$t=y("ContextWrapper"),Lt=y("AiReply");return o(),l(x,null,[m(u),m(d),this.settings.sidebar_show_icon==!0||this.this_page=="side_panel"?(o(),l("div",{key:0,id:"aitopia-container",class:C(this.this_page=="side_panel"?"":"close-sidebar")},[i("div",Se,[i("div",Me,[this.settings.switchbar=="chat"?(o(),l("div",He,[m(h,{mode:"chat"}),m(g,{headerMode:"example"})])):f("",!0),this.settings.switchbar=="ask"?(o(),l("div",Te,[m(h,{mode:"ask"}),m(r),m(w)])):f("",!0),this.settings.switchbar=="write"?(o(),l("div",Ue,[m(h,{mode:"write"}),m(b),m(w)])):f("",!0),this.settings.switchbar=="image"?(o(),l("div",Pe,[m(h,{mode:"image"}),m(v),m(w)])):f("",!0),this.settings.switchbar=="web_search"?(o(),l("div",Ae,[m(h,{mode:"search"}),m(g,{headerMode:"search",needUpgrade:this.storage.Local.plan=="Free"},null,8,["needUpgrade"])])):f("",!0),this.show_history_sidebar?(o(),E(k,{key:5,id:"full-screen-history-sidebar"})):f("",!0),m($)]),m(B),m(D)])],2)):f("",!0),i("div",{id:"aitopia-sidebar-opener",class:C(["ait-cursor-pointer",this.settings.sidebar_show_icon===!1||this.this_page=="side_panel"?"ait-hide":"ait-show"])},[i("div",{class:"ai-opener-close",onClick:e[0]||(e[0]=nt=>this.elementRemove("#aitopia-sidebar-opener"))},[m(ot,{icon:"fa-solid fa-circle-xmark",class:"ait-w-4 ait-h-4"})]),i("div",{class:"opener-logo",onClick:e[1]||(e[1]=nt=>this.sidebarToggle(!0,nt))},[m(kt,{name:"logo",className:"ait-w-[45px] ait-h-[45px]"})])],2),this.settings.search_ask_mode?(o(),l("div",Ie,[m(Ct)])):f("",!0),m($t),Ee,this.settings.email_assistant?(o(),E(Lt,{key:2})):f("",!0)],64)}const Ve=L(H,[["render",je]]),Re={extends:H,data(){return{isHovered:{}}},methods:{async askOriginal(t){this.changeStorage("settings.web_access",!1),await j.chat(t,this.settings.ai_model),this.changeStorage("settings.web_access",!0)}}};const _t=t=>(Y("data-v-e5dbc99b"),t=t(),Q(),t),ze={key:0,class:"ait-h-full",id:"aitopia-message"},Be=["aria-details","onMouseover","onMouseout"],qe={class:"ait-flex ait-p-2 ait-text-[10px] dark:ait-text-gray-200 ait-flex-col ait-items-start ait-justify-start ait-gap-2"},Oe={class:"ait-flex ait-items-center ait-space-x-2"},De={key:0,class:"ait-px-6"},Fe={class:"ait-text-xs ait-flex ait-justify-start ait-items-start ait-gap-2"},Ze={class:"ait-flex ait-justify-center ait-items-center ait-gap-2"},We={class:"ait-text-gray-600 dark:ait-text-gray-400 ait-whitespace-nowrap"},Ne={class:"ait-text-gray-900 dark:ait-text-gray-100 ait-break-words"},Ke={class:"dark:ait-bg-neutral-900 dark:ait-text-gray-200 ait-px-8 ait-py-4 ai_result_container"},Ge={class:"ait-flex ait-flex-row ait-items-center"},Ye=["innerHTML"],Qe={key:0,class:"ait-ml-6 ait-flex ait-items-end"},Xe={key:0},Je={key:1,class:"dots"},ti={key:0,class:"ai-question-container ait-grid ait-grid-cols-2 ait-items-start ait-gap-3 ait-mt-3"},ei={class:"ait-text-sm ait-font-semibold ait-text-neutral-900 dark:ait-text-gray-200 ait-col-span-2"},ii=["data-question"],ai=["onClick"],si={key:0,class:"ait-pl-2"},oi=["onClick"],ni=_t(()=>i("div",{class:"ait-clear-both"},null,-1)),li={key:1,class:"ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 dark:ait-text-gray-200"},ri={class:"ait-w-2/3 ait-py-4 ait-ml-auto ait-text-right"},di={type:"button",class:"ait-text-white ait-bg-green-700 hover:ait-bg-green-800 focus:ait-outline-none focus:ait-ring-4 focus:ait-ring-green-300 ait-font-medium ait-rounded-full ait-text-sm ait-px-5 ait-py-1 ait-text-center ait-ml-5 ait-mr-2 dark:ait-bg-green-600 dark:hover:ait-bg-green-700 dark:focus:ait-ring-green-800 aitopia-pricing"},ci={key:2,class:"ait-px-3 ait-py-1 ait-text-red-800 dark:ait-text-red-200 ait-bg-neutral-100 dark:ait-bg-neutral-900"},ui=["innerHTML"],hi={key:3,class:"ait-p-2"},pi={class:"ait-flex ait-items-center ait-justify-between ait-p-3 ait-space-x-3 ait-border ait-border-neutral-200 dark:ait-border-neutral-600 ait-rounded-xl ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-neutral-200"},gi=["innerHTML"],fi=["src"],mi={key:0,class:"ait-w-2/3 ait-py-4 ait-ml-auto ait-text-right"},_i=["src"],wi={key:1,class:"ait-absolute -ait-bottom-2.5 ait-right-2"},bi={class:"ait-flex ait-flex-row ait-items-center ait-justify-center ait-gap-1"},vi=["onClick"],yi=["onClick"],xi={key:5,id:"ait-continue-chat-ai_chat",class:"ait-continue-chat ait-flex ait-items-center ait-justify-center ait-absolute ait-w-full"},ki=["data-title"],Ci={class:"ait-flex ait-w-full ait-gap-2 ait-items-center ait-justify-center"},$i={key:6,class:"ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 ait-text-red-800 dark:ait-text-red-200"},Li={class:"ait-py-4 ait-text-center ait-text-red-800 dark:ait-text-red-200"},Si={href:"https://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter",class:"ait-text-blue-800 dark:ait-text-blue-400 hover:ait-text-blue-600",style:{"text-decoration":"underline"},target:"_blank"},Mi={id:"ait-stop-chat-ai_chat",class:"ait-stop-chat ait-hide"},Hi={class:"ait-text-white hover:ait-bg-green-800 ait-font-medium ait-text-md ait-px-5 ait-py-2 ait-rounded-md dark:hover:ait-bg-[var(--ait-tab-menu-active-bg-color)]"},Ti={class:"ait-flex ait-w-full ait-gap-2 ait-items-center ait-justify-center"},Ui=_t(()=>i("svg",{stroke:"currentColor",fill:"none","stroke-width":"2",viewBox:"0 0 24 24","stroke-linecap":"round","stroke-linejoin":"round",class:"icon-xs",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},[i("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"})],-1));function Pi(t,e,a,n,s,c){const u=y("svg-logo"),d=y("font-awesome-icon"),h=y("hover-popover"),g=y("file-button");return t.ai_chat?(o(),l("div",ze,[(o(!0),l(x,null,M(t.ai_chat,(r,w)=>{var b,v,k;return o(),l(x,null,[r!=null?(o(),l("div",{key:0,"aria-details":`chat-key-${w}`,class:C(r.role=="system"||r.role=="assistant"?"ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-gray-200":""),onMouseover:$=>s.isHovered[w]=!0,onMouseout:$=>s.isHovered[w]=!1},[r.role=="system"||r.role=="assistant"?(o(),l(x,{key:0},[i("div",qe,[i("div",Oe,[m(u,{className:"ait-w-[16px] ait-h-[16px]",name:t.ModelBySvg(r.model)},null,8,["name"]),i("span",null,p(r.model),1)]),t.Helpers.notUndefined(r.extra_data,"search.questions")?(o(),l("div",De,[i("div",Fe,[i("div",Ze,[m(d,{icon:"fa fa-search",class:"ait-w-3 ait-h-3"}),i("span",We,p(t.__("Searched for: ")),1)]),i("p",Ne,p(t.Helpers.cleanTextEmpty(r.extra_data.search.original_ask)),1)])])):f("",!0)]),i("div",Ke,[i("div",Ge,[i("div",{class:C(`ai_result ${r.loading?"ai_loading":""}`),innerHTML:t.AiApi.prefixify(t.AiApi.linkify(r.item)).replace(/\n/g,"<br/>")},null,10,Ye),r.loading&&!r.item?(o(),l("div",Qe,[r.model.indexOf("Vision")!==-1?(o(),l("span",Xe,p(t.__("Analyzing")),1)):f("",!0),r.model.indexOf("Vision")!==-1?(o(),l("span",Je)):f("",!0)])):f("",!0)]),t.Helpers.notUndefined(r.extra_data,"search.questions")&&((k=(v=(b=r.extra_data)==null?void 0:b.search)==null?void 0:v.questions)==null?void 0:k.length)>0?(o(),l("div",ti,[i("span",ei,p(t.__("Related Questions"))+":",1),(o(!0),l(x,null,M(t.Helpers.notUndefined(r.extra_data,"search.questions"),($,B)=>(o(),l("div",{class:"ait-action-question ait-flex ait-cursor-pointer ait-flex-col ait-leading-1.5 ait-p-2 hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] dark:hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-text-white ait-text-xs ait-font-normal ait-text-neutral-900 dark:ait-text-gray-200 ait-border-neutral-200 ait-bg-neutral-200 ait-rounded-e-xl ait-rounded-es-xl dark:ait-bg-neutral-700 ait-transition-all","data-question":$},p($),9,ii))),256))])):f("",!0),i("div",{class:C(["ait-mt-3 ait-flex ait-items-center ait-float-right ait-cursor-pointer ait-gap-2 ait-divide-x-[0.5px] ait-divide-neutral-300 dark:ait-divide-neutral-700",{"ait-opacity-100":s.isHovered[w],"ait-opacity-0":!s.isHovered[w]&&w!=t.ai_chat.length-1}])},[m(h,{"popover-text":t.__("Copy")},{default:S(()=>[i("button",{type:"button",class:"ait-flex",onClick:$=>this.Helpers.copyClipboard(r.item.replace(/<br\/>/g,`
`))},[m(d,{icon:"fa-regular fa-clipboard",class:"ait-w-3 ait-h-3"})],8,ai)]),_:2},1032,["popover-text"]),t.Helpers.notUndefined(r.extra_data,"search.questions")?(o(),l("div",si,[i("button",{type:"button",onClick:$=>c.askOriginal(r.extra_data.search.original_ask),class:"ait-cursor-pointer ait-w-full ait-font-semibold ait-text-[var(--ait-link-color)] ait-text-xs ait-py-1 ait-px-2 ait-rounded-full ait-flex ait-items-center ait-gap-1 ait-justify-center ait-bg-transparent hover:ait-bg-neutral-200 dark:hover:ait-bg-neutral-700 ait-transition-all"},[m(d,{icon:"fa fa-search",class:"ait-w-3 ait-h-3"}),U(" "+p(t.__("Ask original"))+" "+p(this.settings.ai_model),1)],8,oi)])):f("",!0)],2),ni])],64)):r.role=="limit"?(o(),l("div",li,[i("div",ri,[U(p(t.__("Your usage limit has been reached. Please upgrade your plan to continue using."))+" ",1),i("button",di,p(t.__("Upgrade")),1)])])):r.role=="error"?(o(),l("div",ci,[i("div",{class:"ait-py-4 ait-text-center ait-text-red-800 dark:ait-text-red-200",innerHTML:t.AiApi.prefixify(t.AiApi.linkify(r.item)).replace(/\n/g,"<br/>")},null,8,ui)])):r.role=="image"?(o(),l("div",hi,[i("div",pi,[i("div",null,[i("div",{class:C(`ai_result ${r.loading?"ai_loading":""}`),innerHTML:t.AiApi.prefixify(t.AiApi.linkify(r.item)).replace(/\n/g,"<br/>")},null,10,gi),r.images?(o(!0),l(x,{key:0},M(r.images,$=>(o(),l("div",null,[$.url?(o(),l("img",{key:0,src:$.url},null,8,fi)):f("",!0)]))),256)):f("",!0)])])])):(o(),l("div",{key:4,class:C(`ait-px-3 ait-bg-white dark:ait-bg-neutral-800 dark:ait-text-gray-200 ${t.Helpers.notUndefined(r.extra_data,"ai_image_url")?"ait-py-4":" ait-py-1"}`)},[t.Helpers.notUndefined(r,"title")?(o(),l("div",mi,[t.Helpers.filenameByFaIcon(r.title,null)=="lines"?(o(),l(x,{key:0},[U(p(r.title),1)],64)):(o(),E(g,{key:1,title:r.title},null,8,["title"]))])):(o(),l("div",{key:1,class:C(`ait-relative ait-flex ait-flex-col ait-gap-1 ait-w-2/3 ait-ml-auto ait-py-4 ${t.Helpers.notUndefined(r.extra_data,"ai_image_url")?"ait-px-4 ait-rounded-md ait-w-[250px] ait-rounded-tr-none ait-bg-[var(--ait-link-color)]":""}`)},[t.Helpers.notUndefined(r.extra_data,"ai_image_url")?(o(),l(x,{key:0},[r.extra_data.ai_image_url?(o(),l("img",{key:0,src:r.extra_data.ai_image_url,class:"ait-rounded-md"},null,8,_i)):f("",!0)],64)):f("",!0),i("span",{class:C(`${t.Helpers.notUndefined(r.extra_data,"ai_image_url")?"ait-text-white ait-text-left":"ait-text-right"}`)},p(r.item),3),t.Helpers.notUndefined(r.extra_data,"ai_image_url")?(o(),l("div",wi,[i("template",bi,[i("div",{class:C(`ait-bg-neutral-200 dark:ait-bg-neutral-950 ait-p-1 ait-rounded-md ait-justify-center ait-flex ait-items-center ait-float-right ait-cursor-pointer ${s.isHovered[w]?"ait-opacity-100":"ait-opacity-0"}`),onClick:$=>this.Helpers.setAIImageURL(r.extra_data.ai_image_url)},[m(h,{"popover-text":t.__("Quote")},{default:S(()=>[m(d,{icon:"fa-solid fa-quote-right",class:"ait-w-3 ait-h-3"})]),_:1},8,["popover-text"])],10,vi),i("div",{class:C(`ait-bg-neutral-200 dark:ait-bg-neutral-950 ait-p-1 ait-rounded-md ait-justify-center ait-flex ait-items-center ait-float-right ait-cursor-pointer ${s.isHovered[w]?"ait-opacity-100":"ait-opacity-0"}`),onClick:$=>this.Helpers.copyClipboard(r.item.replace(/<br\/>/g,`
`))},[m(h,{"popover-text":t.__("Copy")},{default:S(()=>[m(d,{icon:"fa-regular fa-clipboard",class:"ait-w-3 ait-h-3"})]),_:1},8,["popover-text"])],10,yi)])])):f("",!0)],2))],2)),t.Helpers.notUndefined(r,"finish_reason")=="length"?(o(),l("div",xi,[i("button",{"data-title":t.__("Continue"),class:"ait-text-white hover:ait-bg-green-800 ait-font-small ait-text-md ait-px-3 ait-py-1.5 ait-my-2 ait-rounded-md dark:hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-items-center ait-justify-center"},[i("div",Ci,[m(d,{icon:"fa-solid fa-play",class:"ait-h-4 ait-w-4"}),U(" "+p(t.__("Continue generating")),1)])],8,ki)])):f("",!0),t.Helpers.notUndefined(r,"finish_reason")=="content_filter"?(o(),l("div",$i,[i("div",Li,[U(p(t.__("Response is stopped due to Content Filtering Policy. Please try again later by obeying the"))+" ",1),i("a",Si,p(t.__("Content Filtering Policy")),1)])])):f("",!0)],42,Be)):f("",!0)],64)}),256)),i("div",Mi,[i("button",Hi,[i("div",Ti,[Ui,U(" "+p(t.__("Stop generating")),1)])])])])):f("",!0)}const Ai=L(Re,[["render",Pi],["__scopeId","data-v-e5dbc99b"]]),Ii={extends:H,props:["mode"]},Ei={class:"ait-header ait-flex-shrink"},ji={class:"ait-w-full ait-bg-[transparent]"},Vi={class:"ait-flex ait-items-center ait-w-full ait-p-0"},Ri={class:"ait-flex ait-items-center ait-justify-between ait-w-full"},zi={class:"ait-flex ait-items-center ait-justify-between"},Bi={class:"ait-self-center ait-text-base ait-text-black ait-ml-2 dark:ait-text-gray-200 ait-whitespace-nowrap"},qi={class:"ait-flex ait-items-center ait-max-h-[50px]"},Oi=i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true",class:"ait-w-4 ait-h-4 dark:ait-text-gray-200"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),Di={class:"ait-text-sm dark:ait-text-gray-200"},Fi={key:1,class:"ait-flex ait-items-center ait-space-x-2 ait-bg-[transparent]ait-rounded-full ait-p-1 ait-px-2"},Zi=i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true",class:"ait-w-4 ait-h-4 dark:ait-text-gray-200"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1);function Wi(t,e,a,n,s,c){const u=y("SvgLogo");return o(),l("div",Ei,[i("nav",ji,[i("div",Vi,[i("div",Ri,[i("div",zi,[m(u,{name:"logo",className:"ait-w-8 ait-h-8 "}),i("div",Bi,p(t.__(a.mode).toFirstUpperCase()),1)]),i("div",qi,[a.mode==null||a.mode=="chat"||a.mode=="search"?(o(),l("button",{key:0,onClick:e[0]||(e[0]=d=>this.newChat()),class:"ait-flex ait-items-center ait-space-x-2 ait-bg-transparent hover:ait-bg-[var(--ait-link-color)] ait-transition-all ait-rounded-full ait-p-1 ait-px-2"},[Oi,i("span",Di,p(t.__("New Conversation")),1)])):a.mode=="image"?(o(),l("button",Fi,[Zi,i("span",{class:"ait-text-sm dark:ait-text-gray-200",onClick:e[1]||(e[1]=d=>this.newChat(null,"ai_single",t.Helpers.SHA1("image")))},p(t.__("New Conversation")),1)])):f("",!0),a.mode=="image"||a.mode==null||a.mode=="chat"||a.mode=="search"?(o(),l("button",{key:2,type:"button",class:"ait-ml-2 svg-logo",onClick:e[2]||(e[2]=d=>{this.show_history_sidebar=!0})},[m(u,{name:"history_icon",className:"ait-h-6 ait-w-6"})])):f("",!0)])])])])])}const Ni=L(Ii,[["render",Wi]]),Ki=["innerHTML"],wt=q({__name:"SvgLogo",props:{name:{},className:{}},setup(t){return(e,a)=>lt(tt)[e.name]?(o(),l("span",{key:0,innerHTML:String(lt(tt)[e.name]).replace("<svg ",`<svg class="${e.className??""} ait-${e.name??""}" `)??""},null,8,Ki)):f("",!0)}}),Gi={components:{SvgLogo:wt},extends:H},Yi={class:"ait-switchbar ait-w-[60px] ait-min-w-[60px] ait-bg-[var(--ait-switchbar-bg-color)] ait-py-2 ait-flex ait-flex-col ait-items-center ait-gap-4 ait-h-full ait-flex-grow ait-overflow-x-hidden",style:{"box-shadow":"none"}},Qi={class:"ait-w-8 ait-h-8 ait-flex ait-items-center ait-justify-center ait-rounded-lg ait-cursor-pointer text-[var(--ait-secondary-text-color)] hover:bg-[var(--ait-switchbar-btn-hover-bg-color)] !w-[30px] !h-[30px]"},Xi={class:"ait-flex ait-flex-col ait-gap-2 ait-justify-center"},Ji={class:"ait-pt-2 ait-text-[10px]"},ta={class:"ait-pt-2 ait-text-[10px]"},ea={class:"ait-pt-2 ait-text-[10px]"},ia={class:"ait-pt-2 ait-text-[10px]"},aa={class:"ait-pt-2 ait-text-[10px]"},sa={class:"ait-pt-2 ait-text-[10px]"},oa={class:"ait-pt-2 ait-text-[10px]"},na=i("div",{class:"divider w-[70%] ait-mx-auto h-[1px] bg-[var(--ait-switchbar-btn-hover-bg-color)]"},null,-1),la={class:"bottom-area ait-mt-auto ait-flex ait-flex-col ait-justify-center ait-items-center ait-gap-2 mb-[2px]"},ra={class:"ait-flex ait-flex-col ait-w-full ait-gap-1 ait-cursor-pointer"},da={class:"ait-cursor-pointer",style:{"font-size":"8px"}},ca={class:"ait-flex ait-flex-col ait-w-full ait-gap-1 ait-cursor-pointer"},ua={class:"ait-switchbar-tab-item ait-rounded-lg ait-p-1 ait-items-center ait-flex ait-flex-col ait-cursor-pointer","data-ait-dropdown-toggle":"ait-invite-friends"},ha={class:"ait-cursor-pointer ait-text-center ait-text-balance",style:{"font-size":"8px"}},pa={class:"ait-flex ait-flex-col ait-gap-1 ait-w-full ait-cursor-pointer"},ga={class:"ait-switchbar-tab-item ait-rounded-lg ait-p-1 ait-cursor-pointer ait-items-center ait-flex ait-flex-col ait-min-h-[36px] ait-justify-center"},fa={class:"ait-flex ait-flex-col ait-gap-1 ait-w-full ait-cursor-pointer"},ma={class:"ait-switchbar-tab-item ait-rounded-lg ait-p-1 ait-cursor-pointer ait-items-center ait-flex ait-flex-col ait-min-h-[36px] ait-justify-center aitopia-options"},_a={class:"ait-flex ait-flex-col ait-gap-1 ait-w-full ait-cursor-pointer"},wa={class:"ait-switchbar-tab-item ait-rounded-lg ait-p-1 ait-cursor-pointer ait-items-center ait-flex ait-flex-col ait-min-h-[36px] ait-justify-center"};function ba(t,e,a,n,s,c){const u=y("svg-logo"),d=y("font-awesome-icon");return o(),l("div",Yi,[this.constants.runtime_id!=null?(o(),l("div",{key:0,onClick:e[0]||(e[0]=h=>t.sidebarToggle(!1,h))},[i("div",Qi,[m(u,{className:"ait-w-4.5 ait-h-4.5",name:"collapse_sidebar_icon"})])])):f("",!0),i("div",Xi,[i("div",{class:C("ait-switchbar-tab-item ait-rounded-lg ait-p-2 ait-cursor-pointer ait-arc-edge ait-flex ait-flex-col ait-items-center "+(this.settings.switchbar=="chat"?" active ":"")),onClick:e[1]||(e[1]=h=>this.changeStorage("settings.switchbar","chat",!1))},[i("span",null,[m(u,{className:"ait-w-5 ait-h-5",name:"chat_icon"})]),i("span",Ji,p(t.__("chat").toCapitalizeCase()),1)],2),i("div",{class:C("ait-switchbar-tab-item ait-rounded-lg ait-p-2 ait-cursor-pointer ait-arc-edge ait-flex ait-flex-col ait-items-center "+(this.settings.switchbar=="ask"?" active ":"")),onClick:e[2]||(e[2]=h=>{this.changeStorage("settings.switchbar","ask",!1)})},[i("span",null,[m(u,{className:"ait-w-5 ait-h-5",name:"ask_icon"})]),i("span",ta,p(t.__("ask").toCapitalizeCase()),1)],2),i("div",{class:C("ait-switchbar-tab-item ait-rounded-lg ait-p-2 ait-cursor-pointer ait-arc-edge ait-flex ait-flex-col ait-items-center "+(this.settings.switchbar=="web_search"?" active ":"")),onClick:e[3]||(e[3]=h=>this.changeStorage("settings.switchbar","web_search",!1))},[i("span",null,[m(d,{icon:"fa-solid fa-search",class:"ait-h-5 ait-w-5"})]),i("span",ea,p(t.__("Search").toCapitalizeCase()),1)],2),i("div",{class:C("ait-switchbar-tab-item ait-rounded-lg ait-p-2 ait-cursor-pointer ait-arc-edge ait-flex ait-flex-col ait-items-center "+(this.settings.switchbar=="write"?" active ":"")),onClick:e[4]||(e[4]=h=>{this.changeStorage("settings.switchbar","write",!1)})},[i("span",null,[m(d,{icon:"fa-solid fa-square-pen",class:"ait-h-5 ait-w-5"})]),i("span",ia,p(t.__("write").toCapitalizeCase()),1)],2),i("div",{class:C("ait-switchbar-tab-item ait-rounded-lg ait-p-2 ait-cursor-pointer ait-arc-edge ait-flex ait-flex-col ait-items-center "+(this.settings.switchbar=="image"?" active ":"")),onClick:e[5]||(e[5]=h=>{this.changeStorage("settings.switchbar","image",!1)})},[i("span",null,[m(d,{icon:"fa-solid fa-image",class:"ait-h-5 ait-w-5"})]),i("span",aa,p(t.__("image").toCapitalizeCase()),1)],2),i("div",{class:"ait-switchbar-tab-item ait-rounded-lg ait-p-2 ait-cursor-pointer ait-arc-edge ait-flex ait-flex-col ait-items-center","data-ait-dropdown-toggle":"ait-pdf-upload-modal",onClick:e[6]||(e[6]=h=>{this.changeStorage("settings.switchbar","chat",!1)})},[m(u,{className:"ait-w-5 ait-h-5",name:"chat_pdf_icon"}),i("span",sa,p(t.__("ChatPDF")),1)]),i("div",{class:"ait-switchbar-tab-item ait-rounded-lg ait-p-2 ait-cursor-pointer ait-arc-edge ait-flex ait-flex-col ait-items-center","data-ait-dropdown-toggle":"ait-image-vision-modal",onClick:e[7]||(e[7]=h=>{this.changeStorage("settings.switchbar","chat",!1)})},[i("span",null,[m(d,{icon:"fa-solid fa-eye",class:"ait-h-5 ait-w-5"})]),i("span",oa,p(t.__("vision").toCapitalizeCase()),1)])]),na,i("div",la,[i("div",ra,[i("div",{class:"ait-switchbar-tab-item ait-rounded-lg ait-p-1 ait-cursor-pointer ait-items-center ait-flex ait-flex-col",onClick:e[8]||(e[8]=h=>{t.Helpers.sendMessage("openPage",{url:"./src/html/full_screen.html"})})},[m(u,{className:"ait-w-4 ait-h-4",name:"full_screen_icon"}),i("label",da,p(t.__("Full Page")),1)])]),i("div",ca,[i("div",ua,[m(u,{className:"ait-w-4 ait-h-4",name:"gift_icon"}),i("label",ha,p(t.__(`Invite &
            Earn`)),1)])]),i("div",pa,[i("div",ga,[m(d,{icon:"fa-solid fa-envelope",class:"ait-h-4 ait-w-4",onClick:e[9]||(e[9]=h=>{t.Helpers.sendMessage("openPage",{url:"./src/html/options.html?mode=contact"})})})])]),i("div",fa,[i("div",ma,[m(d,{icon:"fa-solid fa-gear",class:"ait-h-4 ait-w-4"})])]),i("div",_a,[i("div",wa,[m(d,{icon:"fa-solid fa-user",class:"ait-h-4 ait-w-4 aitopia-login"})])])])])}const va=L(Gi,[["render",ba]]),ya={extends:H,props:["model"],data(){return{get_credit_model:(t=null)=>(t==null&&(t=_.notUndefined(this.settings,"ai_model")),this.credit_model=t??this.credit_model??null,typeof this.credit_details[this.credit_model]>"u"&&Object.keys(this.credit_details).forEach(e=>{this.credit_details[e].model.indexOf(this.credit_model)!==-1&&(this.credit_model=e)}),this.credit_model)}}},xa={class:"ait-flex ait-items-center ait-relative ait-space-x-1"},ka={"data-ait-dropdown-toggle":"ait-credit-dropdown",class:"ait-flex ait-w-[50px] ait-items-center ait-relative dark:ait-text-neutral-200 ait-border ait-rounded-full"},Ca=["src"],$a={key:0,class:"ait-text-sm"},La={key:1,class:"ait-text-sm"},Sa={key:0,type:"button",id:"aitopia-pricing",class:"ait-text-neutral-500 hover:ait-text-neutral-50 hover:ait-bg-green-700 ait-ml-1 ait-rounded-lg focus:ait-outline-none ait-text-xs ait-px-2 ait-py-1 ait-text-center aitopia-pricing"},Ma={id:"ait-credit-dropdown",class:"ait-z-20 ait-left-0 ait-bottom-[40px] ait-width-full ait-absolute ait-hide ait-w-full ait-max-w-[220px] ait-bg-white ait-divide-y ait-divide-neutral-100 ait-rounded-lg ait-shadow dark:ait-bg-neutral-900 dark:ait-divide-neutral-700"},Ha={class:"ait-block ait-px-3 ait-py-3 ait-font-medium ait-text-center ait-text-neutral-700 ait-rounded-t-lg ait-bg-neutral-50 dark:ait-bg-neutral-950 dark:ait-text-white"},Ta={class:"ait-font-bold"},Ua={key:0,type:"button",class:"ait-text-white ait-bg-green-700 hover:ait-bg-green-800 focus:ait-outline-none focus:ait-ring-4 focus:ait-ring-green-300 ait-font-medium ait-rounded-full ait-text-sm ait-px-5 ait-py-1 ait-text-center ait-ml-5 ait-mr-2 dark:ait-bg-green-600 dark:hover:ait-bg-green-700 dark:focus:ait-ring-green-800 aitopia-pricing"},Pa={class:"ait-divide-y ait-divide-neutral-100 dark:ait-divide-neutral-700"},Aa={class:"ait-flex ait-px-3 ait-py-3 hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700"},Ia=["onClick"],Ea={class:"ait-grid ait-grid-cols-4 ait-gap-4 ait-text-neutral-900 dark:ait-text-white ait-text-sm ait-mb-1.5 dark:ait-text-neutral-400"},ja={class:"ait-col-span-3"},Va={class:"ait-text-[10px] ait-text-neutral-500 ait-pt-2 dark:ait-text-neutral-400"},Ra={class:"ait-text-right"},za={key:0,class:"ait-text-sm"},Ba={key:1,class:"ait-text-sm"};function qa(t,e,a,n,s,c){return o(),l(x,null,[i("div",xa,[i("button",ka,[i("img",{src:`${t.constants.extension_dir}assets/images/coin.png`,width:"16px",height:"16px",alt:"coin image",class:"ait-w-4 ait-h-4"},null,8,Ca),((this.credit_details??{})[this.get_credit_model(a.model)]??!1)&&(this.credit_details[this.get_credit_model(a.model)].credit??0)>=0?(o(),l("div",$a,p(this.credit_details[this.get_credit_model(a.model)].balance??10),1)):(o(),l("span",La,"∞"))]),this.storage.Local.plan!="Premium"?(o(),l("button",Sa,p(t.__("Upgrade")),1)):f("",!0)]),i("div",Ma,[i("div",Ha,[i("span",Ta,p(this.storage.Local.plan)+" "+p(t.__("Plan")),1),this.storage.Local.plan!="Premium"?(o(),l("button",Ua,p(t.__("Upgrade")),1)):f("",!0)]),i("div",Pa,[(o(!0),l(x,null,M(this.credit_detail_visual,(u,d)=>(o(),l("div",Aa,[i("div",{class:"ait-w-full ait-px-1 ait-cursor-pointer",onClick:h=>{a.model==null&&u.name!=="Image"&&(this.credit_model=this.settings.ai_model=Object.keys(t.Helpers.ObjectSorting(u.models,!0,"priority"))[0])}},[i("div",Ea,[i("div",ja,[U(p(u.name)+" ",1),i("div",Va,p(Object.keys(t.Helpers.ObjectSorting(u.models,!0,"priority")).join(", ")),1)]),i("div",Ra,[u.credit>=0?(o(),l("span",za,p(u.credit??10),1)):(o(),l("span",Ba,"∞"))])])],8,Ia)]))),256))])])],64)}const Oa=L(ya,[["render",qa]]),Da={props:{title:String,detail:String,id:String,className:String,headless:Boolean}},Fa=["id"],Za={class:"ait-relative ait-w-full lg:ait-max-w-lg ait-max-h-full"},Wa={class:"ait-relative ait-bg-white ait-rounded-lg ait-shadow dark:ait-bg-neutral-800"},Na={key:0,class:"ait-px-6 ait-py-4 ait-border-b ait-rounded-t dark:ait-border-neutral-600"},Ka=["innerHTML"],Ga=i("button",{type:"button",class:"ait-absolute ait-top-3 ait-right-2.5 ait-text-neutral-400 ait-bg-transparent hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-lg ait-text-sm ait-w-8 ait-h-8 ait-ml-auto ait-inline-flex ait-justify-center ait-items-center dark:hover:ait-bg-neutral-600 dark:hover:ait-text-white","data-modal-hide":""},[i("svg",{class:"ait-w-3 ait-h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[i("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})]),i("span",{class:"ait-sr-only"},"Close modal")],-1);function Ya(t,e,a,n,s,c){return o(),l("div",{id:a.id,class:"ait-hide"},[i("div",{tabindex:"-1","aria-hidden":"true",class:C(["ait-fixed !ait-z-[999999] ait-modal ait-m-0 ait-bg-[rgba(0,0,0,.5)] ait-top-0 ait-left-0 ait-bottom-0 ait-right-0 ait-w-full ait-p-4 ait-overflow-x-hidden ait-overflow-y-auto lg:ait-inset-0 h-[calc(100%)] ait-max-h-full ait-justify-center ait-flex",a.className]),"data-modal-hide":""},[i("div",Za,[i("div",Wa,[!a.headless||!a.title?(o(),l("div",Na,[i("h3",{class:"ait-text-base ait-font-semibold ait-text-neutral-900 lg:ait-text-lg dark:ait-text-white ait-text-center",innerHTML:a.title},null,8,Ka),Ga])):f("",!0),et(t.$slots,"default"),a.detail?(o(),l(x,{key:1},[],64)):f("",!0)])])],2)],8,Fa)}const Qa=L(Da,[["render",Ya]]),Xa={extends:H,props:["mode"]},Ja=i("div",{class:"ait-grid-cols-2 ait-grid-cols-3 ait-col-span-2 ait-col-span-1 ait-col-span-3"},null,-1),ts={id:"ait-prompt-container",class:"ait-m-3"},es={class:"ait-col-span-2"},is=["value"],as=["for","innerHTML"],ss=["name","id","onUpdate:modelValue","placeholder","onChange"],os=["value","innerHTML"],ns=["type","placeholder","name","onUpdate:modelValue","onChange"],ls=["name","onUpdate:modelValue","placeholder","onChange"],rs={key:0,class:"ait-flex ait-flex-wrap ait-gap-[6px] ait-mt-1 ait-py-[4px] ait-rounded-md"},ds={key:0,class:"ait-relative"},cs={class:"ait-flex ait-items-center ait-gap-1 ait-leading-none ait-cursor-pointer ait-transition-all ait-duration-200"},us=["value","name","onUpdate:modelValue","id","onChange"],hs=["for","innerHTML"],ps={key:0,class:"ait-flex ait-mt-3"},gs=["placeholder"],fs={key:1,class:"ait-flex ait-relative ait-mt-3"},ms=["placeholder"],_s={key:2,class:"ait-flex ait-mt-3"};function ws(t,e,a,n,s,c){const u=y("single-response");return o(),l(x,null,[Ja,i("div",ts,[i("div",{class:C("ait-flex ait-grid ait-gap-2  ait-grid-cols-"+(t.Helpers.notUndefined(this.$data,"selected_ask.settings")!=null?"3":"2"))},[i("div",es,[this.selected_ask!=null?P((o(),l("select",{key:0,name:"prompt_id","onUpdate:modelValue":e[0]||(e[0]=d=>this.selected_ask.id=d),onChange:e[1]||(e[1]=d=>this.changeStorage("selected_ask",this.ai_prompts[`id_${this.selected_ask.id}`],!1)),class:"ait-block ait-w-full ait-p-2 ait-text-md ait-text-neutral-900 ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-neutral-100 focus:ait-border-green-500 dark:ait-bg-neutral-900 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:ait-focus:border-green-500"},[(o(!0),l(x,null,M(this.ai_prompts,(d,h)=>(o(),l(x,null,[d.match==null&&t.Helpers.notUndefined(d,"mode")=="ask"?(o(),l("option",{key:0,value:d.id,class:"ait-text-md ait-p-2"},p(t.__(d.name).toFirstUpperCase()),9,is)):f("",!0)],64))),256))],544)),[[W,this.selected_ask.id]]):f("",!0)]),t.Helpers.notUndefined(this.$data,"selected_ask.settings")!=null?(o(!0),l(x,{key:0},M(this.selected_ask.settings,(d,h)=>(o(),l(x,null,[(o(!0),l(x,null,M(d,g=>(o(),l(x,null,[(o(!0),l(x,null,M(g,(r,w,b)=>(o(),l("div",{class:C(["ait-col-span-1 ait-relative",b==0?"ait-col-span-1":"ait-col-span-3"])},[t.Helpers.notUndefined(r,"label")||t.Helpers.notUndefined(r,"label_before")?(o(),l("label",{key:0,for:`${w}-_-${this.selected_ask.id}_${h}`,class:"ait-inline-flex ait-items-center ait-justify-between ait-gap-2 ait-p-1 ait-m-1 ait-text-neutral-500 dark:ait-text-neutral-200",innerHTML:(t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(r,"label"))?(t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(r,"label_before"))?t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(r,"label_before"))+" ":"")+t.__(t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(r,"label"))):(t.Helpers.notUndefined(r,"label_before")?t.Helpers.notUndefined(r,"label_before")+" ":"")+t.__(t.Helpers.notUndefined(r,"label")))+":"},null,8,as)):f("",!0),t.Helpers.notUndefined(r,"type")=="select"?P((o(),l("select",{key:1,name:`${w}-_-${this.selected_ask.id}_${h}`,id:`${w}-_-${this.selected_ask.id}_${h}`,"onUpdate:modelValue":v=>this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`]=v,placeholder:t.__(t.Helpers.notUndefined(r,"placeholder")),onChange:v=>{this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`]=v.target.value,this.changeStorage(`prompt_settings.${w}-_-${this.selected_ask.id}_${h}`,this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`],!1)},class:C((t.Helpers.notUndefined(r,"class")??"")+" ait-block ait-w-full ait-p-2 ait-text-md ait-text-neutral-900 ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-neutral-100 focus:ait-border-green-500 dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:ait-focus:border-green-500")},[t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(r,"model"))?(o(!0),l(x,{key:0},M(t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(r,"model")),(v,k)=>(o(),l("option",{value:t.Helpers.notUndefined(v,t.Helpers.notUndefined(r,"model_prefix")),class:"ait-text-md ait-p-2",innerHTML:(t.Helpers.notUndefined(v,t.Helpers.notUndefined(r,"model_element_before"))??null?(t.Helpers.notUndefined(v,t.Helpers.notUndefined(r,"model_element_before"))??null)+" ":"")+(t.Helpers.notUndefined(r,"no_translate")?t.Helpers.notUndefined(v,t.Helpers.notUndefined(r,"model_element")):t.__(t.Helpers.notUndefined(v,t.Helpers.notUndefined(r,"model_element"))))},null,8,os))),256)):f("",!0)],42,ss)),[[W,this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`]]]):t.Helpers.notUndefined(r,"type")=="input"?P((o(),l("input",{key:2,type:t.Helpers.notUndefined(r,"input_type")??"text",placeholder:t.__(t.Helpers.notUndefined(r,"placeholder")),name:`${w}-_-${this.selected_ask.id}_${h}`,"onUpdate:modelValue":v=>this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`]=v,onChange:v=>{this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`]=v.target.value,this.changeStorage(`prompt_settings.${w}-_-${this.selected_ask.id}_${h}`,this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`],!1)},class:C((t.Helpers.notUndefined(r,"class")??"")+" ait-block ait-w-full ait-p-2 ait-text-md ait-text-neutral-900 ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-neutral-100 focus:ait-border-green-500 dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:ait-focus:border-green-500")},null,42,ns)),[[it,this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`]]]):t.Helpers.notUndefined(r,"type")=="textarea"?P((o(),l("textarea",{key:3,name:`${w}-_-${this.selected_ask.id}_${h}`,"onUpdate:modelValue":v=>this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`]=v,placeholder:t.__(t.Helpers.notUndefined(r,"placeholder")),onChange:v=>{this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`]=v.target.value,this.changeStorage(`prompt_settings.${w}-_-${this.selected_ask.id}_${h}`,this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`],!1)},class:C((t.Helpers.notUndefined(r,"class")??"")+" ait-h-[112px] ait-resize-none ait-block ait-p-2.5 ait-w-full ait-text-xs ait-text-neutral-900 ait-bg-neutral-50 ait-rounded-lg ait-border ait-border-neutral-300 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] focus:ait-border-[var(--ait-tab-menu-active-bg-color)] dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] dark:focus:ait-border-[var(--ait-tab-menu-active-bg-color)]"),rows:"4"},null,42,ls)),[[z,this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`]]]):f("",!0),t.Helpers.notUndefined(r,"type")==="radio"?(o(),l(x,{key:4},[t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(r,"model"))?(o(),l("div",rs,[(o(!0),l(x,null,M(t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(r,"model")),(v,k)=>(o(),l(x,null,[!t.Helpers.notUndefined(r,"indexof")||Object.values(t.Helpers.notUndefined(r,"indexof")??{}).indexOf(t.Helpers.notUndefined(v,t.Helpers.notUndefined(r,"model_prefix")))!==-1?(o(),l("div",ds,[i("div",cs,[P(i("input",{type:"radio",class:"ait-hidden ait-peer",required:"",value:t.Helpers.notUndefined(v,t.Helpers.notUndefined(r,"model_prefix")),name:`${w}-_-${this.selected_ask.id}_${h}`,"onUpdate:modelValue":$=>this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`]=$,id:`${w}-_-${this.selected_ask.id}_${h}_${t.Helpers.notUndefined(v,t.Helpers.notUndefined(r,"model_prefix"))}`,onChange:$=>{this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`]=$.target.value,this.changeStorage(`prompt_settings.${w}-_-${this.selected_ask.id}_${h}`,this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`],!1)}},null,40,us),[[X,this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`]]]),i("label",{for:`${w}-_-${this.selected_ask.id}_${h}_${t.Helpers.notUndefined(v,t.Helpers.notUndefined(r,"model_prefix"))}`,class:C((t.Helpers.notUndefined(r,"class")??"")+(this.prompt_settings[`${w}-_-${this.selected_write.id}_${h}`]===v.prefix?" ait-checked ":"")+" ait-inline-flex ait-items-center ait-justify-between ait-gap-2 ait-py-1 ait-px-2 ait-text-neutral-500 ait-bg-white ait-border ait-border-neutral-200 ait-rounded-lg ait-cursor-pointer dark:hover:ait-text-neutral-300 dark:ait-border-neutral-700 dark:peer-checked:ait-text-[var(--ait-tab-menu-active-bg-color)] peer-checked:ait-border-[var(--ait-tab-menu-active-bg-color)] peer-checked:ait-text-[var(--ait-tab-menu-active-bg-color)] hover:ait-text-neutral-600 hover:ait-bg-neutral-100 dark:ait-text-neutral-400 dark:ait-bg-neutral-800 dark:hover:ait-bg-neutral-700"),innerHTML:(t.Helpers.notUndefined(v,t.Helpers.notUndefined(r,"model_element_before"))??null?(t.Helpers.notUndefined(v,t.Helpers.notUndefined(r,"model_element_before"))??null)+" ":"")+(t.Helpers.notUndefined(r,"no_translate")?t.Helpers.notUndefined(v,t.Helpers.notUndefined(r,"model_element")):t.__(t.Helpers.notUndefined(v,t.Helpers.notUndefined(r,"model_element"))))},null,10,hs)])])):f("",!0)],64))),256))])):f("",!0)],64)):f("",!0)],2))),256))],64))),256))],64))),256)):f("",!0)],2),this.selected_ask?(o(),l(x,{key:0},[t.Helpers.notUndefined(this.selected_ask,"prompt")?(o(),l("div",ps,[P(i("textarea",{"onUpdate:modelValue":e[2]||(e[2]=d=>this.selected_ask.prompt=d),name:"prompt",class:"ait-h-[112px] ait-resize-none ait-block ait-p-2.5 ait-w-full ait-text-xs ait-text-neutral-900 ait-bg-neutral-50 ait-rounded-lg ait-border ait-border-neutral-300 focus:ait-ring-blue-500 focus:ait-border-blue-500 dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:focus:ait-ring-blue-500 dark:focus:ait-border-blue-500",rows:"4",placeholder:t.__("Input prompt or choose from menu")},null,8,gs),[[z,this.selected_ask.prompt]])])):f("",!0)],64)):f("",!0),this.selected_ask?(o(),l("div",fs,[P(i("textarea",{"onUpdate:modelValue":e[3]||(e[3]=d=>this.prompt_settings.selection=d),id:"ait-prompt-selection",onChange:e[4]||(e[4]=d=>{this.prompt_settings.selection=d.target.value,this.changeStorage("prompt_settings.selection",this.prompt_settings.selection,!1)}),name:"selection",class:C((this.selected_ask.name!="Reply"?"ait-selection-container":"")+" ait-ai-text-item ait-resize-none ait-h-[112px] ait-block ait-p-2.5 ait-w-full ait-text-xs ait-text-neutral-900 ait-bg-neutral-50 ait-rounded-lg ait-border ait-border-neutral-300 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] focus:ait-border-[var(--ait-tab-menu-active-bg-color)] dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] dark:focus:ait-border-[var(--ait-tab-menu-active-bg-color)]"),rows:"4",placeholder:(t.Helpers.notUndefined(this.selected_ask,"prompt")?t.__("Paste or input content here"):t.__("Input prompt or choose from menu"))+`
`+((this.settings.send_cmd??"")==""?"":t.__(`Press ${this.settings.send_cmd=="shift+enter"?"Enter":"Shift + Enter"} to start a new line`))},`
      `,42,ms),[[z,this.prompt_settings.selection]])])):f("",!0),this.selected_ask?(o(),l("div",_s,[i("button",{type:"button",id:"ait-prompt-submit",onClick:e[5]||(e[5]=d=>t.SingleAi.build(this,this.selected_ask.id,this.prompt_settings.selection,this.settings.ai_model,this.selected_ask.prompt)),class:"ait-w-full focus:ait-outline-none ait-text-white ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-bg-green-800 focus:ait-ring-4 focus:ait-ring-green-300 ait-font-medium ait-rounded-lg ait-text-sm ait-px-5 ait-py-2.5 ait-mb-2 dark:ait-bg-[var(--ait-tab-menu-active-bg-color)] dark:hover:ait-bg-green-800 dark:focus:ait-ring-green-800"},p(t.__("Submit"))+" ("+p(this.settings.send_cmd)+") ",1)])):f("",!0),this.selected_ask&&String(this.prompt_settings.selection).length>0?(o(),l("div",{key:3,class:C(["ait-w-full ait-mt-2",a.mode==="full"&&"ait-h-full ait-overflow-y-auto"])},[m(u,{mode:this.mode,id:"aitopia-prompt-response",class:"ait-p-3 ait-rounded-lg ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-neutral-200",custom_key:t.Helpers.SHA1(this.selected_ask.id)},null,8,["mode","custom_key"])],2)):f("",!0)])],64)}const bs=L(Xa,[["render",ws]]),vs={extends:H,props:{data_key:String}},ys={class:"ait-col-span-1 ait-relative ait-w-full"},xs=["for","innerHTML"],ks=["name","id","onUpdate:modelValue","placeholder","onChange"],Cs=["value","innerHTML"],$s=["type","placeholder","name","onUpdate:modelValue","onChange"],Ls=["name","onUpdate:modelValue","placeholder","onChange"],Ss={key:0,class:"ait-flex ait-flex-wrap ait-gap-[6px] ait-mt-1 ait-py-[4px] ait-rounded-md"},Ms={key:0,class:"ait-relative"},Hs={class:"ait-flex ait-items-center ait-gap-1 ait-leading-none ait-cursor-pointer ait-transition-all ait-duration-200"},Ts=["value","name","onUpdate:modelValue","id","onChange"],Us=["for","innerHTML"];function Ps(t,e,a,n,s,c){return t.Helpers.notUndefined(this.$data,`${a.data_key}.settings`)!=null?(o(!0),l(x,{key:0},M(this[a.data_key].settings,(u,d)=>(o(),l(x,null,[(o(!0),l(x,null,M(u,h=>(o(),l(x,null,[(o(!0),l(x,null,M(h,(g,r,w)=>(o(),l("div",ys,[t.Helpers.notUndefined(g,"label")||t.Helpers.notUndefined(g,"label_before")?(o(),l("label",{key:0,for:`${r}-_-${this[a.data_key].id}_${d}`,class:"ait-inline-flex ait-gap-2 ait-p-1 ait-m-1 ait-text-neutral-500 dark:ait-text-neutral-200",innerHTML:(t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(g,"label"))?(t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(g,"label_before"))?t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(g,"label_before"))+" ":"")+t.__(t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(g,"label"))):(t.Helpers.notUndefined(g,"label_before")?t.Helpers.notUndefined(g,"label_before")+" ":"")+t.__(t.Helpers.notUndefined(g,"label")))+":"},null,8,xs)):f("",!0),t.Helpers.notUndefined(g,"type")=="select"?P((o(),l("select",{key:1,name:`${r}-_-${this[a.data_key].id}_${d}`,id:`${r}-_-${this[a.data_key].id}_${d}`,"onUpdate:modelValue":b=>this.prompt_settings[`${r}-_-${this[a.data_key].id}_${d}`]=b,placeholder:t.__(t.Helpers.notUndefined(g,"placeholder")),onChange:b=>{this.prompt_settings[`${r}-_-${this[a.data_key].id}_${d}`]=b.target.value,this.changeStorage(`prompt_settings.${r}-_-${this[a.data_key].id}_${d}`,this.prompt_settings[`${r}-_-${this[a.data_key].id}_${d}`],!1)},class:C((t.Helpers.notUndefined(g,"class")??"")+" ait-block ait-w-full ait-p-2 ait-text-md ait-text-neutral-900 ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-neutral-100 focus:ait-border-green-500 dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:ait-focus:border-green-500")},[t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(g,"model"))?(o(!0),l(x,{key:0},M(t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(g,"model")),b=>(o(),l("option",{value:t.Helpers.notUndefined(b,t.Helpers.notUndefined(g,"model_prefix")),class:"ait-text-md ait-p-2",innerHTML:(t.Helpers.notUndefined(b,t.Helpers.notUndefined(g,"model_element_before"))??null?(t.Helpers.notUndefined(b,t.Helpers.notUndefined(g,"model_element_before"))??null)+" ":"")+(t.Helpers.notUndefined(g,"no_translate")?t.Helpers.notUndefined(b,t.Helpers.notUndefined(g,"model_element")):t.__(t.Helpers.notUndefined(b,t.Helpers.notUndefined(g,"model_element"))))},null,8,Cs))),256)):f("",!0)],42,ks)),[[W,this.prompt_settings[`${r}-_-${this[a.data_key].id}_${d}`]]]):t.Helpers.notUndefined(g,"type")=="input"?P((o(),l("input",{key:2,type:t.Helpers.notUndefined(g,"input_type")??"text",placeholder:t.__(t.Helpers.notUndefined(g,"placeholder")),name:`${r}-_-${this[a.data_key].id}_${d}`,"onUpdate:modelValue":b=>this.prompt_settings[`${r}-_-${this[a.data_key].id}_${d}`]=b,onChange:b=>{this.prompt_settings[`${r}-_-${this[a.data_key].id}_${d}`]=b.target.value,this.changeStorage(`prompt_settings.${r}-_-${this[a.data_key].id}_${d}`,this.prompt_settings[`${r}-_-${this[a.data_key].id}_${d}`],!1)},class:C((t.Helpers.notUndefined(g,"class")??"")+" ait-block ait-w-full ait-p-2 ait-text-md ait-text-neutral-900 ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-neutral-100 focus:ait-border-green-500 dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:ait-focus:border-green-500")},null,42,$s)),[[it,this.prompt_settings[`${r}-_-${this[a.data_key].id}_${d}`]]]):t.Helpers.notUndefined(g,"type")=="textarea"?P((o(),l("textarea",{key:3,name:`${r}-_-${this[a.data_key].id}_${d}`,"onUpdate:modelValue":b=>this.prompt_settings[`${r}-_-${this[a.data_key].id}_${d}`]=b,placeholder:t.__(t.Helpers.notUndefined(g,"placeholder")),onChange:b=>{this.prompt_settings[`${r}-_-${this[a.data_key].id}_${d}`]=b.target.value,this.changeStorage(`prompt_settings.${r}-_-${this[a.data_key].id}_${d}`,this.prompt_settings[`${r}-_-${this[a.data_key].id}_${d}`],!1)},class:C((t.Helpers.notUndefined(g,"class")??"")+" ait-h-[112px] ait-resize-none ait-block ait-p-2.5 ait-w-full ait-text-xs ait-text-neutral-900 ait-bg-neutral-50 ait-rounded-lg ait-border ait-border-neutral-300 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] focus:ait-border-[var(--ait-tab-menu-active-bg-color)] dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] dark:focus:ait-border-[var(--ait-tab-menu-active-bg-color)]"),rows:"4"},null,42,Ls)),[[z,this.prompt_settings[`${r}-_-${this[a.data_key].id}_${d}`]]]):f("",!0),t.Helpers.notUndefined(g,"type")==="radio"?(o(),l(x,{key:4},[t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(g,"model"))?(o(),l("div",Ss,[(o(!0),l(x,null,M(t.Helpers.ObjectSorting(t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(g,"model")),!0,"priority"),b=>(o(),l(x,null,[!t.Helpers.notUndefined(g,"indexof")||Object.values(t.Helpers.notUndefined(g,"indexof")??{}).indexOf(t.Helpers.notUndefined(b,t.Helpers.notUndefined(g,"model_prefix")))!==-1?(o(),l("div",Ms,[i("div",Hs,[P(i("input",{type:"radio",class:"ait-hidden ait-peer",required:"",value:t.Helpers.notUndefined(b,t.Helpers.notUndefined(g,"model_prefix")),name:`${r}-_-${this[a.data_key].id}_${d}`,"onUpdate:modelValue":v=>this.prompt_settings[`${r}-_-${this[a.data_key].id}_${d}`]=v,id:`${r}-_-${this[a.data_key].id}_${d}_${t.Helpers.notUndefined(b,t.Helpers.notUndefined(g,"model_prefix"))}`,onChange:v=>{this.prompt_settings[`${r}-_-${this[a.data_key].id}_${d}`]=v.target.value,this.changeStorage(`prompt_settings.${r}-_-${this[a.data_key].id}_${d}`,this.prompt_settings[`${r}-_-${this[a.data_key].id}_${d}`],!1)}},null,40,Ts),[[X,this.prompt_settings[`${r}-_-${this[a.data_key].id}_${d}`]]]),i("label",{for:`${r}-_-${this[a.data_key].id}_${d}_${t.Helpers.notUndefined(b,t.Helpers.notUndefined(g,"model_prefix"))}`,class:C((t.Helpers.notUndefined(g,"class")??"")+(this.prompt_settings[`${r}-_-${this[a.data_key].id}_${d}`]===b.prefix?" ait-checked ":"")+" ait-inline-flex ait-items-center ait-justify-between ait-gap-2 ait-py-1 ait-px-2 ait-text-neutral-500 ait-bg-white ait-border ait-border-neutral-200 ait-rounded-lg ait-cursor-pointer dark:hover:ait-text-neutral-300 dark:ait-border-neutral-700 dark:peer-checked:ait-text-[var(--ait-tab-menu-active-bg-color)] peer-checked:ait-border-[var(--ait-tab-menu-active-bg-color)] peer-checked:ait-text-[var(--ait-tab-menu-active-bg-color)] hover:ait-text-neutral-600 hover:ait-bg-neutral-100 dark:ait-text-neutral-400 dark:ait-bg-neutral-800 dark:hover:ait-bg-neutral-700"),innerHTML:(t.Helpers.notUndefined(b,t.Helpers.notUndefined(g,"model_element_before"))??null?(t.Helpers.notUndefined(b,t.Helpers.notUndefined(g,"model_element_before"))??null)+" ":"")+(t.Helpers.notUndefined(g,"no_translate")?t.Helpers.notUndefined(b,t.Helpers.notUndefined(g,"model_element")):t.__(t.Helpers.notUndefined(b,t.Helpers.notUndefined(g,"model_element"))))},null,10,Us)])])):f("",!0)],64))),256))])):f("",!0)],64)):f("",!0)]))),256))],64))),256))],64))),256)):f("",!0)}const bt=L(vs,[["render",Ps]]),As={components:{PromptBuilder:bt},extends:H,props:["mode"]},Is=i("div",{class:"ait-grid-cols-2 ait-grid-cols-3 ait-col-span-2 ait-col-span-1 ait-col-span-3 peer-checked:ait-fill-[var(--ait-tab-menu-active-bg-color)] ait-fill-[var(--ait-tab-menu-active-bg-color)] ait-overflow-y-auto"},null,-1),Es={id:"ait-prompt-container",class:"ait-overflow-y-auto ait-m-3 ait-pb-4"},js={class:"ait-flex ait-grid ait-gap-2 ait-grid-cols-1"},Vs={class:"ait-col-span-1"},Rs={key:0,class:"ait-flex ait-flex-wrap ait-gap-[6px] ait-py-[4px] ait-rounded-md"},zs=["onClick"],Bs={key:0,class:"ait-flex ait-relative"},qs=["placeholder"],Os={key:1,class:"ait-flex ait-relative"},Ds=["placeholder"],Fs={key:0,class:"ait-flex ait-mt-3"};function Zs(t,e,a,n,s,c){const u=y("prompt-builder"),d=y("single-response");return o(),l(x,null,[Is,i("div",Es,[i("div",js,[i("div",Vs,[this.selected_write!=null?(o(),l("div",Rs,[(o(!0),l(x,null,M(this.ai_prompts,(h,g)=>(o(),l(x,null,[h.match==null&&t.Helpers.notUndefined(h,"mode")=="write"?(o(),l("div",{key:0,class:C((h.id==this.selected_write.id?"ait-selected-write":"")+" ait-flex ait-items-center ait-gap-3 ait-p-3 ait-leading-none ait-cursor-pointer ait-transition-all ait-duration-200"),onClick:r=>{this.changeStorage("selected_write",this.ai_prompts[`id_${h.id}`],!1)}},p(t.__(h.name).toFirstUpperCase()),11,zs)):f("",!0)],64))),256))])):f("",!0)]),this.selected_write?(o(),l("div",Bs,[this.selected_write.name=="Reply"?P((o(),l("textarea",{key:0,id:"ait-prompt-original-text","onUpdate:modelValue":e[0]||(e[0]=h=>this.prompt_settings.original_text=h),onChange:e[1]||(e[1]=h=>{this.prompt_settings.original_text=h.target.value,this.changeStorage("prompt_settings.original_text",this.prompt_settings.original_text,!1),t.Helpers.autoHeightTextArea(h.target,90)}),name:"original_text",class:"ait-selection-container ait-ai-text-item ait-resize-none ait-block ait-p-2.5 ait-w-full ait-text-xs ait-rounded-lg ait-border ait-border-neutral-300 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] focus:ait-border-[var(--ait-tab-menu-active-bg-color)] dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] dark:focus:ait-border-[var(--ait-tab-menu-active-bg-color)]",placeholder:t.__("The original text to which you want to reply"),onKeyup:e[2]||(e[2]=h=>t.Helpers.autoHeightTextArea(h.target,90)),rows:"1",style:{background:"rgba(var(--ait-fg-rgb), 0.05)",color:"rgba(var(--ait-fg-rgb), 0.75)",resize:"none",padding:"15px!important","min-height":"46px","max-height":"68px"}},`
      `,40,qs)),[[z,this.prompt_settings.original_text]]):f("",!0)])):f("",!0),this.selected_write?(o(),l("div",Os,[P(i("textarea",{"onUpdate:modelValue":e[3]||(e[3]=h=>this.prompt_settings.selection=h),id:"ait-prompt-selection",onChange:e[4]||(e[4]=h=>{this.prompt_settings.selection=h.target.value,this.changeStorage("prompt_settings.selection",this.prompt_settings.selection,!1)}),name:"selection",class:C((this.selected_write.name!="Reply"?"ait-selection-container":"")+" ait-ai-text-item ait-resize-none ait-h-[112px] ait-block ait-p-2.5 ait-w-full ait-text-xs ait-text-neutral-900 ait-bg-neutral-50 ait-rounded-lg ait-border ait-border-neutral-300 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] focus:ait-border-[var(--ait-tab-menu-active-bg-color)] dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] dark:focus:ait-border-[var(--ait-tab-menu-active-bg-color)]"),rows:"4",placeholder:(this.selected_write.name=="Reply"?t.__("The general content of your reply to the above text"):t.__("The topic you want to compose"))+`
`+((this.settings.send_cmd??"")==""?"":t.__(`Press ${this.settings.send_cmd.replace(/\+/g," ").toCapitalizeCase()} to generate draft`))},`
      `,42,Ds),[[z,this.prompt_settings.selection]])])):f("",!0),m(u,{data_key:"selected_write"})]),this.selected_write?(o(),l("div",Fs,[i("button",{type:"button",id:"ait-prompt-submit",onClick:e[5]||(e[5]=h=>t.SingleAi.build(this,this.selected_write.id,this.prompt_settings.selection,this.settings.ai_model,this.selected_write.prompt)),class:"ait-w-full focus:ait-outline-none ait-text-white ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-bg-green-800 focus:ait-ring-4 focus:ait-ring-green-300 ait-font-medium ait-rounded-lg ait-text-sm ait-px-5 ait-py-2.5 ait-mb-2 dark:ait-bg-[var(--ait-tab-menu-active-bg-color)] dark:hover:ait-bg-green-800 dark:focus:ait-ring-green-800"},p(t.__("Submit"))+" ("+p(this.settings.send_cmd)+") ",1)])):f("",!0),this.selected_write?(o(),l("div",{key:1,class:C(["ait-w-full ait-mt-2",a.mode==="full"&&"ait-h-full ait-overflow-y-auto"])},[m(d,{mode:this.mode,id:"aitopia-prompt-response",class:"ait-p-3 ait-rounded-lg ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-neutral-200",custom_key:t.Helpers.SHA1(this.selected_write.id)},null,8,["mode","custom_key"])],2)):f("",!0)])],64)}const Ws=L(As,[["render",Zs]]),Ns={extends:H,props:["id","custom_key","class","mode"]},Ks=["id","data-key"],Gs=["aria-details"],Ys=["innerHTML"],Qs={key:0,id:"ait-continue-chat-ai_single",class:"ait-continue-chat ait-flex ait-items-center ait-justify-center ait-w-full"},Xs=["data-title"],Js={class:"ait-flex ait-w-full ait-gap-2 ait-items-center ait-justify-center"},to={key:1},eo={class:"ait-flex ait-items-center ait-space-x-2 ait-float-right ait-cursor-pointer aitopia-result-copy"},io=i("div",{class:"ait-clear-both"},null,-1),ao={key:0,class:"ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 ait-text-red-800 dark:ait-text-red-200"},so={class:"ait-py-4 ait-text-center ait-text-red-800 dark:ait-text-red-200"},oo={href:"https://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter",class:"ait-text-blue-800 dark:ait-text-blue-400 hover:ait-text-blue-600",style:{"text-decoration":"underline"},target:"_blank"},no=i("div",{class:"ait-clear-both"},null,-1),lo=["aria-label"],ro={key:1,class:"aitopia-gpt-4 ait-text-sm ait-w-full ait-text-neutral-500 dark:ait-text-neutral-300 ait-mt-3 ait-border ait-border-solid ait-border-[var(--ait-tab-menu-active-bg-color)] hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-text-white ait-rounded-lg focus:ait-outline-none ait-text-xs ait-py-1 ait-px-4 ait-text-center"},co={key:1,class:"ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 dark:ait-text-gray-200"},uo={class:"ait-w-full ait-py-4 ait-flex ait-grid ait-grid-1"},ho={key:2,class:"ait-px-3 ait-py-1 ait-text-red-800 dark:ait-text-red-200 ait-bg-neutral-100 dark:ait-bg-neutral-900"},po=["innerHTML"],go={id:"ait-stop-chat-ai_single",class:"ait-stop-chat ait-hide"},fo={class:"ait-text-white hover:ait-bg-green-800 ait-font-medium ait-text-md ait-px-5 ait-py-2 ait-rounded-md dark:hover:ait-bg-[var(--ait-tab-menu-active-bg-color)]"},mo={class:"ait-flex ait-w-full ait-gap-2 ait-items-center ait-justify-center"},_o=i("svg",{stroke:"currentColor",fill:"none","stroke-width":"2",viewBox:"0 0 24 24","stroke-linecap":"round","stroke-linejoin":"round",class:"icon-xs",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},[i("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"})],-1);function wo(t,e,a,n,s,c){const u=y("font-awesome-icon"),d=y("svg-logo");return this.ai_single!=null?(o(),l(x,{key:0},[typeof this.ai_single[a.custom_key]<"u"?(o(),l(x,{key:0},[this.ai_single[a.custom_key]!=null?(o(),l("div",{key:0,id:a.id!=null?a.id:"","data-key":a.custom_key,class:C("ait-response ait-break-auto "+this.class)},[(o(!0),l(x,null,M(Object.values(this.ai_single[a.custom_key]),(h,g)=>(o(),l("div",{"aria-details":`chat-key-${g}`,class:C(h.role=="system"||h.role=="assistant"?"ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-gray-200":"")},[h.role=="system"||h.role=="assistant"?(o(),l(x,{key:0},[i("div",{class:C(`ai_result ${h.loading?"ai_loading":""}`),innerHTML:t.AiApi.prefixify(t.AiApi.linkify(h.item)).replace(/\n/g,"<br/>")},null,10,Ys),t.Helpers.notUndefined(h,"finish_reason")=="length"?(o(),l("div",Qs,[i("button",{"data-title":t.__("Continue"),class:"ait-text-white hover:ait-bg-green-800 ait-font-small ait-text-md ait-px-3 ait-py-1.5 ait-my-2 ait-rounded-md dark:hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-items-center ait-justify-center"},[i("div",Js,[m(u,{icon:"fa-solid fa-play",class:"ait-h-4 ait-w-4"}),U(" "+p(t.__("Continue generating")),1)])],8,Xs)])):f("",!0),h.loading?f("",!0):(o(),l("div",to,[i("div",eo,[m(d,{className:"ait-w-3 ait-h-3",name:"clipboard"}),i("span",null,p(t.__("copy")),1)]),io,t.Helpers.notUndefined(h,"finish_reason")=="content_filter"?(o(),l("div",ao,[i("div",so,[U(p(t.__("Response is stopped due to Content Filtering Policy. Please try again later by obeying the"))+" ",1),i("a",oo,p(t.__("Content Filtering Policy")),1)])])):f("",!0),no,i("button",{"aria-label":`${a.mode==="full"&&"ait-tab-0-chat"}`,onClick:e[0]||(e[0]=(...r)=>t.fullTabMenu&&t.fullTabMenu(...r)),role:"button",class:"ait-continue-btn ait-w-full ait-flex ait-items-center ait-justify-center ait-text-white ait-mt-3 ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-bg-neutral-800 ait-rounded-lg focus:ait-outline-none ait-text-xs ait-py-1 ait-px-4 ait-text-center"},[m(d,{className:"ait-mr-1 ait-w-[14px] ait-h-[14px]",name:"comment_ico"}),U(" "+p(t.__("Continue in chat")),1)],8,lo),h.model=="GPT-3.5"?(o(),l("button",ro,p(t.__("Get smarter answer from GPT-4")),1)):f("",!0)]))],64)):h.role=="limit"?(o(),l("div",co,[i("div",uo,[i("div",null,p(t.__("Your usage limit has been reached. Please upgrade your plan to continue using.")),1),i("button",{type:"button",onClick:e[1]||(e[1]=r=>{this.clickOpenPage(this.constants.extension_pricing)}),class:"ait-mt-3 ait-text-white ait-bg-green-700 hover:ait-bg-green-800 focus:ait-outline-none focus:ait-ring-4 focus:ait-ring-green-300 ait-font-medium ait-rounded-full ait-text-sm ait-px-5 ait-py-1 ait-text-center ait-ml-5 ait-mr-2 dark:ait-bg-green-600 dark:hover:ait-bg-green-700 dark:focus:ait-ring-green-800 aitopia-pricing"},p(t.__("Upgrade")),1)])])):h.role=="error"?(o(),l("div",ho,[i("div",{class:"ait-py-4 ait-text-center ait-text-red-800 dark:ait-text-red-200",innerHTML:t.AiApi.prefixify(t.AiApi.linkify(h.item)).replace(/\n/g,"<br/>")},null,8,po)])):f("",!0)],10,Gs))),256)),i("div",go,[i("button",fo,[i("div",mo,[_o,U(" "+p(t.__("Stop generating")),1)])])])],10,Ks)):f("",!0)],64)):f("",!0)],64)):f("",!0)}const bo=L(Ns,[["render",wo]]),vo={extends:H,data(){return{showMakeAReviewModal:!1}},methods:{toggleMakeAReviewModal(){this.showMakeAReviewModal=!this.showMakeAReviewModal}}},yo={key:0,class:"ait-flex ait-relative ait-items-end ait-justify-between"},xo={class:"ait-w-full ait-text-center ait-pr-3"},ko=i("span",{class:"ait-text-red-600 ait-text-[10px]"},"❤",-1);function Co(t,e,a,n,s,c){return this.show_review?(o(),l("div",yo,[i("div",xo,[i("button",{type:"button",onClick:e[0]||(e[0]=(...u)=>this.toggleMakeAReviewModal&&this.toggleMakeAReviewModal(...u)),"data-ait-dropdown-toggle":"ait-make-a-review",class:"ait-flex-col ait-text-[11px] ait-text-[var(--ait-link-color)] hover:ait-text-neutral-700 dark:hover:ait-text-neutral-100"},[U(p(t.__("Make a Review & Earn Credit"))+" ",1),ko])])])):f("",!0)}const $o=L(vo,[["render",Co]]),Lo={extends:H,methods:{toggleMakeAReviewModal(){this.showMakeAReviewModal=!this.showMakeAReviewModal}}},So={key:0,id:"ait-make-a-review",tabindex:"-1","aria-hidden":"true",class:"ait-items-center ait-h-full ait-fixed ait-m-0 ait-bg-[rgba(0,0,0,.5)] ait-top-0 ait-left-0 ait-right-0 ait-z-[150] ait-w-full ait-p-4 ait-overflow-x-hidden ait-overflow-y-auto lg:ait-inset-0 h-[calc(100%)] ait-max-h-full ait-justify-center ait-flex","data-modal-hide":""},Mo={class:"ait-relative ait-w-full ait-max-w-md ait-max-h-full ait-rounded-lg"},Ho={class:"ait-relative ait-bg-white ait-rounded-lg ait-shadow dark:ait-bg-neutral-800"},To={class:"ait-px-6 ait-py-4 ait-border-b ait-rounded-t dark:ait-border-neutral-600"},Uo=["innerHTML"],Po=i("svg",{class:"ait-w-3 ait-h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[i("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),Ao=i("span",{class:"ait-sr-only"},"Close modal",-1),Io=[Po,Ao],Eo={class:"ait-p-4 ait-justify-center ait-items-center"},jo=["innerHTML"],Vo={class:"ait-p-4 ait-justify-center ait-items-center"},Ro=["innerHTML"],zo={class:"ait-p-4 ait-justify-center ait-items-center"},Bo={class:"ait-text-xs ait-text-center ait-font-normal ait-text-neutral-400 dark:ait-text-neutral-500"};function qo(t,e,a,n,s,c){return o(),l("div",null,[this.showMakeAReviewModal?(o(),l("div",So,[i("div",Mo,[i("div",Ho,[i("div",To,[i("h3",{class:"ait-text-base ait-font-semibold ait-text-neutral-900 lg:ait-text-lg dark:ait-text-white ait-text-center",innerHTML:'<p class="ait-text-base ait-text-[var(--ait-link-color)]">'+t.__("Make a 5 Star Review")+' <span class="ait-text-red-600 ait-text-base">❤</span></span>'},null,8,Uo),i("button",{onClick:e[0]||(e[0]=(...u)=>c.toggleMakeAReviewModal&&c.toggleMakeAReviewModal(...u)),type:"button",class:"ait-absolute ait-top-3 ait-right-2.5 ait-text-neutral-400 ait-bg-transparent hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-lg ait-text-sm ait-w-8 ait-h-8 ait-ml-auto ait-inline-flex ait-justify-center ait-items-center dark:hover:ait-bg-neutral-600 dark:hover:ait-text-white","data-modal-hide":""},Io)]),i("div",Eo,[i("button",{innerHTML:t.__("Make a 5 Star Review and Earn 30 <br/> GPT-3.5, 5 GPT-4 and 4 Image Credits!"),class:"ait-w-full ait-text-white ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-bg-green-900 ait-font-medium ait-rounded-lg ait-text-md ait-px-5 ait-py-2 dark:ait-bg-[var(--ait-tab-menu-active-bg-color)] dark:hover:ait-bg-green-900 aitopia-g-extension"},null,8,jo)]),i("div",Vo,[i("button",{onClick:e[1]||(e[1]=u=>t.Helpers.apiCall("/google/extension_reviews/get_review",null,"POST").then(d=>d==!0?t.Helpers.sendMessage("uuid",{}):u.target.closest("div").querySelector(".ait-review-error").classList.remove("ait-hide"))),class:"ait-w-full ait-text-white ait-bg-neutral-600 hover:ait-bg-neutral-900 ait-font-small ait-rounded-lg ait-text-md ait-px-3 ait-py-1 dark:ait-bg-neutral-700 dark:hover:ait-bg-neutral-900"},p(t.__("I made a review, check and activate my credits")),1),i("div",{class:"ait-review-error ait-text-red-800 dark:ait-text-red-200 ait-py-2 ait-hide",innerHTML:t.__('Your review cannot be detected. Could you please send an email which includes screenshot of your review and your registered email <b>(#email#)</b> to <a class="ait-font-bold" href="mailto:info@chatgptextension.ai">info@chatgptextension.ai</a>? We will check and load your free credits.').replace("#email#",this.email)},null,8,Ro)]),i("div",zo,[i("p",Bo,p(t.__("You can earn credits only once by making a review")),1)])])])])):f("",!0)])}const Oo=L(Lo,[["render",qo]]),Do={extends:H,props:["custom_class"],data(){return{showStyleOptionsModal:!1}},methods:{toggleStyleOptionsModal(){this.showStyleOptionsModal=!this.showStyleOptionsModal},setStyleOption(t){this.image_settings.style=t,this.changeStorage("image_settings.style",t),this.toggleStyleOptionsModal()}}},Fo={key:0,class:"ait-w-full ait-mx-auto ait-h-[40%]"},Zo={class:"ait-relative ait-w-full ait-max-w-md ait-max-h-full"},Wo={class:"ait-relative ait-bg-white ait-rounded-lg ait-shadow dark:ait-bg-neutral-900"},No={class:"ait-px-6 ait-py-4 dark:ait-border-neutral-600"},Ko={class:"ait-text-base ait-font-semibold ait-text-neutral-900 lg:ait-text-lg dark:ait-text-white ait-text-left"},Go={class:"ait-px-6 dark:ait-border-neutral-600"},Yo=i("svg",{class:"ait-w-3 ait-h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[i("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),Qo={class:"ait-sr-only"},Xo={class:"ait-flex ait-flex-wrap ait-flex-row"},Jo={class:"ait-flex ait-flex-col ait-basis-1/3 px-2"},tn={class:"ait-place-self-center"},en=["onClick","src"],an={class:"ait-text-xs ait-text-center ait-mt-1 ait-mb-1"};function sn(t,e,a,n,s,c){return o(),l("div",null,[s.showStyleOptionsModal?(o(),l("div",Fo,[i("div",{tabindex:"-1","aria-hidden":"true",class:C(a.custom_class??"ait-inset-y-0 ait-bottom-0 ait-fixed ait-mt-[60%] ait-top-0 ait-left-0 ait-right-0 ait-z-50 ait-w-[60%] ait-mx-auto ait-overflow-x-hidden ait-overflow-y-auto lg:ait-inset-0 h-[calc(100%)] ait-h-[30%] ait-justify-center ait-items-center ait-flex"),"data-modal-hide":""},[i("div",Zo,[i("div",Wo,[i("div",No,[i("h3",Ko,p(t.__("All Styles")),1),i("div",Go,[i("button",{type:"button",class:"ait-absolute ait-top-3 ait-right-2.5 ait-text-neutral-400 ait-bg-transparent hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-lg ait-text-sm ait-w-8 ait-h-8 ait-ml-auto ait-inline-flex ait-justify-center ait-items-center dark:hover:ait-bg-neutral-600 dark:hover:ait-text-white","data-modal-hide":"",onClick:e[0]||(e[0]=(...u)=>c.toggleStyleOptionsModal&&c.toggleStyleOptionsModal(...u))},[Yo,i("span",Qo,p(t.__("Close modal")),1)])])]),i("div",Xo,[(o(!0),l(x,null,M(t.constants.styles,u=>(o(),l("div",Jo,[i("div",tn,[i("img",{onClick:d=>c.setStyleOption(u.style),src:u.icon,alt:"bot artist image",class:"ait-rounded-md ait-h-20"},null,8,en),i("p",an,p(t.__(u.name)),1)])]))),256))])])])],2)])):f("",!0)])}const vt=L(Do,[["render",sn]]),on={extends:H,data(){return{showEditToolsModal:!1,tools:A.tools,editToolOptions:A.editTools,selectedTool:null,selectedToolDetail:null}},watch:{showEditToolsModal:(t,e)=>{typeof document<"u"&&(t==!0?document.querySelector("#aitopia-container").classList.add("zero-zindex"):document.querySelector("#aitopia-container").classList.remove("zero-zindex"))}},methods:{toggleEditToolsModal(){this.showEditToolsModal=!this.showEditToolsModal},selectTool(t){this.selectedTool=this.editToolOptions.find(e=>e.id===t.actionCode),this.selectedToolDetail=t,this.toggleEditToolsModal(),this.showEditToolUploadModal=!0,this.upscaleValue=2,this.promptText=null},playVideo(t){document.getElementById(t).play(),document.getElementById(`button-${t}`).classList.remove("ait-hidden")},pauseVideo(t){var e=document.getElementById(t);e.pause(),e.currentTime=0,document.getElementById(`button-${t}`).classList.add("ait-hidden")}}},nn={key:0,tabindex:"-1","aria-hidden":"true",class:"ait-h-[var(--ait-height-100)] ait-h-dvh ait-items-center ait-fixed ait-modal ait-z-[9999999999] ait-m-0 ait-bg-[rgba(0,0,0,.5)] ait-top-0 ait-left-0 ait-right-0 ait-w-full ait-p-4 ait-overflow-x-hidden ait-overflow-y-auto lg:ait-inset-0 h-[calc(100%)] ait-max-h-full ait-justify-center ait-flex","data-modal-hide":""},ln={class:"ait-relative ait-max-h-full ait-w-[90%] lg:ait-w-[45%] lg:ait-w-[65%]"},rn={class:"ait-relative ait-bg-white ait-rounded-lg ait-shadow dark:ait-bg-neutral-800"},dn={class:"ait-px-6 ait-py-4 ait-border-b ait-rounded-t dark:ait-border-neutral-600"},cn={class:"ait-text-base ait-font-semibold ait-text-neutral-900 lg:ait-text-lg dark:ait-text-white ait-text-left"},un={class:"ait-sr-only"},hn={class:"ait-mt-2 ait-grid-cols-1 lg:ait-grid-cols-2 lg:ait-grid-cols-3 lg:ait-grid-cols-4 ait-grid ait-gap-4 ait-mx-3"},pn=["onMouseover","onMouseleave","onClick"],gn={class:"ait-relative ait-w-full"},fn=["id"],mn=["src"],_n=["id"],wn={class:"ait-w-full ait-text-md lg:ait-text-md ait-font-semibold ait-text-black dark:ait-text-white",style:{"padding-left":"10px"}},bn={class:"ait-w-full ait-text-left ait-text-sm lg:ait-text-xs lg:ait-text-sm",style:{"padding-left":"10px","padding-right":"10px","margin-bottom":"10px !important"}};function vn(t,e,a,n,s,c){const u=y("svg-logo");return s.showEditToolsModal?(o(),l("div",nn,[i("div",ln,[i("div",rn,[i("div",dn,[i("h3",cn,p(t.__("Editing tools")),1),i("button",{type:"button",class:"ait-absolute ait-top-3 ait-right-2.5 ait-text-neutral-400 ait-bg-transparent hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-lg ait-text-sm ait-w-8 ait-h-8 ait-ml-auto ait-inline-flex ait-justify-center ait-items-center dark:hover:ait-bg-neutral-600 dark:hover:ait-text-white","data-modal-hide":"",onClick:e[0]||(e[0]=(...d)=>c.toggleEditToolsModal&&c.toggleEditToolsModal(...d))},[m(u,{className:"ait-w-3 ait-h-3",name:"close_icon"}),i("span",un,p(t.__("Close modal")),1)])]),i("div",hn,[(o(!0),l(x,null,M(s.tools,d=>(o(),l("div",{onMouseover:h=>c.playVideo(d.id),onMouseleave:h=>c.pauseVideo(d.id),onClick:h=>c.selectTool(d),"data-ait-dropdown-toggle":"ait-edit-tool-upload-modal",key:d.id,class:"ait-mb-3 ait-gap-2 ait-flex ait-flex-col ait-items-center ait-w-full ait-bg-neutral-200 dark:ait-bg-neutral-900 ait-rounded-lg ait-space-y-4 ait-justify-start"},[i("div",gn,[i("video",{id:`${d.id}`,class:"ait-w-full ait-h-32 ait-object-cover",muted:"",style:{"border-top-left-radius":"0.5rem","border-top-right-radius":"0.5rem"}},[i("source",{src:d.video,type:"video/mp4"},null,8,mn)],8,fn),i("button",{id:`button-${d.id}`,class:"ait-text-md lg:ait-text-md lg:text-base ait-absolute ait-rounded-full ait-h-10 ait-font-bold lg:ait-h-7 ait-hidden ait-text-white ait-w-[80%] ait-ml-[10%] ait-mr-[10%] ait-bottom-[20%]",style:{"background-color":"rgb(251, 153, 45)","box-shadow":"rgb(191, 109, 19) 0px 2px 6px 0px"}},p(t.__(d.name)),9,_n)]),i("h3",wn,p(t.__(d.name)),1),i("p",bn,p(t.__(d.description)),1)],40,pn))),128))])])])])):f("",!0)}const yn=L(on,[["render",vn]]),xn={extends:H,data(){return{files:[]}}},kn={class:"ait-w-full ait-min-w-full"},Cn={class:"ait-flex ait-w-full ait-p-5"},$n={class:"ait-w-full ait-bg-gray-200 ait-rounded-full ait-h-2.5 ait-mb-4 dark:ait-bg-gray-700"};function Ln(t,e,a,n,s,c){const u=y("file-button");return o(),l(x,null,[i("input",{type:"file",class:"ait-uploader",onChange:e[0]||(e[0]=d=>{this.Uploader.processFile(".ait-uploader",0,["image/svg+xml","image/jpeg","image/png","application/x-zip-compressed"],h=>{this.files.push(h)})})},null,32),i("button",{onClick:e[1]||(e[1]=d=>this.Uploader.processFile(".ait-uploader",4194304))},"Yükle"),this.files?(o(!0),l(x,{key:0},M(this.files,(d,h)=>(o(),l("div",kn,[m(u,{title:d.name,url:d.url},null,8,["title","url"]),i("div",Cn,p(d.progress),1),i("div",$n,[i("div",{class:"ait-bg-green-600 ait-h-2.5 ait-rounded-full dark:ait-bg-green-500",style:V("transition: width 2s;"+(d.progress!=100?`width:${d.progress}%`:"width:100%"))},null,4)])]))),256)):f("",!0)],64)}const Sn=L(xn,[["render",Ln]]),Mn={extends:H,props:["mode"],data(){return{form:{negativePrompt:"",style:"none",prompt_strength:7,seed:"",image_strength:25,image_count:4,aspect_ratio:null,keep_prompt:!1},styles:A.styles,selectedImageCount:4,imageCounts:[1,2,4],aspectRatio:1,promptStregthShowTooltip:!1,seedShowTooltip:!1,aspectRatioTooltip:!1,aspectRatios:A.aspect_rations,showNegativePrompt:!1,showImageToImage:!1,showImageCount:!1,showSDXLModel:!1}},mounted(){let t=null;if(typeof this.credit_details<"u"&&this.credit_details!=null&&typeof this.credit_details.image<"u"&&typeof this.credit_details.image.balance<"u"){let e=this.credit_details.image.balance??1;e>=0&&e<this.form.image_count&&(this.form.image_count=e,t=e)}typeof this.image_settings>"u"&&(this.image_settings={}),_.notUndefined(this.$data,"image_settings")&&(Object.keys(this.form).forEach(e=>{typeof this.image_settings[e]>"u"&&typeof this.form[e]<"u"&&(this.image_settings[e]=this.form[e]),t>0&&e=="image_count"?this.image_settings[e]=this.form[e]:this.image_settings[e]<1&&e=="image_count"&&(this.image_settings[e]=this.form[e]=1)}),this.changeStorage("image_settings",this.image_settings,!1))},methods:{toggleChatImageSettingsModal(){this.showChatImageSettingsModal=!this.showChatImageSettingsModal},submitForm(){this.mode!=="full"&&this.toggleChatImageSettingsModal()},changeAspectRation(t){_.notUndefined(this.aspectRatios,`${t}.width`)&&_.notUndefined(this.aspectRatios,`${t}.height`)&&(this.changeStorage("image_settings.width",this.aspectRatios[t].width,!1),this.changeStorage("image_settings.height",this.aspectRatios[t].height,!1),this.changeStorage("image_settings.aspect_ratio",t,!1))},onStyleClick(){this.showStyleOptionsModal=!0},toggleNegativePrompt(){this.showNegativePrompt=!this.showNegativePrompt},toggleImageToImage(){this.showImageToImage=!this.showImageToImage},toggleImageCount(){this.showImageCount=!this.showImageCount},toggleSDXLModel(){this.showSDXLModel=!this.showSDXLModel}},computed:{aspectRatioLabel(){var t;return(t=this.image_settings)!=null&&t.aspect_ratio?this.aspectRatios[this.image_settings.aspect_ratio].value:this.aspectRatios[4].value},aspectRatioTooltipText(){var t;return(t=this.image_settings)!=null&&t.aspect_ratio?this.aspectRatios[this.image_settings.aspect_ratio].tooltipText:this.aspectRatios[4].tooltipText},imageStrengthLabel(){return`${this.image_settings.image_strength}%`}},components:{StyleOptionsModal:vt}},Hn={class:"ait-mb-4"},Tn={for:"sdxlModel",class:"ait-block dark:ait-text-white ait-text-sm ait-font-medium ait-mb-2"},Un={key:0,class:"ait-flex ait-flew row"},Pn=i("input",{type:"radio",checked:"true",name:"sdxlModel","aria-label":"ait-tab-1-local",value:"SDXL",class:"ait-mt-2 ait-mr-2 ait-w-4 ait-h-4"},null,-1),An={class:"ait-flex ait-flex-col"},In={class:"ait-block dark:ait-text-white ait-text-sm ait-font-small"},En={class:"ait-block ait-text-sm ait-text-black/40 dark:ait-text-white/50"},jn={class:"ait-mb-4"},Vn={for:"negativePrompt",class:"ait-block dark:ait-text-white ait-text-sm ait-font-medium ait-mb-2"},Rn=["placeholder"],zn={class:"ait-mb-4 ait-relative"},Bn={for:"styleSelect",class:"ait-block dark:ait-text-white ait-text-sm ait-font-medium ait-mb-2"},qn=["value"],On={class:"ait-mb-4"},Dn={class:"ait-flex ait-flex-row"},Fn={for:"promptStrength",class:"ait-block dark:ait-text-white ait-text-sm ait-font-medium ait-mb-2"},Zn={class:"ait-relative ait-flex ait-items-center ait-justify-center ait-mb-2 ait-ml-1"},Wn=i("g",null,[i("circle",{"stroke-width":"1.5","stroke-opacity":".45",stroke:"#fbf5ec",r:"6.75",cy:"9",cx:"9","data-follow-stroke":"#fbf5ec",style:{"--darkreader-inline-stroke":"var(--ait-sidebar-bg-color) !important"},"data-darkreader-inline-stroke":"#fbf5ec"}),i("path",{"fill-opacity":".45",fill:"#fbf5ec",d:"M9 12.915a.67.67 0 1 0 0-1.339.67.67 0 0 0 0 1.34Z","data-follow-fill":"#fbf5ec",style:{"--darkreader-inline-fill":"var(--ait-sidebar-bg-color) !important"},"data-darkreader-inline-fill":"#fbf5ec"}),i("path",{"stroke-linejoin":"round","stroke-linecap":"round","stroke-width":"1.5","stroke-opacity":".45",stroke:"#fbf5ec",d:"M9 9.836V9.3a1.875 1.875 0 1 0-1.875-1.875","data-follow-stroke":"#fbf5ec",style:{"--darkreader-inline-stroke":"var(--ait-sidebar-bg-color) !important"},"data-darkreader-inline-stroke":"#fbf5ec"})],-1),Nn=[Wn],Kn={key:0,class:"ait-bg-[#0d0d0dd9] ait-h-10 ait-w-72 ait-absolute ait-text-white ait-px-2 ait-py-1 ait-rounded ait-text-xs ait-shadow-md",style:{bottom:"100%",left:"50%",transform:"translateX(-50%)"}},Gn={class:"ait-mb-4"},Yn={class:"ait-flex ait-flex-row"},Qn={for:"seed",class:"ait-block dark:ait-text-white ait-text-sm ait-font-medium ait-mb-2"},Xn={class:"ait-relative ait-flex ait-items-center ait-justify-center ait-mb-2 ait-ml-1"},Jn=i("g",null,[i("circle",{"stroke-width":"1.5","stroke-opacity":".45",stroke:"#fbf5ec",r:"6.75",cy:"9",cx:"9","data-follow-stroke":"#fbf5ec",style:{"--darkreader-inline-stroke":"#fbf5ec"},"data-darkreader-inline-stroke":"#fbf5ec"}),i("path",{"fill-opacity":".45",fill:"#fbf5ec",d:"M9 12.915a.67.67 0 1 0 0-1.339.67.67 0 0 0 0 1.34Z","data-follow-fill":"#fbf5ec",style:{"--darkreader-inline-fill":"#fbf5ec"},"data-darkreader-inline-fill":"#fbf5ec"}),i("path",{"stroke-linejoin":"round","stroke-linecap":"round","stroke-width":"1.5","stroke-opacity":".45",stroke:"#fbf5ec",d:"M9 9.836V9.3a1.875 1.875 0 1 0-1.875-1.875","data-follow-stroke":"#fbf5ec",style:{"--darkreader-inline-stroke":"#fbf5ec"},"data-darkreader-inline-stroke":"#fbf5ec"})],-1),tl=[Jn],el={key:0,class:"ait-bg-[#0d0d0dd9] ait-ml-20 ait-h-20 ait-w-64 ait-absolute ait-text-white ait-px-2 ait-py-1 ait-rounded ait-text-xs ait-shadow-md",style:{bottom:"100%",left:"50%",transform:"translateX(-50%)"}},il={class:"ait-mb-4"},al={for:"imageCount",class:"ait-block dark:ait-text-white ait-text-sm ait-font-medium ait-mb-2"},sl={key:0,class:"ait-flex ait-justify-start ait-items-center ait-space-x-2"},ol=["value"],nl={class:"ait-mb-4"},ll={for:"aspectRatio",class:"ait-block dark:ait-text-white ait-text-sm ait-font-medium ait-mb-2"},rl={class:"ait-flex ait-flex-col ait-items-center ait-space-x-2"},dl={class:"ait-w-full ait-flex ait-justify-between ait-items-center"},cl={class:"ait-relative ait-flex ait-justify-start"},ul={width:"22",height:"22",fill:"none",viewBox:"0 0 16 16",style:{"min-width":"22px","min-height":"22px"}},hl=i("g",null,[i("path",{"stroke-linejoin":"round","stroke-linecap":"round",stroke:"#C4CDD5",d:"M10.222 4.89h2.223v2.222M5.778 11.556H3.556V9.334","data-follow-stroke":"#C4CDD5",style:{"--darkreader-inline-stroke":"#dad2c6"},"data-darkreader-inline-stroke":""}),i("path",{"stroke-linejoin":"round","stroke-linecap":"round",stroke:"#C4CDD5",d:"M14.111 2.667H1.89a.556.556 0 0 0-.556.556v10c0 .306.249.555.556.555H14.11a.556.556 0 0 0 .556-.556v-10a.556.556 0 0 0-.556-.555Z","data-follow-stroke":"#C4CDD5",style:{"--darkreader-inline-stroke":"#dad2c6"},"data-darkreader-inline-stroke":""})],-1),pl=[hl],gl={class:"dark:ait-text-white ait-ml-1 ait-font-semibold ait-text-sm"},fl={key:0,class:"ait-bg-[var(--ait-link-color)] ait-h-5 ait-top-[-20px] ait-w-24 ait-absolute ait-text-white dark:ait-text-white ait-pl-2 ait-rounded ait-text-xs ait-shadow-md"},ml={class:"ait-mx-auto ait-text-white"},_l={class:"ait-flex ait-justify-end"},wl={width:"22",height:"22",fill:"none",viewBox:"0 0 16 16",style:{"min-width":"22px","min-height":"22px"}},bl=i("g",null,[i("path",{"stroke-linejoin":"round","stroke-linecap":"round",stroke:"#C4CDD5",d:"M11.333 10.444v2.223H9.111M4.667 6V3.779h2.222","data-follow-stroke":"#C4CDD5",style:{"--darkreader-inline-stroke":"#dad2c6"},"data-darkreader-inline-stroke":""}),i("path",{"stroke-linejoin":"round","stroke-linecap":"round",stroke:"#C4CDD5",d:"M13.556 14.333V2.111A.556.556 0 0 0 13 1.556H3a.556.556 0 0 0-.556.555v12.222c0 .307.25.556.556.556h10a.556.556 0 0 0 .556-.556Z","data-follow-stroke":"#C4CDD5",style:{"--darkreader-inline-stroke":"#dad2c6"},"data-darkreader-inline-stroke":""})],-1),vl=[bl],yl={class:"ait-mb-4 ait-mt-8"},xl={class:"ait-inline-flex ait-items-center ait-cursor-pointer"},kl={class:"dark:ait-text-white"},Cl={for:"imageToImage",class:"ait-block dark:ait-text-white ait-text-sm ait-font-medium"};function $l(t,e,a,n,s,c){const u=y("SvgLogo"),d=y("StyleOptionsModal"),h=y("InnerReferenceImage"),g=y("InnerImagePreview");return o(),l("div",{class:C(`${a.mode==="full"?"ait-px-6 ait-py-2":"ait-p-6"}`)},[i("form",{onSubmit:e[26]||(e[26]=R((...r)=>c.submitForm&&c.submitForm(...r),["prevent"]))},[i("div",Hn,[i("div",{class:"ait-flex ait-flex-row",onClick:e[0]||(e[0]=(...r)=>this.toggleSDXLModel&&this.toggleSDXLModel(...r))},[a.mode==="full"?(o(),l("div",{key:0,class:"ait-mr-2",style:V(this.showSDXLModel?"transform: rotate(90deg) translateZ(0px); margin-bottom:8px;":"transform: none; margin-top: 2px;")},[m(u,{name:"arrow_icon"})],4)):f("",!0),i("label",Tn,p(t.__("Model (SDXL V1.0)")),1)]),a.mode!=="full"||this.showSDXLModel?(o(),l("div",Un,[Pn,i("div",An,[i("label",In,p(t.__("SDXL V1.0 (Better Quality)")),1),i("label",En,p(t.__("1024x1024 Queries: 1 / image")),1)])])):f("",!0)]),i("div",jn,[i("div",{class:"ait-flex ait-flex-row",onClick:e[1]||(e[1]=(...r)=>this.toggleNegativePrompt&&this.toggleNegativePrompt(...r))},[a.mode==="full"?(o(),l("div",{key:0,class:"ait-mr-2",style:V(this.showNegativePrompt?"transform: rotate(90deg) translateZ(0px); margin-bottom:8px;":"transform: none; margin-top: 2px;")},[m(u,{name:"arrow_icon"})],4)):f("",!0),i("label",Vn,p(t.__("Negative Prompt")),1)]),a.mode!=="full"||this.showNegativePrompt?P((o(),l("textarea",{key:0,id:"negativePrompt",placeholder:t.__("(optional) Describe what you want to avoid in your image"),"onUpdate:modelValue":e[2]||(e[2]=r=>this.image_settings.negative_prompt=r),class:"ait-h-[112px] ait-resize-none ait-block ait-p-2.5 ait-w-full ait-text-xs ait-text-neutral-900 ait-bg-neutral-50 ait-rounded-lg ait-border ait-border-neutral-300 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] focus:ait-border-[var(--ait-tab-menu-active-bg-color)] dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] dark:focus:ait-border-[var(--ait-tab-menu-active-bg-color)]",onChange:e[3]||(e[3]=r=>this.changeStorage("image_settings.negative_prompt",this.image_settings.negative_prompt,!1))},null,40,Rn)),[[z,this.image_settings.negative_prompt]]):f("",!0)]),i("div",zn,[i("label",Bn,p(t.__("Style")),1),P(i("select",{id:"styleSelect","onUpdate:modelValue":e[4]||(e[4]=r=>this.image_settings.style=r),class:"ait-w-full ait-pl-1 dark:ait-bg-[#353737] ait-border ait-rounded-lg",onChange:e[5]||(e[5]=r=>this.changeStorage("image_settings.style",this.image_settings.style,!1)),onClick:e[6]||(e[6]=(...r)=>c.onStyleClick&&c.onStyleClick(...r))},[(o(!0),l(x,null,M(s.styles,r=>(o(),l("option",{class:"ait-hidden",value:r.style,key:r.style},p(r.name),9,qn))),128))],544),[[W,this.image_settings.style]]),m(d,{custom_class:"ait-absolute ait-top-[25px] ait-z-[999] ait-h-[300px] ait-overflow-y-auto"})]),i("div",On,[i("div",Dn,[i("label",Fn,p(t.__("Prompt Strength")),1),i("div",Zn,[(o(),l("svg",{onMouseover:e[7]||(e[7]=r=>s.promptStregthShowTooltip=!0),onMouseleave:e[8]||(e[8]=r=>s.promptStregthShowTooltip=!1),class:"ait-tooltip-icon",width:"16",height:"16",fill:"none",viewBox:"0 0 18 18",style:{"min-width":"16px","min-height":"16px"}},Nn,32)),s.promptStregthShowTooltip?(o(),l("div",Kn,p(t.__("Prompt strength determines how much the final image will portray your prompts.")),1)):f("",!0)])]),P(i("input",{type:"number",id:"promptStrength","onUpdate:modelValue":e[9]||(e[9]=r=>this.image_settings.prompt_strength=r),min:"0",max:"35",class:"dark:ait-bg-[#353737] ait-shadow ait-appearance-none ait-border ait-rounded-lg ait-w-full ait-py-2 ait-px-3 dark:ait-text-white-300 ait-leading-tight focus:ait-outline-none focus:ait-shadow-outline",onChange:e[10]||(e[10]=r=>this.changeStorage("image_settings.prompt_strength",this.image_settings.prompt_strength,!1))},null,544),[[z,this.image_settings.prompt_strength]])]),i("div",Gn,[i("div",Yn,[i("label",Qn,p(t.__("Seed")),1),i("div",Xn,[(o(),l("svg",{onMouseover:e[11]||(e[11]=r=>s.seedShowTooltip=!0),onMouseleave:e[12]||(e[12]=r=>s.seedShowTooltip=!1),width:"16",class:"ait-tooltip-icon",height:"16",fill:"none",viewBox:"0 0 18 18",style:{"min-width":"16px","min-height":"16px"}},tl,32)),s.seedShowTooltip?(o(),l("div",el,p(t.__("Seed determines the initial noise. Using the same seed with the same settings will create a very similar image.")),1)):f("",!0)])]),P(i("input",{type:"number",id:"seed","onUpdate:modelValue":e[13]||(e[13]=r=>this.image_settings.seed=r),min:"0",max:"4294967295",placeholder:"Auto",class:"dark:ait-bg-[#353737] ait-shadow ait-appearance-none ait-border ait-rounded-lg ait-w-full ait-py-2 ait-px-3 dark:ait-text-white-300 ait-leading-tight focus:ait-outline-none focus:ait-shadow-outline",onChange:e[14]||(e[14]=r=>this.changeStorage("image_settings.seed",this.image_settings.seed,!1))},null,544),[[z,this.image_settings.seed]])]),i("div",il,[i("div",{class:"ait-flex ait-flex-row",onClick:e[15]||(e[15]=(...r)=>this.toggleImageCount&&this.toggleImageCount(...r))},[a.mode==="full"?(o(),l("div",{key:0,class:"ait-mr-2",style:V(this.showImageCount?"transform: rotate(90deg) translateZ(0px); margin-bottom:8px;":"transform: none; margin-top: 2px;")},[m(u,{name:"arrow_icon"})],4)):f("",!0),i("label",al,p(t.__("Image Count")),1)]),a.mode!=="full"||this.showImageCount?(o(),l("div",sl,[(o(!0),l(x,null,M(s.imageCounts,r=>(o(),l("label",{key:r,class:C(["ait-flex ait-justify-center ait-items-center ait-w-14 ait-h-10 ait-rounded-lg ait-cursor-pointer ait-border ait-border-neutral-300",this.image_settings.image_count===r?"ait-bg-[var(--ait-link-color)] ait-text-white":"dark:ait-bg-neutral-700"])},[P(i("input",{type:"radio",class:"ait-hidden",id:"ImageCount","onUpdate:modelValue":e[16]||(e[16]=w=>this.image_settings.image_count=w),value:r,onChange:e[17]||(e[17]=w=>this.changeStorage("image_settings.image_count",this.image_settings.image_count,!1))},null,40,ol),[[X,this.image_settings.image_count]]),i("span",{class:C(["dark:ait-text-white ait-text-sm",this.image_settings.image_count===r?"ait-text-white":""])},p(r),3)],2))),128))])):f("",!0)]),i("div",nl,[i("label",ll,p(t.__("Aspect Ratio")),1),i("div",rl,[i("div",dl,[i("div",cl,[(o(),l("svg",ul,pl))]),i("div",{class:"ait-flex ait-justify-center ait-flex-grow",onMouseover:e[18]||(e[18]=r=>s.aspectRatioTooltip=!0),onMouseleave:e[19]||(e[19]=r=>s.aspectRatioTooltip=!1)},[i("span",gl,p(c.aspectRatioLabel),1),s.aspectRatioTooltip?(o(),l("div",fl,[i("span",ml,p(c.aspectRatioTooltipText),1)])):f("",!0)],32),i("div",_l,[(o(),l("svg",wl,vl))])]),P(i("input",{type:"range","onUpdate:modelValue":e[20]||(e[20]=r=>this.image_settings.aspect_ratio=r),min:"0",max:"8",id:"aspectRatio",step:"1",class:"ait-appearance-none ait-w-full ait-bg-[var(--ait-link-color)] ait-h-1 ait-rounded-lg ait-slider-thumb ait-mt-3",onChange:e[21]||(e[21]=r=>{this.changeAspectRation(this.image_settings.aspect_ratio)})},null,544),[[z,this.image_settings.aspect_ratio]])])]),i("div",yl,[i("label",xl,[P(i("input",{id:"keepPrompt",type:"checkbox","onUpdate:modelValue":e[22]||(e[22]=r=>t.image_settings.keep_prompt=r),value:"option3",class:"ait-opacity-0 ait-absolute ait-h-0 ait-w-0",onChange:e[23]||(e[23]=r=>t.changeStorage("image_settings.keep_prompt",this.image_settings.keep_prompt,!1))},null,544),[[gt,t.image_settings.keep_prompt]]),i("div",{class:C(["ait-w-4 ait-h-4 ait-border ait-border-gray-400 ait-rounded-md ait-mr-2",{"ait-bg-blue-600":t.image_settings.keep_prompt===!0}])},null,2),i("div",kl,p(t.__("Keep prompt after sending")),1)])]),i("div",{class:"ait-flex ait-flex-row",onClick:e[24]||(e[24]=(...r)=>this.toggleImageToImage&&this.toggleImageToImage(...r))},[i("div",{class:"ait-mr-2",style:V(this.showImageToImage||t.Helpers.notUndefined(this.$data,"image_settings.image")?"transform: rotate(90deg) translateZ(0px); margin-bottom:8px;":"transform: none; margin-top: 2px;")},[m(u,{name:"arrow_icon"})],4),i("label",Cl,p(t.__("Image to Image")),1)]),this.showImageToImage||t.Helpers.notUndefined(this.$data,"image_settings.image")?(o(),E(h,{key:0,mode:this.mode,isHidden:!1},null,8,["mode"])):f("",!0),this.showImageToImage||t.Helpers.notUndefined(this.$data,"image_settings.image")?(o(),E(g,{key:1,mode:this.mode},null,8,["mode"])):f("",!0),i("div",{class:C([`${a.mode==="full"?"":"ait-mt-6"}`,"ait-flex ait-justify-end"])},[i("button",{type:"button",class:C([{"ait-mt-2":a.mode==="full"},"dark:ait-text-white ait-font-bold ait-py-2 ait-px-4 ait-rounded ait-mr-3"]),onClick:e[25]||(e[25]=r=>a.mode=="full"?null:c.toggleChatImageSettingsModal)},p(t.__("Cancel")),3),i("button",{type:"submit",class:C([{"ait-mt-2":a.mode==="full"},"ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-text-white ait-font-bold ait-py-2 ait-px-4 ait-rounded"])},p(t.__("Save")),3)],2)],32)],2)}const Ll=L(Mn,[["render",$l]]),Sl={extends:H,props:["mode"],data(){return{showChatImageSettingsModal:!1,settingsImageShowTooltip:!1}},methods:{toggleChatImageSettingsModal(){this.showChatImageSettingsModal=!this.showChatImageSettingsModal}}},Ml={width:"20",height:"20",fill:"none",viewBox:"0 0 20 20",style:{"min-width":"20px","min-height":"20px"}},Hl=i("g",null,[i("path",{"data-follow-fill":"currentColor","fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.375 5.898a1.836 1.836 0 1 1-3.672 0 1.836 1.836 0 0 1 3.672 0Zm1.463.82a3.4 3.4 0 0 1-6.598 0H2.5a.781.781 0 0 1 0-1.562h1.722a3.4 3.4 0 0 1 6.634 0H17.5a.781.781 0 1 1 0 1.563h-6.662Zm3.459 7.384a1.836 1.836 0 1 1-3.672 0 1.836 1.836 0 0 1 3.672 0Zm1.463.82a3.4 3.4 0 0 1-6.598 0H2.5a.781.781 0 0 1 0-1.563h6.644a3.4 3.4 0 0 1 6.634 0H17.5a.781.781 0 1 1 0 1.563h-1.74Z",fill:"currentColor","data-darkreader-inline-fill":"",style:{"--darkreader-inline-fill":"currentColor"}})],-1),Tl=[Hl],Ul={key:0,class:"ait-bg-[#0d0d0dd9] ait-w-27 ait-absolute ait-text-white ait-px-2 ait-py-1 ait-rounded ait-text-xs ait-shadow-md",style:{bottom:"100%",left:"50%",transform:"translateX(-50%)"}},Pl={key:0,tabindex:"-1","aria-hidden":"true",class:"ait-h-full ait-fixed ait-m-0 ait-bg-[rgba(0,0,0,.5)] ait-top-0 ait-left-0 ait-right-0 ait-z-[150] ait-w-full ait-p-4 ait-overflow-x-hidden ait-overflow-y-auto lg:ait-inset-0 h-[calc(100%)] ait-max-h-full ait-justify-center ait-items-center ait-flex","data-modal-hide":""},Al={class:"ait-relative ait-w-full ait-max-w-md ait-max-h-full ait-rounded-lg"},Il={class:"ait-relative ait-bg-white ait-rounded-lg ait-shadow dark:ait-bg-neutral-800"},El={class:"ait-px-6 ait-py-4 ait-border-b ait-rounded-t dark:ait-border-neutral-600"},jl=i("h3",{class:"ait-text-base ait-font-semibold ait-text-neutral-900 lg:ait-text-lg dark:ait-text-white ait-text-left"}," Options ",-1),Vl=i("svg",{class:"ait-w-3 ait-h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[i("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),Rl={class:"ait-sr-only"};function zl(t,e,a,n,s,c){const u=y("ImageChatSettings");return o(),l("div",null,[i("button",{onClick:e[0]||(e[0]=(...d)=>c.toggleChatImageSettingsModal&&c.toggleChatImageSettingsModal(...d)),onMouseover:e[1]||(e[1]=d=>s.settingsImageShowTooltip=!0),onMouseleave:e[2]||(e[2]=d=>s.settingsImageShowTooltip=!1),type:"button",class:C(["ait-flex-col ait-relative ait-pt-1 ait-text-[11px] ait-text-[var(--ait-link-color)] hover:ait-text-neutral-700 dark:hover:ait-text-neutral-100",a.mode==="full"?"ait-flex lg:ait-hidden":""])},[(o(),l("svg",Ml,Tl)),s.settingsImageShowTooltip?(o(),l("div",Ul,p(t.__("Options")),1)):f("",!0)],34),s.showChatImageSettingsModal?(o(),l("div",Pl,[i("div",Al,[i("div",Il,[i("div",El,[jl,i("button",{type:"button",class:"ait-absolute ait-top-3 ait-right-2.5 ait-text-neutral-400 ait-bg-transparent hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-lg ait-text-sm ait-w-8 ait-h-8 ait-ml-auto ait-inline-flex ait-justify-center ait-items-center dark:hover:ait-bg-neutral-600 dark:hover:ait-text-white","data-modal-hide":"",onClick:e[3]||(e[3]=(...d)=>c.toggleChatImageSettingsModal&&c.toggleChatImageSettingsModal(...d))},[Vl,i("span",Rl,p(t.__("Close modal")),1)])]),m(u,{mode:a.mode},null,8,["mode"])])])])):f("",!0)])}const Bl=L(Sl,[["render",zl]]),ql=q({extends:H,name:"ReferenceImage",props:["mode"],data(){return{isReferenceImageProcessing:!1,referenceImageDragActive:!1,referenceImageShowTooltip:!1,showReferenceImageModal:!1,input_file:null}},mounted(){_.notUndefined(this.$data,"image_settings.image")&&(this.showImagePreviewModal=!0)},methods:{toggleReferenceImageModal(){this.showReferenceImageModal=!this.showReferenceImageModal},dragOver(t){t.preventDefault(),this.referenceImageDragActive=!0},dragEnter(t){t.preventDefault(),this.referenceImageDragActive=!0},dragLeave(t){t.preventDefault(),this.referenceImageDragActive=!1},async handleDrop(t){const e=t.dataTransfer.files[0];this.input_file=e,await this.processFile(e)},async processFile(t){this.isReferenceImageProcessing=!0,this.input_file=t,this.Uploader.upload(t,41943040,["image/jpeg","image/jpg","image/png"],e=>{this.files||(this.files={});let a=_.SHA1(t.name+t.size).toString(),n=this.files[a];n&&this.changeStorage("image_settings.image",n.url,!1),this.files[a]=n,this.showImagePreviewModal=!0,document.querySelector("#fileInput")!=null&&(document.querySelector("#fileInput").value=""),document.querySelector("#ait-reference-image-modal")!=null&&(this.showReferenceImageModal=!1),this.input_file=null,this.isReferenceImageProcessing=!1})}}}),Ol={class:"ait-relative ait-w-full ait-max-w-md ait-max-h-full ait-rounded-lg"},Dl={class:"ait-relative ait-bg-white ait-rounded-lg ait-shadow dark:ait-bg-neutral-800"},Fl={class:"ait-px-6 ait-py-4 ait-border-b ait-rounded-t dark:ait-border-neutral-600"},Zl=["innerHTML"],Wl=i("svg",{class:"ait-w-3 ait-h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[i("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),Nl=i("span",{class:"ait-sr-only"},"Close modal",-1),Kl=[Wl,Nl];function Gl(t,e,a,n,s,c){const u=y("svg-logo"),d=y("InnerReferenceImage");return o(),l("div",null,[t.mode!=="full"?(o(),l("button",{key:0,onClick:e[0]||(e[0]=(...h)=>t.toggleReferenceImageModal&&t.toggleReferenceImageModal(...h)),onMouseover:e[1]||(e[1]=h=>t.referenceImageShowTooltip=!0),onMouseleave:e[2]||(e[2]=h=>t.referenceImageShowTooltip=!1),type:"button",class:"ait-flex-col ait-text-[11px] ait-text-[var(--ait-link-color)] hover:ait-text-neutral-700 dark:hover:ait-text-neutral-100"},[m(u,{name:"reference_image_icon"}),t.referenceImageShowTooltip?(o(),l("div",{key:0,style:V([t.mode==="full"?"left: 40%":"left: 35%;",{bottom:"100%",transform:"translateX(-50%)"}]),class:"ait-bg-[#0d0d0dd9] ait-w-27 ait-absolute ait-text-white ait-px-2 ait-py-1 ait-rounded ait-text-xs ait-shadow-md"},p(t.__("Reference Image")),5)):f("",!0)],32)):f("",!0),t.showReferenceImageModal?(o(),l("div",{key:1,id:"ait-reference-image-modal",onDrop:e[4]||(e[4]=R((...h)=>t.handleDrop&&t.handleDrop(...h),["prevent"])),onDragover:e[5]||(e[5]=R((...h)=>t.dragOver&&t.dragOver(...h),["prevent"])),onDragenter:e[6]||(e[6]=R((...h)=>t.dragEnter&&t.dragEnter(...h),["prevent"])),onDragleave:e[7]||(e[7]=R((...h)=>t.dragLeave&&t.dragLeave(...h),["prevent"])),tabindex:"-1","aria-hidden":"true",class:"ait-h-full ait-fixed ait-m-0 ait-bg-[rgba(0,0,0,.5)] ait-top-0 ait-left-0 ait-right-0 ait-z-[9999] ait-w-full ait-p-4 ait-overflow-x-hidden ait-overflow-y-auto lg:ait-inset-0 h-[calc(100%)] ait-max-h-full ait-justify-center ait-items-center ait-flex","data-modal-hide":""},[i("div",Ol,[i("div",Dl,[i("div",Fl,[i("h3",{class:"ait-text-base ait-font-semibold ait-text-neutral-900 lg:ait-text-lg dark:ait-text-white ait-text-center",innerHTML:t.__("Reference Image")},null,8,Zl),i("button",{type:"button",onClick:e[3]||(e[3]=(...h)=>t.toggleReferenceImageModal&&t.toggleReferenceImageModal(...h)),class:"ait-absolute ait-top-3 ait-right-2.5 ait-text-neutral-400 ait-bg-transparent hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-lg ait-text-sm ait-w-8 ait-h-8 ait-ml-auto ait-inline-flex ait-justify-center ait-items-center dark:hover:ait-bg-neutral-600 dark:hover:ait-text-white","data-modal-hide":""},Kl)]),m(d,{isHidden:!1})])])],32)):f("",!0)])}const Yl=L(ql,[["render",Gl]]),Ql={extends:H,data(){return{showImagePreviewModal:!1}},methods:{toggleImagePreviewModal(){this.showImagePreviewModal=!this.showImagePreviewModal}}},Xl={key:0,class:"ait-w-full ait-min-w-full"},Jl={tabindex:"-1","aria-hidden":"true",class:"ait-absolute ait-top-[-215px] ait-right-[5px] ait-z-[100]","data-modal-hide":""},tr={class:"ait-relative ait-w-full ait-max-w-md ait-max-h-full",style:{width:"150px!important"}},er={class:"ait-relative ait-bg-white ait-rounded-lg ait-shadow dark:ait-bg-neutral-800"},ir={class:"ait-px-2 ait-py-2 dark:ait-border-neutral-600"},ar={class:"ait-text-[11px] ait-text-neutral-900 dark:ait-text-white ait-text-left ait-w-[90%]"},sr=i("svg",{class:"ait-w-3 ait-h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[i("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),or=i("span",{class:"ait-sr-only"},"Close modal",-1),nr=[sr,or];function lr(t,e,a,n,s,c){const u=y("InnerImagePreview");return o(),l("div",null,[s.showImagePreviewModal&&!this.isReferenceImageLoading&&this.image_settings.image?(o(),l("div",Xl,[i("div",Jl,[i("div",tr,[i("div",er,[i("div",ir,[i("div",ar,p(t.__("Reference Image:")),1),i("button",{type:"button",class:"ait-absolute ait-top-1.5 ait-right-2 ait-text-neutral-400 ait-bg-transparent hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-lg ait-text-sm ait-w-5 ait-h-5 ait-ml-auto ait-inline-flex ait-justify-center ait-items-center dark:hover:ait-bg-neutral-600 dark:hover:ait-text-white","data-modal-hide":"",onClick:e[0]||(e[0]=d=>{this.changeStorage("image_settings.image","",!1),this.changeStorage("image_settings.image_strength",25,!1),c.toggleImagePreviewModal()})},nr)]),m(u)])])])])):f("",!0)])}const rr=L(Ql,[["render",lr]]),dr={extends:H,props:["id","custom_key","class","mode"],methods:{regenerateAiImage(t){const e=j.prefixify(j.linkify(t.item)).replace(/\n/g,"<br/>");this.image_settings.prompt=e;let a=null,n="";return console.log(_.notUndefined(t,"extra_data.prompt_mode")),_.notUndefined(t,"extra_data.prompt_mode")===!0?a=e:n=e,G.build(this,"image",n,"image",a,t.title??null,t.extra_data??{}).then(this.image_settings.prompt=null)},async downloadImage(t,e){this.ai_image_url_downloading=t,await this.downloadUrl(t+"?download",e+".png"),this.ai_image_url_downloading=""},setUseAsReference(t){this.changeStorage("image_settings.image",t,!1),this.showImagePreviewModal=!0},toggleDropdown(t){this.openDropdowns[t]=!this.openDropdowns[t]},mouseOverImageButtonVisibility(t){this.visibleImageButtons[t]||(this.visibleImageButtons[t]=!0)},mouseLeaveImageButtonVisibility(t){if(this.visibleImageButtons[t]){this.visibleImageButtons[t]=!1,this.openDropdowns[t]=!1;return}},toggleEditModal(t){this.showEditToolsModal&&(this.showEditToolsModal=!1),this.showEditToolUploadModal&&(this.showEditToolUploadModal=!1);const e=JSON.stringify(t);localStorage.setItem("reference_edit_tool_image",e),this.showEditToolsModal=!this.showEditToolsModal},showUpscaleModal(t){this.changeStorage("image_settings.action","image-upscaling",!1),this.selectedTool=this.editToolOptions.find(a=>a.id===this.imageUpscalingId),this.upscaleValue=2;const e=JSON.stringify(t);localStorage.setItem("reference_edit_tool_image",e),this.showEditToolsModal=!1,this.showEditToolUploadModal=!0},async generateImageVariations(t){this.isReferenceImageLoading=!0,this.changeStorage("image_settings.action","reimagine",!1),this.changeStorage("image_settings.image",t==null?void 0:t.url,!1),await G.build(this,"image",null,"image",null,"reimagine",{action:"reimagine",image:t==null?void 0:t.url}),this.image_settings.prompt=null,this.isReferenceImageLoading=!1}},data(){return{ai_image_url_downloading:"",openDropdowns:{},visibleImageButtons:{},editToolOptions:A.editTools,imageUpscalingId:A.image_upscaling_id}}},cr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAUCAYAAACJfM0wAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN4SURBVHgBrVVZTBNRFD0tQ0trW2wFBWVTRCqKIKKgxA3FDUX90MRooiYmSoxRY+KHH/qlHxoNf2piosYPxUiiJijuuAUMLiDFirJ0YRNQsGXt0I73PRGhBRKXk7Qzc+fNmXPvPfeNDIQDV89G+QuKa5IkpeAvIQMsoltcmrMl28KvD+VdiJS7USgBUfhHELnNI2LR6a27rAI8ODoSaXRwKDJmzIZhjAbdLhfe2qrxtLJ8RGLiiZAJ0gE6PSjIIFvAQ16YGxWDlTPn4JG5DB+b6qBXa7AuYR5SJ8eivv0bHN1deF5lQltnh5ds2Q5GLIckGb1JNQEqUpqE84V3UVRtJrW9mBYyEUEaHT402ulFdqgUChxetQnJJMALY9mf4B1dFT8HadFxaHK0o6XjOxZOm4EVcUkos9fieH4uX9MjuvDa8hlPKt9j9+LVqKi3optigzGEeHV8Mowh4cgvL0Fi+BQeyyDSSy8forqlEWlT47BsegL63B4UmF7zmtc0N2FW2GS8qq0cnlgXoEa6MQEn7uQiwhDsnQj2LFkDQe6HMw9u0svDKLNkxNLRI3mgU6l91st/nQRrA7kqn2Yw1eSMF58q0CuKyIyfy9edKshDi9PB1X7tcPg8M6C4W+yFQa0duKHyV0KtVJIiCecK7/CYqcGKI5mbkT0+E2+sn7n1alubsC01HeVUZ9Hd56u4gSzEHJ4cGQMTLWIN2b9sPfwpfW+coCbGjJ+EmZOiuHpnTycmjjUMr5jh9rtibE9bjiCtFi+rzCixfuKOOJixAfcr3nGH6PuzYgPzO1sX2U+JYWvMwJrAFASqNNiXnsUn71ZpMVo7nNyGD4i8rcs5hEBLTTeQv7842kZW7OqvUW7JM0wPjcDGpPnISkzBw4pSXCl6hMhxExDgrxzUBwW2zFuMcrvFp+lDiFldsxJTEaYPgrnRBnO+jYgUNKUyrKVxTqFxZiVhUAh+3PdsMgtMb+GNIcSsVpdpGPYuXYtSew0vywSdHqlTYskFVXzy2NTpaVMKCTTg1L28Ye3ZX2PJNjjAyE7eu8GbYwwNR8S4YPT2iXhfZ+ENSqCJzF6Sice0OY1E+lOxhItks2ODg+yB22XFA9fzo41YQ2nrVCoaBieulzxHVXMDRoPQpxBy/ET3dtkoG31R9Uf++xPIczbubHfTJ4V2ZAv+I34AZ/hkrokSVEoAAAAASUVORK5CYII=",ur=["id","data-key"],hr=["aria-details"],pr={class:"ait-flex ait-p-2 ait-text-[10px] dark:ait-text-gray-200 ait-items-center ait-justify-between"},gr={class:"ait-flex ait-items-center ait-space-x-2"},fr=i("img",{class:"ait-w-4",src:cr,alt:"gpt-image"},null,-1),mr={class:"dark:ait-bg-neutral-900 dark:ait-text-gray-200 ait-px-8 ait-py-4 ai_result_container"},_r=["innerHTML"],wr=["onClick"],br=i("div",{class:"ait-clear-both"},null,-1),vr={key:1,class:"ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 dark:ait-text-gray-200"},yr={class:"ait-w-2/3 ait-py-4 ait-ml-auto ait-text-right"},xr={type:"button",class:"ait-text-white ait-bg-green-700 hover:ait-bg-green-800 focus:ait-outline-none focus:ait-ring-4 focus:ait-ring-green-300 ait-font-medium ait-rounded-full ait-text-sm ait-px-5 ait-py-1 ait-text-center ait-ml-5 ait-mr-2 dark:ait-bg-green-600 dark:hover:ait-bg-green-700 dark:focus:ait-ring-green-800 aitopia-pricing"},kr={key:2,class:"ait-px-3 ait-py-1 ait-text-red-800 dark:ait-text-red-200 ait-bg-neutral-100 dark:ait-bg-neutral-900"},Cr=["innerHTML"],$r={class:"ait-flex ait-items-center ait-justify-between ait-p-3 ait-space-x-3 ait-border ait-border-neutral-200 dark:ait-border-neutral-600 ait-rounded-xl ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-neutral-200"},Lr={class:""},Sr=["innerHTML"],Mr=["onMouseover","onMouseleave"],Hr=["src","title","alt"],Tr={class:"ait-flex ait-flex-row ait-absolute ait-top-0 ait-right-0 ait-mt-2 ait-h-[28px]"},Ur={key:0,class:"ait-flex ait-justify-end"},Pr=["onClick"],Ar=["onClick"],Ir=["onClick"],Er=["onClick"],jr=["onClick"],Vr=["onClick"],Rr={key:0},zr=["onClick"],Br={key:1},qr={disabled:"",class:"ait-absolute ait-bottom-[10px] ait-text-black dark:ait-text-white ait-download-button"},Or=i("div",null,null,-1),Dr=["onClick"],Fr={class:"ait-flex ait-flex-row ait-mt-2 ait-mx-auto hover:ait-text-white ait-regenerate"},Zr={class:"ait-ml-1 ait-pb-2"},Wr={key:0,class:"ait-flex ait-flex-row ait-mt-2 ait-ml-1"},Nr={class:"ait-ml-5"},Kr={key:4,class:"ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 dark:ait-text-gray-200"},Gr={key:0,class:"ait-w-2/3 ait-py-4 ait-ml-auto ait-text-right"},Yr={key:1,class:"ait-w-2/3 ait-py-4 ait-ml-auto ait-text-right"},Qr={key:5,id:"ait-continue-chat-ai_chat",class:"ait-continue-chat ait-flex ait-items-center ait-justify-center ait-absolute ait-w-full"},Xr=["data-title"],Jr={class:"ait-flex ait-w-full ait-gap-2 ait-items-center ait-justify-center"},t1={id:"ait-stop-chat-ai_chat",class:"ait-stop-chat ait-hide"},e1={class:"ait-text-white hover:ait-bg-green-800 ait-font-medium ait-text-md ait-px-5 ait-py-2 ait-rounded-md dark:hover:ait-bg-[var(--ait-tab-menu-active-bg-color)]"},i1={class:"ait-flex ait-w-full ait-gap-2 ait-items-center ait-justify-center"},a1=i("svg",{stroke:"currentColor",fill:"none","stroke-width":"2",viewBox:"0 0 24 24","stroke-linecap":"round","stroke-linejoin":"round",class:"icon-xs",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},[i("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"})],-1);function s1(t,e,a,n,s,c){const u=y("svg-logo"),d=y("file-button"),h=y("font-awesome-icon");return this.ai_single!=null?(o(),l(x,{key:0},[typeof this.ai_single[a.custom_key]<"u"?(o(),l(x,{key:0},[this.ai_single[a.custom_key]!=null?(o(),l("div",{key:0,class:C("ait-h-full "+this.class),id:a.id!=null?a.id:"","data-key":a.custom_key},[this.ai_single[a.custom_key]?(o(!0),l(x,{key:0},M(Object.values(this.ai_single[a.custom_key]),(g,r)=>(o(),l(x,null,[g?(o(),l("div",{key:0,"aria-details":`chat-key-${r}`,class:C(g.role=="system"||g.role=="assistant"?"ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-gray-200":"")},[g.role=="system"||g.role=="assistant"?(o(),l(x,{key:0},[i("div",pr,[i("span",gr,[fr,U(),i("span",null,p(g.model),1)])]),i("div",mr,[i("div",{class:C(`ai_result ${g.loading?"ai_loading":""}`),innerHTML:t.AiApi.prefixify(t.AiApi.linkify(g.item)).replace(/\n/g,"<br/>")},null,10,_r),i("div",{class:"ait-flex ait-items-center ait-space-x-2 ait-float-right ait-cursor-pointer",onClick:w=>this.Helpers.copyClipboard(g.item.replace(/<br\/>/g,`
`))},[m(u,{className:"ait-w-3 ait-h-3",name:"clipboard"}),i("span",null,p(t.__("copy")),1)],8,wr),br])],64)):g.role=="limit"?(o(),l("div",vr,[i("div",yr,[U(p(t.__("Your usage limit has been reached. Please upgrade your plan to continue using."))+" ",1),i("button",xr,p(t.__("Upgrade")),1)])])):g.role=="error"?(o(),l("div",kr,[i("div",{class:"ait-py-4 ait-text-center ait-text-red-800 dark:ait-text-red-200",innerHTML:t.AiApi.prefixify(t.AiApi.linkify(g.item)).replace(/\n/g,"<br/>")},null,8,Cr)])):g.role=="image"?(o(),l("div",{key:3,class:"ait-p-2 ai_result_container",style:V(a.mode==="full"&&"max-width: 36rem")},[i("div",$r,[i("div",Lr,[i("div",{class:C("ai_result ait-pb-3"),innerHTML:t.AiApi.prefixify(t.AiApi.linkify(g.title??g.item)).replace(/\n/g,"<br/>")},null,8,Sr),g.images?(o(),l("div",{key:0,class:C("ait-flex ait-grid ait-image-mode "+(g.images.length>2?"ait-grid-cols-2":"ait-grid-cols-"+g.images.length))},[(o(!0),l(x,null,M(g.images,w=>(o(),l("div",{onMouseover:b=>c.mouseOverImageButtonVisibility(w.url),onMouseleave:b=>c.mouseLeaveImageButtonVisibility(w.url),class:"ait-relative"},[w.url?(o(),l(x,{key:0},[i("img",{src:w.url,title:w.seed??"",alt:w.seed??"",loading:"lazy"},null,8,Hr),i("div",Tr,[s.visibleImageButtons[w.url]?(o(),l("div",Ur,[i("button",{onClick:b=>c.generateImageVariations(w),class:"ait-variations ait-flex ait-flex-row ait-text-black dark:ait-text-white ait-download-button ait-mr-1 ait-pt-[6px] items-center justify-center ait-text-[10px]"},[m(u,{class:"ait-relative",style:{"line-height":"13px"},name:"variants_icon"}),U(" "+p(t.__("Variations")),1)],8,Pr),i("button",{onClick:b=>c.showUpscaleModal(w),style:{"font-size":"10px","margin-right":"2px","padding-top":"6px"},class:"ait-flex ait-flex-row ait-text-black dark:ait-text-white ait-download-button"},[m(u,{class:"ait-relative",style:{"line-height":"13px"},name:"upscale_icon"}),U(" "+p(t.__("Upscale")),1)],8,Ar),m(u,{className:"ait-mt-auto ait-h-7 ait-w-6 ait-download-button ait-cursor-pointer",name:"three_dots_icon",onClick:b=>c.toggleDropdown(w.url)},null,8,["onClick"])])):f("",!0),s.openDropdowns[w.url]?(o(),l("div",{key:1,onClick:b=>c.toggleDropdown(w.url),class:"ait-mt-4 ait-absolute ait-right-0 ait-top-5 ait-z-50 ait-w-48 ait-bg-slate-100 dark:ait-bg-neutral-700 ait-rounded-md ait-shadow-lg"},[i("div",{onClick:b=>c.downloadImage(w.url,w.seed),class:"ait-flex ait-flex-row ait-px-4 ait-py-2 ait-text-sm ait-text-black dark:ait-text-white hover:ait-bg-gray-300 hover:dark:ait-bg-neutral-800 ait-rounded-lg ait-cursor-pointer"},[m(u,{class:"ait-ml-[2px] ait-mr-1 ait-mt-[1px]",name:"download_icon"}),U(" "+p(t.__("Download")),1)],8,Er),i("div",{onClick:b=>c.setUseAsReference(w.url),class:"ait-flex ait-flex-row ait-px-4 ait-py-2 ait-text-sm ait-text-black dark:ait-text-white hover:ait-bg-gray-300 hover:dark:ait-bg-neutral-800 ait-rounded-lg ait-cursor-pointer"},[m(u,{class:"ait-ml-[2px] ait-mr-1 ait-mt-[1px]",name:"use_as_reference_icon"}),U(" "+p(t.__("Use as reference")),1)],8,jr),i("div",{class:"ait-flex ait-flex-row ait-px-4 ait-py-2 ait-text-sm ait-text-black dark:ait-text-white hover:ait-bg-gray-300 hover:dark:ait-bg-neutral-800 ait-rounded-lg ait-cursor-pointer",onClick:b=>c.toggleEditModal(w)},[m(u,{class:"ait-mr-1 ait-mt-[1px] ait-white",name:"edit_icon"}),U(" "+p(t.__("Editing Tools")),1)],8,Vr)],8,Ir)):f("",!0)]),i("div",null,[s.ai_image_url_downloading===""&&s.visibleImageButtons[w.url]?(o(),l("div",Rr,[i("button",{onClick:b=>c.downloadImage(w.url,w.seed),class:"ait-absolute ait-bottom-[10px] ait-text-black dark:ait-text-white ait-download-button"},p(t.__("Download")),9,zr)])):f("",!0),s.ai_image_url_downloading===w.url&&s.visibleImageButtons[w.url]?(o(),l("div",Br,[i("button",qr,p(t.__("Downloading")),1)])):f("",!0),Or])],64)):f("",!0)],40,Mr))),256))],2)):f("",!0),g.loading==!1?(o(),l("button",{key:1,class:"ait-flex ait-rounded-full hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] dark:hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-text-white ait-px-1 ait-mt-3 ait-whitespace-nowrap",onClick:w=>c.regenerateAiImage(g)},[i("div",Fr,[m(u,{className:"ait-mb-2",name:"regenerate_icon"}),i("div",Zr,p(t.__("Regenerate")),1)])],8,Dr)):f("",!0)])]),g.loading?(o(),l("div",Wr,[i("div",{class:C(`${g.loading?"ai_loading":""}`)},null,2),i("div",Nr,p(t.__("Generating...")),1)])):f("",!0)],4)):(o(),l("div",Kr,[t.Helpers.notUndefined(g,"title")?(o(),l("div",Gr,[t.Helpers.filenameByFaIcon(g.title,null)=="lines"?(o(),l(x,{key:0},[U(p(g.title),1)],64)):(o(),E(d,{key:1,title:g.title},null,8,["title"]))])):(o(),l("div",Yr,p(g.item),1))])),t.Helpers.notUndefined(g,"finish_reason")=="length"?(o(),l("div",Qr,[i("button",{"data-title":t.__("Continue"),class:"ait-text-white hover:ait-bg-green-800 ait-font-small ait-text-md ait-px-3 ait-py-1.5 ait-my-2 ait-rounded-md dark:hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-items-center ait-justify-center"},[i("div",Jr,[m(h,{icon:"fa-solid fa-play",class:"ait-h-4 ait-w-4"}),U(" "+p(t.__("Continue generating")),1)])],8,Xr)])):f("",!0)],10,hr)):f("",!0)],64))),256)):f("",!0),i("div",t1,[i("button",e1,[i("div",i1,[a1,U(" "+p(t.__("Stop generating")),1)])])])],10,ur)):f("",!0)],64)):f("",!0)],64)):f("",!0)}const o1=L(dr,[["render",s1]]),n1={extends:H,name:"Painter",props:["mode"],data(){return{image_ai_models:{StableDiffusion:"Stable Diffusion"},selectedAIModel:"StableDiffusion",referenceImageShowTooltip:!1,isTagsHidden:!1,editToolsShowTooltip:!1}},methods:{toggleTags(){this.isTagsHidden=!this.isTagsHidden},onEditToolsClick(){this.showEditToolUploadModal&&(this.showEditToolUploadModal=!1),localStorage.setItem("reference_edit_tool_image",null),localStorage.setItem("is_edit_modal_redirected_from_painter","1"),this.showEditToolsModal=!0}}},N="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAz0lEQVR4nN3VoU7CURTH8Y9IsNAwSjDZfALGeAgak2IxWbXpE5jceIZ/hsRG+j8BFDpJosnirnO7bMY/jPNX+W3fdu++O7v3nMOxpokRhjiLkjwiZda4zeKDpvgh2bLCACeRki2LLAuVpEyJbrQkZWa4jpYkfOY7l7tIxjtKUuYDLzivIrnABG97yt7xhFbVqtro4Q6vmGNTUfZ97h4Ne+YKz1hWkPV/rZIOptFvMq7jdxV19EnxVzq+jJxdi8gpfPB98lDHZjzFTfSO92/zBcBszGtUUreMAAAAAElFTkSuQmCC",l1={class:"ait-flex ait-relative ait-flex-grow ait-w-full ait-overflow-x-hidden",id:"ai-message-container"},r1={class:"ait-w-full"},d1={class:"ait-flex ait-flex-col ait-h-full ait-space-y-3"},c1={class:"ait-p-2"},u1={class:"ait-flex ait-items-center ait-justify-between ait-p-3 ait-space-x-3 ait-border ait-border-neutral-200 dark:ait-border-neutral-600 ait-rounded-xl ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-neutral-200"},h1=i("div",{style:{position:"fixed","z-index":"9999",inset:"16px","pointer-events":"none"}},null,-1),p1={class:"ait-font-normal"},g1=["src"],f1={key:1,class:"ait-flex ait-flex-row ait-flex-wrap"},m1=["src"],_1=["src"],w1=["src"],b1=["src"],v1={class:"ait-font-normal"},y1={class:"ait-px-3 ait-pt-3"},x1={class:"ait-flex ait-relative ait-items-center lg:ait-justify-between ait-my-3"},k1={class:"ait-flex ait-gap-2"},C1={key:4,class:"ait-flex ait-items-center ait-space-x-3 ait-text-sm ait-relative dark:ait-text-neutral-200 ait-border ait-rounded-xl ait-cursor-pointer"},$1=["value"],L1={class:"ait-flex ait-relative ait-items-end ait-p-1 ait-space-x-1 ait-border ait-rounded-xl ait-h-[120px]"},S1=["readonly","placeholder"],M1={key:0,class:"ait-flex ait-flex-row ait-absolute ait-w-[90%] ait-ml-1 ait-mr-3"},H1={class:"ait-text-[10px]"},T1=i("svg",{class:"ait-w-2 ait-h-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[i("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),U1=[T1];function P1(t,e,a,n,s,c){const u=y("ImageAiResponse"),d=y("Credit"),h=y("ImageChatSettingsModal"),g=y("ReferenceImage"),r=y("EditToolsModal"),w=y("EditToolsUploadModal"),b=y("svg-logo"),v=y("ImagePreview");return this.settings.switchbar=="image"?(o(),l("div",{key:0,id:"ai-sidebar-content",class:C(`${a.mode==="full"&&"ait-h-full"}`)},[i("div",{class:C([`${a.mode==="full"?"ait-h-full":"ait-h-screen"}`,"ait-flex ait-flex-col"]),id:"ait-prompt-container"},[i("div",l1,[i("div",r1,[i("div",d1,[i("div",c1,[i("div",u1,[i("div",null,[h1,i("p",p1,p(t.__("Your personal AI artist is ready for you🎨 Please tell me what you want to create like 🐦a bird flying above the ocean, 🏝️a palm at the island, 🏡a house in the snowy mountains, I'll create a unique masterpiece for you in seconds")),1),a.mode!=="full"?(o(),l("img",{key:0,src:`${t.constants.extension_dir}assets/images/example-ai-chat.png`,alt:"bot artist image",class:"ait-w-[324px] ait-h-[324px] ait-py-2"},null,8,g1)):f("",!0),a.mode==="full"?(o(),l("div",f1,[i("img",{src:`${t.constants.extension_dir}assets/images/00.png`,alt:"00",class:"ait-w-[150px] ait-h-[150px] ait-py-2"},null,8,m1),i("img",{src:`${t.constants.extension_dir}assets/images/01.png`,alt:"01",class:"ait-w-[150px] ait-h-[150px] ait-py-2"},null,8,_1),i("img",{src:`${t.constants.extension_dir}assets/images/10.png`,alt:"10",class:"ait-w-[150px] ait-h-[150px] ait-py-2"},null,8,w1),i("img",{src:`${t.constants.extension_dir}assets/images/11.png`,alt:"11",class:"ait-w-[150px] ait-h-[150px] ait-py-2"},null,8,b1)])):f("",!0),i("p",v1,p(t.__("e.g: a sweet puppy running at the beach")),1)])])]),m(u,{custom_key:t.Helpers.SHA1("image"),mode:this.mode},null,8,["custom_key","mode"])])])]),i("div",y1,[i("div",x1,[i("div",k1,[m(d,{model:"image"})]),m(h,{mode:this.mode},null,8,["mode"]),m(g,{mode:this.mode},null,8,["mode"]),a.mode==="full"?(o(),E(r,{key:0})):f("",!0),a.mode==="full"?(o(),E(w,{key:1})):f("",!0),a.mode!=="full"?(o(),l("button",{key:2,onMouseover:e[0]||(e[0]=k=>s.editToolsShowTooltip=!0),onMouseleave:e[1]||(e[1]=k=>s.editToolsShowTooltip=!1),onClick:e[2]||(e[2]=(...k)=>c.onEditToolsClick&&c.onEditToolsClick(...k)),type:"button",class:"ait-flex-col ait-text-[11px] ait-text-[var(--ait-link-color)] hover:ait-text-neutral-700 dark:hover:ait-text-neutral-100"},[m(b,{name:"magic_wand"}),s.editToolsShowTooltip?(o(),l("div",{key:0,style:V([a.mode==="full"?"left: 57%":"left: 50%;",{bottom:"100%",transform:"translateX(-50%)"}]),class:"ait-bg-[#0d0d0dd9] ait-h-7 ait-w-27 ait-absolute ait-text-white ait-px-2 ait-py-1 ait-rounded ait-text-xs ait-shadow-md"},p(t.__("Editing Tools")),5)):f("",!0)],32)):f("",!0),a.mode!=="full"?(o(),E(v,{key:3})):f("",!0),a.mode!=="full"?(o(),l("label",C1,[P(i("select",{name:"choose_ai_model",id:"choose_ai_model",class:"ait-bg-transparent ait-w-fit ait-outline-none ait-p-1.5",style:{"-webkit-appearance":"none!important",appearance:"none!important"},"onUpdate:modelValue":e[3]||(e[3]=k=>s.selectedAIModel=k),onChange:e[4]||(e[4]=k=>this.changeStorage("settings.image_ai_model",s.selectedAIModel??"Stable Diffusion")),disabled:""},[(o(!0),l(x,null,M(this.image_ai_models,(k,$)=>(o(),l("option",{value:$},p(k),9,$1))),256))],544),[[W,s.selectedAIModel]])])):f("",!0)]),i("div",L1,[P(i("textarea",{readonly:t.ai_wait,"onUpdate:modelValue":e[5]||(e[5]=k=>this.image_settings.prompt=k),name:"image_settings_prompt",onChange:e[6]||(e[6]=k=>this.image_settings.prompt=k.target.value),class:"ait-selection-container ait-ai-text-item ait-relative ait-w-full ait-h-[112px] ait-p-1 ait-border-0 focus:ait-border-0 focus:ait-shadow-none ait-outline-none ait-resize-none ait-bg-transparent dark:ait-text-neutral-200",id:"ait-prompt-selection",rows:"4",placeholder:t.__("Briefly describe the image you want to create...")},null,40,S1),[[z,this.image_settings.prompt]]),s.isTagsHidden?f("",!0):(o(),l("div",M1,[i("div",H1,p(t.__("e.g.")),1),i("div",{class:"ait-ml-3 ait-text-[10px] ait-cursor-pointer hover:ait-text-[var(--ait-tab-menu-active-bg-color)]",onClick:e[7]||(e[7]=k=>t.ImageAi.build(this,"image","","image","Romantic painting of a ship sailing in a stormy ocean, with dramatic lighting and powerful waves",t.__("a ship in the ocean")))}," ⛵️ "+p(t.__("a ship in the ocean")),1),i("div",{class:"ait-ml-3 ait-text-[10px] ait-cursor-pointer hover:ait-text-[var(--ait-tab-menu-active-bg-color)]",onClick:e[8]||(e[8]=k=>t.ImageAi.build(this,"image","","image","a pretty woman in the street modern city, wavy wild hair, opaque sunglasses, digital painting, vintage style, bright colors , atmospheric lighting, cinematic composition, muted colors adds, highly detailed. dark ambiance, impasto oil drawing, achromatic, ( hyperrealistic art:0. 5), watercolor style, modern ink",t.__("a woman in the city")))}," 👩 "+p(t.__("a woman in the city")),1),i("button",{type:"button",class:"ait-ml-3 ait-text-neutral-400 ait-bg-transparent hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-lg ait-text-sm ait-inline-flex ait-justify-center ait-items-center dark:hover:ait-bg-neutral-600 dark:hover:ait-text-white","data-modal-hide":"",onClick:e[9]||(e[9]=(...k)=>c.toggleTags&&c.toggleTags(...k))},U1)])),i("img",{id:"ait-prompt-submit",onClick:e[10]||(e[10]=k=>{this.image_settings.prompt==null||this.image_settings.prompt.length==0||t.ImageAi.build(this,"image",this.image_settings.prompt,"image",null).then(this.image_settings.prompt=this.image_settings.keep_prompt===!0?this.image_settings.prompt:null)}),style:V(this.image_settings.prompt==null||this.image_settings.prompt.length==0?"filter: invert(0.5)!important;":""),src:N,class:"ait-w-5 ait-h-5 ait-opacity-80 ait-cursor-pointer dark:ait-invert"},null,4)])])],2)],2)):f("",!0)}const A1=L(n1,[["render",P1]]),I1={extends:H,data(){return{editToolUploadModalErrorMessage:"",isEditToolUploadModalProcessing:!1,editToolUploadModalDragActive:!1,editToolUploadModalInputFile:null,showEditToolUploadModal:!1,selectedEditToolImage:null,editToolUploadFileHash:null,isEditToolUploadButtonDisabled:!0,promptText:"",isReferenceImageLoading:!1,upscaleValue:2}},created(){this.checkSelectedReferenceImage()},updated(){this.checkSelectedReferenceImage()},methods:{toggleEditToolUploadModal(){this.showEditToolUploadModal=!this.showEditToolUploadModal,this.removeFileIfExists()},toggleEditToolUploadModalOnClick(){this.toggleEditToolUploadModal(),this.promptText=null,this.upscaleValue=null},dragOver(t){t.preventDefault(),this.editToolUploadModalDragActive=!0},dragEnter(t){t.preventDefault(),this.editToolUploadModalDragActive=!0},dragLeave(t){t.preventDefault(),this.editToolUploadModalDragActive=!1},getFileName(t){return _.slugify(t.name)},async uploadImage(t){const e=t.target.files[0];this.editToolUploadModalInputFile=e,await this.processFile(e)},async handleDrop(t){const e=t.dataTransfer.files[0];this.editToolUploadModalInputFile=e,await this.processFile(e)},async processFile(t){this.isEditToolUploadModalProcessing=!0,this.editToolUploadModalInputFile=t,this.Uploader.upload(t,41943040,["image/jpeg","image/jpg","image/png"],a=>{this.editToolUploadFileHash=_.SHA1(t.name+t.size).toString(),this.selectedEditToolImage=this.files[this.editToolUploadFileHash],this.files[this.editToolUploadFileHash]=this.selectedEditToolImage,document.querySelector("#fileInput")!=null&&(document.querySelector("#fileInput").value=""),this.changeStorage("image_settings.image",this.selectedEditToolImage.url,!1),this.showImage(),this.isEditToolUploadModalProcessing=!1})||(this.hideImage(),this.isEditToolUploadModalProcessing=!1)},getKey(){if(this.editToolUploadModalInputFile){let t=this.editToolUploadModalInputFile;return _.SHA1(t.name+t.size).toString()}},onUploadAgainClick(){document.getElementById("upload-again").click()},checkSelectedReferenceImage(){const t=document.getElementById("selected-edit-tool-image");if(t&&!t.classList.contains("ait-hidden"))return;this.isEditToolUploadButtonDisabled=!0;const e=localStorage.getItem("is_edit_modal_redirected_from_painter");if(e&&e==="1"){this.selectedEditToolImage=null,localStorage.setItem("is_edit_modal_redirected_from_painter",null);return}const a=localStorage.getItem("reference_edit_tool_image"),n=JSON.parse(a);if(n){this.selectedEditToolImage=n,this.showImage(),this.isEditToolUploadModalProcessing=!1,localStorage.setItem("reference_edit_tool_image",null);return}this.selectedEditToolImage&&(this.showImage(),this.isEditToolUploadModalProcessing=!1)},showImage(){const t=document.getElementById("drag-and-drop");if(t){t.classList.add("ait-hidden");const e=document.getElementById("selected-edit-tool-image");e.classList.remove("ait-hidden"),e.classList.add("ait-flex"),document.getElementById("upload-again-button").classList.remove("ait-hidden"),this.validateAdditionalFields()}},hideImage(){const t=document.getElementById("selected-edit-tool-image");t&&(this.selectedEditToolImage=null,t.classList.add("ait-hidden"),t.classList.remove("ait-flex"),document.getElementById("drag-and-drop").classList.remove("ait-hidden"),document.getElementById("upload-again-button").classList.add("ait-hidden"),this.validateAdditionalFields())},validateAdditionalFields(){const t=this.validateAdditionalField(this.selectedTool.prompt,this.promptText),e=this.validateAdditionalField(this.selectedTool.size,this.upscaleValue);if(!t||!e||!this.selectedEditToolImage){this.isEditToolUploadButtonDisabled=!0;return}this.isEditToolUploadButtonDisabled=!1},validateAdditionalField(t,e){return t?!!e:!0},removeFileIfExists(){this.files[this.getKey()]&&(this.files[this.getKey()]=null)}}},E1={key:0,tabindex:"-1","aria-hidden":"true",class:"ait-h-[var(--ait-height-100)] ait-h-dvh ait-items-center ait-fixed ait-modal ait-m-0 ait-bg-[rgba(0,0,0,.5)] ait-top-0 ait-left-0 ait-right-0 ait-w-full ait-p-4 ait-overflow-x-hidden ait-overflow-y-auto lg:ait-inset-0 h-[calc(100%)] ait-max-h-full ait-justify-center ait-flex","data-modal-hide":""},j1={class:"ait-relative ait-w-[90%] lg:ait-w-[45%] ait-max-h-full"},V1={class:"ait-relative ait-bg-white ait-rounded-lg ait-shadow dark:ait-bg-neutral-800"},R1={class:"ait-px-6 ait-py-4 ait-border-b ait-rounded-t dark:ait-border-neutral-600"},z1={class:"ait-text-base ait-font-semibold ait-text-neutral-900 lg:ait-text-lg dark:ait-text-white ait-text-left"},B1={id:"upload-again-button",class:"ait-hidden"},q1={class:"ait-sr-only"},O1={key:0,class:"ait-w-full"},D1={class:"ait-w-full ait-bg-gray-200 ait-rounded-full ait-h-2.5 ait-mb-4 dark:ait-bg-gray-700"},F1={key:1,class:"ait-px-4 ait-text-sm ait-text-neutral-600 dark:ait-text-neutral-400"},Z1=["disabled"],W1={key:2,for:"fileInput",class:"ait-w-full ait-h-full ait-relative"},N1={class:"ait-flex ait-flex-col ait-w-full ait-p-6 ait-items-center ait-justify-center ait-mt-4 ait-border-2 ait-border-dotted ait-border-neutral-300 dark:ait-border-neutral-700 ait-rounded-lg ait-text-neutral-600 dark:ait-text-neutral-400 ait-text-center ait-cursor-pointer ait-transition-all hover:ait-opacity-70"},K1=i("br",null,null,-1),G1={key:3,class:"ait-flex ait-justify-center ait-items-center ait-h-25"},Y1=i("div",{class:"ait-border-4 ait-border-solid ait-border-t-transparent ait-border-gray-200 ait-rounded-full ait-w-9 ait-h-9 ait-animate-spin"},null,-1),Q1=[Y1],X1={class:"ait-w-full ait-flex ait-justify-between ait-items-end"},J1={class:"ait-h-6"},td={key:0,class:"ait-text-red-500 ai-text-sm"},ed={id:"selected-edit-tool-image",class:"ait-hidden ait-p-4 ait-w-full ait-text-center ait-flex-col ait-items-center ait-gap-3"},id={class:"ait-p-1 ait-justify-center",style:{display:"contents"}},ad={key:0,class:"ait-w-full"},sd={class:"ait-w-full ait-bg-gray-200 ait-rounded-full ait-h-2.5 ait-mb-4 dark:ait-bg-gray-700"},od={key:1,class:"ait-flex ait-justify-center ait-items-center ait-h-25"},nd=i("div",{class:"ait-border-4 ait-border-solid ait-border-t-transparent ait-border-gray-200 ait-rounded-full ait-w-9 ait-h-9 ait-animate-spin"},null,-1),ld=[nd],rd=["src"],dd={class:"ait-w-full ait-flex ait-justify-between ait-items-end"};function cd(t,e,a,n,s,c){var h,g,r;const u=y("svg-logo"),d=y("EditToolsUploadModalActionSection");return s.showEditToolUploadModal?(o(),l("div",E1,[i("div",j1,[i("div",V1,[i("div",R1,[i("h3",z1,p(t.__((h=this.selectedTool)==null?void 0:h.name)),1),i("div",B1,[i("button",{type:"button",onClick:e[1]||(e[1]=(...w)=>c.onUploadAgainClick&&c.onUploadAgainClick(...w)),class:"ait-download-button dark:ait-text-white ait-text-neutral-900 ait-h-7 ait-absolute ait-bg-transparent hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-lg ait-text-sm ait-ml-auto ait-inline-flex ait-justify-center ait-items-center dark:hover:ait-bg-neutral-600 dark:hover:ait-text-white",style:{right:"4rem",top:"0.8rem"}},[m(u,{className:"ait-mr-1",name:"upload_again_icon"}),U(" "+p(t.__("Upload again"))+" ",1),i("input",{id:"upload-again",type:"file",onChange:e[0]||(e[0]=(...w)=>c.uploadImage&&c.uploadImage(...w)),accept:"image/png, image/jpeg",ref:"file",class:"ait-hidden"},null,544)])]),i("button",{type:"button",class:"ait-absolute ait-top-3 ait-right-2.5 ait-text-neutral-400 ait-bg-transparent hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-lg ait-text-sm ait-w-8 ait-h-8 ait-ml-auto ait-inline-flex ait-justify-center ait-items-center dark:hover:ait-bg-neutral-600 dark:hover:ait-text-white","data-modal-hide":"",onClick:e[2]||(e[2]=(...w)=>c.toggleEditToolUploadModalOnClick&&c.toggleEditToolUploadModalOnClick(...w))},[m(u,{className:"ait-w-3 ait-h-3",name:"close_icon"}),i("span",q1,p(t.__("Close modal")),1)])]),i("div",{id:"drag-and-drop",class:"ait-px-8 ait-mt-4 ait-w-full ait-text-center ait-flex ait-flex-col ait-items-center",onDrop:e[4]||(e[4]=R((...w)=>c.handleDrop&&c.handleDrop(...w),["prevent"])),onDragover:e[5]||(e[5]=R((...w)=>c.dragOver&&c.dragOver(...w),["prevent"])),onDragenter:e[6]||(e[6]=R((...w)=>c.dragEnter&&c.dragEnter(...w),["prevent"])),onDragleave:e[7]||(e[7]=R((...w)=>c.dragLeave&&c.dragLeave(...w),["prevent"]))},[s.isEditToolUploadModalProcessing&&this.files[this.getKey()]?(o(),l("div",O1,[U(p(t.__("Progress"))+" ",1),i("div",D1,[i("div",{class:"ait-bg-green-600 ait-h-2.5 ait-rounded-full dark:ait-bg-green-500",style:V("transition: width 2s;"+(this.files[this.getKey()].progress!=100?`width:${this.files[this.getKey()].progress}%`:"width:100%"))},null,4)])])):f("",!0),s.isEditToolUploadModalProcessing?f("",!0):(o(),l("p",F1,p(t.__((g=this.selectedToolDetail)==null?void 0:g.description)),1)),i("input",{type:"file",id:"fileInput",onChange:e[3]||(e[3]=(...w)=>c.uploadImage&&c.uploadImage(...w)),disabled:s.isEditToolUploadModalProcessing,style:{display:"none"}},null,40,Z1),s.isEditToolUploadModalProcessing?f("",!0):(o(),l("label",W1,[i("div",N1,[i("span",{class:C(["ait-block ait-mt-2",s.editToolUploadModalDragActive?"ait-opacity-100":"ait-opacity-60"])},[U(p(s.editToolUploadModalDragActive?t.__("Drop your image here"):t.__("Drag your image here or click to upload"))+" ",1),K1,U(" "+p(t.__("File types supported: Png, Jpg | Max file size: 4MB")),1)],2)])])),s.isEditToolUploadModalProcessing?(o(),l("div",G1,Q1)):f("",!0),i("div",X1,[m(d)]),i("div",J1,[s.editToolUploadModalErrorMessage?(o(),l("p",td,p(s.editToolUploadModalErrorMessage),1)):f("",!0)])],32),i("div",ed,[i("div",id,[s.isEditToolUploadModalProcessing&&this.files[this.getKey()]?(o(),l("div",ad,[U(p(t.__("Progress"))+" ",1),i("div",sd,[i("div",{class:"ait-bg-green-600 ait-h-2.5 ait-rounded-full dark:ait-bg-green-500",style:V("transition: width 2s;"+(this.files[this.getKey()].progress!=100?`width:${this.files[this.getKey()].progress}%`:"width:100%"))},null,4)])])):f("",!0),s.isEditToolUploadModalProcessing?(o(),l("div",od,ld)):f("",!0),s.isEditToolUploadModalProcessing?f("",!0):(o(),l("img",{key:2,src:(r=this.selectedEditToolImage)==null?void 0:r.url,alt:"Image preview",class:"ait-object-cover",style:{"max-width":"50%","max-height":"50%"}},null,8,rd)),i("div",dd,[m(d)])])])])])])):f("",!0)}const ud=L(I1,[["render",cd]]),hd={extends:H,data(){return{editTools:A.editTools}},methods:{onBackButtonClick(){this.toggleEditToolUploadModal(),this.showEditToolsModal=!0,this.editToolUploadModalInputFile=null,this.promptText=null,this.upscaleValue=null},async onSubmitButtonClick(t){var e,a;if(!this.isEditToolUploadButtonDisabled){this.toggleEditToolUploadModal(),this.isReferenceImageLoading=!0,await this.changeStorage("image_settings.action",t.id,!1),this.editToolUploadModalInputFile=null,await this.changeStorage("image_settings.image",(e=this.selectedEditToolImage)==null?void 0:e.url,!1);let n;if(t.size){const s=await this.getImageMeta((a=this.selectedEditToolImage)==null?void 0:a.url);n=await G.build(this,"image",this.promptText,"image",null,t.id,{target_width:(this.upscaleValue*s.naturalWidth).toString()+"px",target_height:(this.upscaleValue*s.naturalHeight).toString()+"px"})}else n=await G.build(this,"image",this.promptText,"image",null,t.id);this.image_settings.prompt=null,this.changeStorage("image_settings.image",_.notUndefined(n,"images.0.url"),!1),this.isReferenceImageLoading=!1,this.promptText=null,this.upscaleValue=null}},async getImageMeta(t){return new Promise((e,a)=>{const n=new Image;n.onload=()=>e(n),n.onerror=s=>a(s),n.src=t})},toggleEditToolUploadModal(){this.showEditToolUploadModal=!this.showEditToolUploadModal,this.removeFileIfExists()},removeFileIfExists(){this.files[this.getKey()]&&(this.files[this.getKey()]=null)},getKey(){if(this.editToolUploadModalInputFile){let t=this.editToolUploadModalInputFile;return _.SHA1(t.name+t.size).toString()}},onUpscaleClick(t){this.upscaleValue=t,this.validateAdditionalFields()},validateAdditionalFields(){const t=this.validateAdditionalField(this.selectedTool.prompt,this.promptText),e=this.validateAdditionalField(this.selectedTool.size,this.upscaleValue);if(!t||!e||!this.selectedEditToolImage){this.isEditToolUploadButtonDisabled=!0;return}this.isEditToolUploadButtonDisabled=!1},validateAdditionalField(t,e){return t?!!e:!0}}},pd={key:0,class:"ait-flex ait-items-center",style:{"margin-left":"18px"}},gd={key:0,class:"ait-flex ait-items-center ait-px-1 dark:ait-bg-stone-900 ait-bg-neutral-500 ait-ml-12",style:{"border-radius":"12px"}},fd={class:"ait-flex dark:ait-bg-stone-900 ait-bg-neutral-500 ait-rounded-full ait-h-10 ait-w-20 ait-items-center ait-justify-between"},md=["placeholder"],_d=["onClick"],wd={class:"ait-flex ait-flex-row ait-ml-2 ait-text-white"};function bd(t,e,a,n,s,c){const u=y("svg-logo");return o(),l(x,null,[i("button",{onClick:e[0]||(e[0]=d=>this.onBackButtonClick()),type:"button",class:"ait-text-white dark:ait-bg-neutral-600 ait-bg-neutral-200 ait-rounded-full ait-p-2.5 ait-text-center ait-inline-flex ait-items-center ait-me-2 ait-mt-5"},[m(u,{className:"ait-w-6 ait-h-6 ait-text-white ait-transition-transform ait-duration-300 group-hover:ait-scale-110",name:"back_icon"})]),(o(!0),l(x,null,M(this.editTools,(d,h)=>(o(),l(x,null,[this.selectedTool.id===d.id?(o(),l("div",{key:0,style:V([`width:${d.sectionWidth}%`,{"border-radius":"24px !important"}]),class:"ait-justify-between dark:ait-bg-neutral-600 ait-bg-neutral-200 ait-relative ait-flex ait-h-15"},[d.prompt?f("",!0):(o(),l("div",pd,[U(p(d.explanation!=null?t.__(d.explanation):d.explanation)+" ",1),d.size?(o(),l("div",gd,[i("div",fd,[i("button",{onClick:e[1]||(e[1]=g=>this.onUpscaleClick(2)),class:C(["ait-rounded-full ait-w-9 ait-h-9 ait-ml-2 hover:ait-bg-yellow-900 ait-text-white",`${this.upscaleValue===2?"ait-bg-yellow-900":""}`])}," x2 ",2),i("button",{onClick:e[2]||(e[2]=g=>this.onUpscaleClick(4)),class:C(["ait-rounded-full ait-w-9 ait-h-9 ait-mr-2 hover:ait-bg-yellow-900 ait-text-white",`${this.upscaleValue===4?"ait-bg-yellow-900":""}`])}," x4 ",2)])])):f("",!0)])),d.prompt?P((o(),l("input",{key:1,type:"text","onUpdate:modelValue":e[3]||(e[3]=g=>this.promptText=g),placeholder:t.__("What do you want to change the background to?"),id:"remove-background-input",class:"ait-text-white dark:ait-bg-[#353737] dark:ait-border-white ait-border-neutral-500 ait-pl-2 ait-shadow ait-appearance-none ait-border ait-rounded-lg dark:ait-text-white-300 ait-leading-tight focus:ait-outline-none focus:ait-shadow-outline",style:{width:"65%","border-width":"0.1px !important"},onChange:e[4]||(e[4]=g=>{this.changeStorage("promptText",this.promptText,!1),this.validateAdditionalFields()}),onInput:e[5]||(e[5]=g=>{this.validateAdditionalFields()})},null,40,md)),[[z,this.promptText]]):f("",!0),i("button",{onClick:g=>c.onSubmitButtonClick(d),type:"button",style:V([`background-color:${this.isEditToolUploadButtonDisabled?"rgb(251, 153, 45, 0.3)":"#fb992d"}`,{"border-radius":"24px !important"}]),class:"ait-flex ait-text-white ait-font-bold ait-py-3 ait-px-4"},[U(p(t.__("Confirm"))+" ",1),i("div",wd,[m(u,{style:{"margin-top":"3px"},name:"credit_icon"}),U(" "+p(d.credit),1)])],12,_d)],4)):f("",!0)],64))),256))],64)}const vd=L(hd,[["render",bd]]),yd=q({extends:H,name:"InnerReferenceImage",props:["mode","isHidden"],data(){return{errorMessage:"",input_file:null}},methods:{getFileName(t){return _.slugify(t.name)},async uploadReferenceImage(t){const e=t.target.files[0];this.input_file=e,await this.processReferenceImageFile(e)},async processReferenceImageFile(t){this.isReferenceImageProcessing=!0,this.input_file=t,this.Uploader.upload(t,41943040,["image/jpeg","image/jpg","image/png"],e=>{this.files||(this.files={});let a=_.SHA1(t.name+t.size).toString(),n=this.files[a];n&&this.changeStorage("image_settings.image",n.url,!1),this.files[a]=n,this.showImagePreviewModal=!0,document.querySelector("#fileInput")!=null&&(document.querySelector("#fileInput").value=""),document.querySelector("#ait-reference-image-modal")!=null&&(this.showReferenceImageModal=!1),this.input_file=null,this.isReferenceImageProcessing=!1})},getKey(){if(this.input_file){let t=this.input_file;return _.SHA1(t.name+t.size).toString()}}}}),xd={key:0,class:"ait-p-4 ait-w-full ait-text-center ait-flex ait-flex-col ait-items-center ait-gap-3"},kd={key:0,class:"ait-w-full"},Cd={class:"ait-w-full ait-bg-gray-200 ait-rounded-full ait-h-2.5 ait-mb-4 dark:ait-bg-gray-700"},$d={key:1,class:"ait-px-4 ait-text-sm ait-text-neutral-600 dark:ait-text-neutral-400"},Ld=["disabled"],Sd={key:2,for:"referenceImageFileInput",class:"ait-w-full ait-h-full ait-relative ait-z-[9999]"},Md=i("br",null,null,-1),Hd={key:3,class:"ait-flex ait-justify-center ait-items-center ait-h-25"},Td=i("div",{class:"ait-border-4 ait-border-solid ait-border-t-transparent ait-border-gray-200 ait-rounded-full ait-w-9 ait-h-9 ait-animate-spin"},null,-1),Ud=[Td],Pd={key:4,class:"ait-h-6"},Ad={class:"ait-text-red-500 ai-text-sm"};function Id(t,e,a,n,s,c){return(t.mode==="full"?!this.image_settings.image:!t.isHidden)?(o(),l("div",xd,[this.files[this.getKey()]?(o(),l("div",kd,[U(p(t.__("Progress"))+" ",1),i("div",Cd,[i("div",{class:"ait-bg-green-600 ait-h-2.5 ait-rounded-full dark:ait-bg-green-500",style:V("transition: width 2s;"+(this.files[this.getKey()].progress!=100?`width:${this.files[this.getKey()].progress}%`:"width:100%"))},null,4)])])):f("",!0),!this.isReferenceImageProcessing&&t.mode!=="full"?(o(),l("p",$d,p(t.__("Upload a reference image to generate a new image based from. You can edit the elements, backgrounds or type of the reference image just by writing prompts after you upload the reference image.")),1)):f("",!0),i("input",{type:"file",id:"referenceImageFileInput",onChange:e[0]||(e[0]=(...u)=>t.uploadReferenceImage&&t.uploadReferenceImage(...u)),disabled:this.isReferenceImageProcessing,style:{display:"none"}},null,40,Ld),this.isReferenceImageProcessing?f("",!0):(o(),l("label",Sd,[i("div",{class:C([`${t.mode==="full"?"":"ait-mt-4"}`,"ait-flex ait-flex-col ait-w-full ait-p-6 ait-items-center ait-justify-center ait-border-2 ait-border-dotted ait-border-neutral-300 dark:ait-border-neutral-700 ait-rounded-lg ait-text-neutral-600 dark:ait-text-neutral-400 ait-text-center ait-cursor-pointer ait-transition-all hover:ait-opacity-70"])},[i("span",{class:C(["ait-block ait-mt-2",this.referenceImageDragActive?"ait-opacity-100":"ait-opacity-60"])},[U(p(this.referenceImageDragActive?t.__("Drop your image here"):t.__("Drag your image here or click to upload"))+" ",1),Md,U(" "+p(t.__("File types supported: Png, Jpg | Max file size: 4MB")),1)],2)],2)])),this.isReferenceImageProcessing?(o(),l("div",Hd,Ud)):f("",!0),t.errorMessage?(o(),l("div",Pd,[i("p",Ad,p(t.errorMessage),1)])):f("",!0)])):f("",!0)}const Ed=L(yd,[["render",Id]]),jd={extends:H,name:"InnerImagePreview",props:["mode"],updated(){this.mode=="full"&&_.scrollToBottom("#full-screen-image-settings > div")},methods:{onImageRemove(){this.changeStorage("image_settings.image",null,!1)}}},Vd={key:0,class:"ait-p-1 ait-relative"},Rd={key:0,class:"ait-flex ait-flex-row ait-justify-between"},zd={class:"dark:ait-text-white ait-text-sm ait-font-medium ait-mb-4"},Bd=["src"],qd={class:"ait-w-full ait-p-1",style:{"margin-top":"-45px","z-index":"999999",position:"relative",background:"rgba(0,0,0,.3)"}},Od=["title"];function Dd(t,e,a,n,s,c){const u=y("SvgLogo");return!this.isReferenceImageLoading&&this.image_settings.image?(o(),l("div",Vd,[a.mode==="full"?(o(),l("div",Rd,[i("div",zd,p(t.__("Image Upload")),1),i("button",{onClick:e[0]||(e[0]=(...d)=>c.onImageRemove&&c.onImageRemove(...d))},[m(u,{name:"delete_icon"})])])):f("",!0),i("div",{style:V(a.mode==="full"&&"max-width: 15rem; margin-left: auto; margin-right: auto;")},[i("img",{src:this.image_settings.image,alt:"Image preview",class:"ait-w-full ait-h-full ait-object-cover"},null,8,Bd),i("div",qd,[i("label",{for:"image_strength",class:"ait-block ait-text-white ait-text-[11px]",style:{"text-shadow":"1px 1px 0px rgba(0,0,0,.5)"},title:t.__("Image Strength")},p(t.__("Image Strength"))+" ("+p(this.image_settings.image_strength)+"%) ",9,Od),P(i("input",{type:"range","onUpdate:modelValue":e[1]||(e[1]=d=>this.image_settings.image_strength=d),min:"1",max:"99",id:"image_strength",step:"1",class:"ait-appearance-none ait-w-full ait-bg-[var(--ait-link-color)] ait-h-1 ait-rounded-lg ait-slider-thumb ait-mt-3",onChange:e[2]||(e[2]=d=>{this.changeStorage("image_settings.image_strength",this.image_settings.image_strength,!1)})},null,544),[[z,this.image_settings.image_strength]])])],4)])):f("",!0)}const Fd=L(jd,[["render",Dd]]),Zd={extends:H,props:["mode","headerMode","needUpgrade"],methods:{onWebAccessChange(){if(this.storage.Local.plan=="Free"){this.settings.web_access=!1,document.getElementById("ait-upgrade-plan-modal").classList.remove("ait-hide"),document.getElementById("ait-upgrade-plan-modal").classList.add("ait-show");return}this.changeStorage("settings.web_access",this.settings.web_access??!1)}}},Wd=i("button",{"data-ait-dropdown-toggle":"ait-upgrade-plan-modal",id:"ait-toggle-upgrade-button",class:"ait-hidden"},null,-1),Nd={id:"ai-message-container",class:"ait-flex ait-relative ait-flex-grow ait-w-full ait-overflow-x-hidden"},Kd={class:"ait-w-full"},Gd={class:"ait-flex ait-flex-col ait-h-full ait-space-y-3"},Yd={key:0,id:"aitopia-example"},Qd={class:"ait-p-2"},Xd={class:"ait-font-bold"},Jd={class:"ait-opacity-60 ait-text-[11px] example_content"},t0=i("button",null,[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",class:"ait-w-5 ait-h-5 ait-cursor-pointer",fill:"none"},[i("path",{d:"M20 12L14 6M20 12L14 18M20 12L9.5 12M4 12L6.5 12",stroke:"#14746F","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),e0={class:"ait-p-2"},i0={class:"ait-font-bold"},a0={class:"ait-opacity-60 ait-text-[11px] example_content"},s0=i("button",null,[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",class:"ait-w-5 ait-h-5 ait-cursor-pointer",fill:"none"},[i("path",{d:"M20 12L14 6M20 12L14 18M20 12L9.5 12M4 12L6.5 12",stroke:"#14746F","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),o0={class:"ait-p-2"},n0={class:"ait-font-bold"},l0={class:"ait-opacity-60 ait-text-[11px] example_content"},r0=i("button",null,[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",class:"ait-w-5 ait-h-5 ait-cursor-pointer",fill:"none"},[i("path",{d:"M20 12L14 6M20 12L14 18M20 12L9.5 12M4 12L6.5 12",stroke:"#14746F","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),d0={key:1,id:"aitopia-web-search"},c0={class:"ait-flex ait-flex-col ait-justify-center ait-items-center ait-w-full ait-py-20 ait-gap-3"},u0={class:"ait-text-xl ait-font-bold dark:ait-text-neutral-100 ait-text-neutral-600"},h0={class:"ait-text-sm dark:ait-text-neutral-300 ait-text-neutral-500"},p0={class:"ait-px-3 ait-pt-3"},g0={class:"ait-flex ait-relative ait-w-full ait-items-center ait-justify-between ait-my-3 ait-grid ait-grid-cols-5 lg:ait-grid-none lg:grid-cols-2"},f0={class:"ait-flex ait-w-full ait-gap-2 ait-items-center ait-col-span-4 lg:ait-col-span-none"},m0=["readonly","placeholder"],_0={class:"ait-flex ait-w-full ait-justify-between ait-items-center ait-gap-2 ait-p-0.5"},w0={class:"ait-flex ait-items-center ait-justify-start ait-gap-2"},b0={class:"ait-relative ait-inline-flex ait-items-center ait-cursor-pointer"},v0=i("div",{class:"ait-w-7 ait-h-4 ait-bg-neutral-200 ait-rounded-full ait-peer peer-focus:ait-ring-3 dark:peer-focus:ait-ring-[var(--ait-link-color)] dark:ait-bg-neutral-700 peer-checked:after:ait-translate-x-full rtl:peer-checked:after:-ait-translate-x-full peer-checked:after:ait-border-white after:ait-content-[''] after:ait-absolute after:ait-top-0.5 after:ait-start-[2px] after:ait-bg-white after:ait-border-neutral-300 after:ait-border after:ait-rounded-full after:ait-h-3 after:ait-w-3 after:ait-transition-all dark:ait-border-neutral-600 peer-checked:ait-bg-[var(--ait-link-color)]"},null,-1),y0={class:"ait-ms-1.5 ait-text-xs ait-font-medium ait-text-[var(--ait-link-color)] ait-opacity-60 ait-transition-all ait-select-none peer-checked:ait-opacity-100"},x0={key:1,class:"ait-flex ait-justify-center ait-w-full lg:ait-max-w-lg ait-mx-auto ait-px-4 ait-h-[var(--ait-height-100)] ait-items-center"},k0={class:"ait-border-[1px] ait-border-neutral-300 ait-rounded-md ait-flex ait-flex-col ait-items-center ait-gap-8 ait-text-center ait-p-4"},C0={class:"ait-px-4 ait-text-sm ait-text-neutral-600 dark:ait-text-neutral-400"},$0={class:"aitopia-pricing ait-cursor-pointer ait-w-full ait-font-semibold ait-text-white ait-text-sm ait-py-2 ait-rounded-md ait-flex ait-items-center ait-gap-2 ait-justify-center ait-bg-[var(--ait-link-color)] hover:ait-opacity-80 ait-transition-all"};function L0(t,e,a,n,s,c){const u=y("UpgradePlanModal"),d=y("AiResponse"),h=y("Credit"),g=y("VisionToolbar"),r=y("ChooseModel"),w=y("VisionImagePreview"),b=y("hover-popover"),v=y("make-a-review");return o(),l(x,null,[m(u),Wd,i("div",{id:"ai-sidebar-content",class:C(`${a.mode==="full"&&"ait-h-full"}`)},[i("div",{class:C([`${a.mode==="full"?"ait-h-full":"ait-h-screen"}`,"ait-flex ait-flex-col ait-h-full"])},[a.needUpgrade?(o(),l("div",x0,[i("div",k0,[i("p",C0,p(t.__("The data of ChatGPT isn't real-time. WebAccess Feature combines the intelligence of ChatGPT with realtime web information, allowing GPT to handle real-time information-related questions more effectively. Upgrade to gain this feature, and worry no more about outdated information!")),1),i("button",$0,p(t.__("Upgrade Now")),1)])])):(o(),l(x,{key:0},[i("div",Nd,[i("div",Kd,[i("div",Gd,[a.headerMode!="search"?(o(),l("div",Yd,[i("div",Qd,[i("div",{class:"ait-flex ait-items-center ait-justify-between ait-p-3 ait-space-x-3 ait-border ait-rounded-xl ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-neutral-200 ait-cursor-pointer",onClick:e[0]||(e[0]=k=>{t.AiApi.chat(t.__("Explain Artificial Intelligence so that I can explain it to my six-year-old child."))})},[i("div",null,[i("p",Xd,"🤓 "+p(t.__("Explain a complex thing")),1),i("p",Jd,p(t.__(`Explain Artificial Intelligence so
                        that I can explain it to my six-year-old child.`)),1)]),t0])]),i("div",e0,[i("div",{class:"ait-flex ait-items-center ait-justify-between ait-p-3 ait-space-x-3 ait-border ait-rounded-xl ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-neutral-200 ait-cursor-pointer",onClick:e[1]||(e[1]=k=>{t.AiApi.chat(t.__("Please give me the best 10 travel ideas around the world"))})},[i("div",null,[i("p",i0,"🧠 "+p(t.__("Get suggestions and create new ideas")),1),i("p",a0,p(t.__(`Please give me the best 10 travel
                        ideas around the world`)),1)]),s0])]),i("div",o0,[i("div",{class:"ait-flex ait-items-center ait-justify-between ait-p-3 ait-space-x-3 ait-border ait-rounded-xl ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-neutral-200 ait-cursor-pointer",onClick:e[2]||(e[2]=k=>t.AiApi.chat(t.__('Translate "I love you into" French')))},[i("div",null,[i("p",n0,"💭 "+p(t.__("Translate, summarize, fix grammar and more…")),1),i("p",l0,p(t.__('Translate "I love you into" French')),1)]),r0])])])):f("",!0),a.headerMode=="search"?(o(),l("div",d0,[i("div",c0,[i("p",u0,p(t.__("Search")),1),i("span",h0,p(t.__(`Use the power of AI to
                    search the web!`)),1)])])):f("",!0),m(d)])])]),i("div",p0,[i("div",g0,[i("div",f0,[m(h),m(g,{mode:a.mode},null,8,["mode"]),(o(),E(Tt,null,[(o(),E(Ht("PDFUpload")))],1024))]),m(r)]),i("div",{class:C(`ait-flex ait-flex-col ait-relative ait-items-end ait-p-1 ait-space-x-1 ait-border ait-rounded-xl ${this.ai_image_url?"ait-h-[210px] ait-flex-col ait-items-start ait-justify-start":"ait-h-[120px]"}`)},[m(w),P(i("textarea",{readonly:this.ai_wait,"onUpdate:modelValue":e[3]||(e[3]=k=>t.ai_ask=k),name:"ask",onChange:e[4]||(e[4]=k=>this.ai_ask=k.target.value),class:"ait-selection-container ait-ai-text-item ait-relative ait-w-full ait-h-[112px] ait-p-1 ait-border-0 focus:ait-border-0 focus:ait-shadow-none ait-outline-none ait-resize-none dark:ait-bg-neutral-700 dark:ait-text-neutral-200",id:"ask",rows:"4",placeholder:t.__("Ask me anything...")},null,40,m0),[[z,t.ai_ask]]),i("div",_0,[i("div",w0,[i("label",b0,[P(i("input",{type:"checkbox",class:"ait-ai-web-access-checkbox ait-sr-only ait-peer","onUpdate:modelValue":e[5]||(e[5]=k=>this.settings.web_access=k),value:"1",onChange:e[6]||(e[6]=k=>c.onWebAccessChange())},null,544),[[gt,this.settings.web_access]]),v0,i("span",y0,p(t.__("Web Access")),1)])]),m(b,{"popover-text":t.__("Send")},{default:S(()=>[i("img",{onClick:e[7]||(e[7]=k=>{this.ai_ask==null||this.ai_ask.length==0||t.AiApi.chat(this.ai_ask,this.settings.ai_model),this.ai_ask=null}),style:V(this.ai_ask==null||this.ai_ask.length==0?"filter: invert(0.5)!important;":""),src:N,class:"ait-w-5 ait-h-5 ait-opacity-80 ait-cursor-pointer dark:ait-invert"},null,4)]),_:1},8,["popover-text"])])],2)])],64))],2)],2),a.mode!=="full"?(o(),E(v,{key:0})):f("",!0)],64)}const S0=L(Zd,[["render",L0]]),M0={extends:H},H0={class:"ait-h-full ait-mb-5 ait-max-w-[372px] ait-min-w-[360px]",id:"aitopia-search-container"},T0={class:"ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-gray-200 ait-rounded-xl ait-px-4 ait-py-3 ait-border ait-border-gray-50 dark:ait-border-neutral-700"},U0={class:"ait-flex"},P0={class:"ait-w-11/12 ait-flex ait-gap-2 xl:ait-gap-3 ait-items-center"},A0=i("div",{class:"ait-logo-text"},[i("div",{class:"ait-font-bold ait-pl-1 ait-pr-2 ait-break-keep ait-text-sm"},"ChatGPT Sidebar")],-1),I0={class:"ait-credits ait-mr-3 ait-w-5/12"},E0={type:"button",class:"ait-text-neutral-500 dark:ait-text-neutral-300 ait-border-2 ait-border-solid ait-border-[var(--ait-tab-menu-active-bg-color)] hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-text-white ait-rounded-lg focus:ait-outline-none ait-text-xs ait-p-2 ait-text-center aitopia-ask-search"},j0={class:"ait-w-1/12 ait-flex ait-grid ait-grid-cols-1 ait-gap-3 ait-items-center"},V0={class:"ait-switchbar-tab-item ait-gap-3 ait-place-items-end ait-rounded-lg ait-p-2 ait-cursor-pointer arc-edge aitopia-options-search"};function R0(t,e,a,n,s,c){const u=y("svg-logo"),d=y("font-awesome-icon"),h=y("single-response");return o(),l("div",H0,[i("div",T0,[i("div",U0,[i("div",P0,[i("div",{class:C(["ait-logo ait-flex ait-w-7/12 ait-place-items-center",this.constants.runtime_id==null?"ait-cursor-pointer":""]),onClick:e[0]||(e[0]=g=>this.constants.runtime_id==null?t.clickOpenPage(this.constants.web_app):"")},[m(u,{name:"logo",className:"ait-w-7 ait-flex-initial"}),A0],2),i("div",I0,[i("button",E0,p(t.__("Ask ChatGPT")),1)])]),i("div",j0,[i("div",V0,[m(d,{icon:"fa-solid fa-gear",class:"ait-h-4 ait-w-4"})])])]),this.ai_extra_key?(o(),E(h,{key:0,class:"ait-pt-3 ait-pb-2",id:"aitopia-search-result",custom_key:this.ai_extra_key},null,8,["custom_key"])):f("",!0)])])}const z0=L(M0,[["render",R0]]),B0={extends:H,props:{title:String,color:String,button_detail:Object,url:String},data(){return{detail:null}},beforeMount:function(){var t,e;this.detail=((t=this.$props)==null?void 0:t.button_detail)??_.filenameByFaIcon(((e=this.$props)==null?void 0:e.title)??null,this.$props.color??null)}},q0={key:0,class:"ait-items-center ait-justify-end ait-space-y-4 ait-mr-2 lg:ait-flex lg:ait-space-y-0 lg:ait-space-x-4 rtl:ait-space-x-reverse"},O0={class:"ait-w-full lg:ait-w-auto ait-bg-neutral-05 hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-800 focus:ait-ring-4 focus:ait-outline-none focus:ait-ring-neutral-300 ait-text-white ait-rounded-lg ait-inline-flex ait-items-center ait-justify-center ait-px-4 ait-py-2 dark:ait-bg-neutral-800 dark:hover:ait-bg-neutral-900 dark:focus:ait-ring-neutral-700"},D0=["src","title"],F0={class:"ait-text-left rtl:ait-text-right"},Z0=i("div",{class:"mb-1 text-xs"},"File",-1),W0={class:"ait--mt-1 ait-font-sans ait-text-sm ait-font-semibold"},N0=["innerHTML"];function K0(t,e,a,n,s,c){const u=y("font-awesome-icon");return o(),l(x,null,[t.Helpers.notUndefined(s.detail,"name")?(o(),l("div",q0,[i("div",O0,[t.Helpers.notUndefined(s.detail,"name")!="image"||a.url==null?(o(),E(u,{key:0,icon:`fa-regular fa-file-${t.Helpers.notUndefined(s.detail,"name")}`,class:"ait-me-3 ait-w-5 ait-h-5",fill:t.Helpers.notUndefined(s.detail,"color")},null,8,["icon","fill"])):(o(),l("img",{key:1,src:a.url,class:"ait-me-3 ait-w-5 ait-h-5 ait-image-modal",title:t.Helpers.notUndefined(s.detail,"name")},null,8,D0)),i("div",F0,[Z0,i("div",W0,p(a.title),1)])])])):f("",!0),i("span",{style:{display:"none"},innerHTML:`<style>.fa-file-${t.Helpers.notUndefined(s.detail,"name")} path{fill:${t.Helpers.notUndefined(s.detail,"color")}}</style>`},null,8,N0)],64)}const G0=L(B0,[["render",K0]]),Y0={props:["popoverText","breakWord","position","disable"],data(){return{isHovered:!1}},methods:{hoverAction(t,e=!1,a="x"){if(this.isHovered=e,a=="y"&&e==!0){let n=t.target.querySelector(".ait-popper"),s=t.target;if(n==null&&(n=t.target.closest(".ait-popper-container").querySelector(".ait-popper"),s=t.target.closest(".ait-popper-container")),n==null)return;const c=s.clientWidth,u=window.innerWidth,d=s.getBoundingClientRect().left+c;u-d<c?(n.style.top="0",n.style.left="-"+c+"px",n.style.right="auto"):(n.style.top="0",n.style.left="auto",n.style.right="-"+c+"px")}}}};const Q0=t=>(Y("data-v-f499526d"),t=t(),Q(),t),X0=["innerHTML"],J0={key:1,class:"ait-absolute ait-z-[9999999] ait-top-0 ait-left-1/2 ait-transform ait--translate-x-1/2 ait-py-1 ait-px-2 ait-rounded-md ait-shadow-lg dark:ait-bg-neutral-100 ait-bg-neutral-800 ait-text-gray-900 dark:ait-text-gray-200 ait-translate-y-[-120%] ait:border-[1px] dark:ait-border-neutral-200 ait-border-neutral-300"},tc=["innerHTML"],ec=Q0(()=>i("div",{class:"ait-left-0 ait-top-0 ait-bottom-0 ait-left-0 ait-top-1/2 ait-left-1/2 ait-right-1/2 ait-bottom-1/2 ait-translate-x-[-100%] ait-translate-y-[-100%] ait-translate-x-[-120%] ait-translate-y-[-120%]"},null,-1));function ic(t,e,a,n,s,c){return o(),l("div",{class:"ait-relative ait-block ait-popper-container",onMouseover:e[0]||(e[0]=u=>{this.isHovered=!0,this.hoverAction(u,!0,a.position)}),onMouseout:e[1]||(e[1]=u=>this.hoverAction(u,!1,a.position))},[et(t.$slots,"default",{},void 0,!0),a.popoverText?(o(),E(O,{key:0,name:"fade"},{default:S(()=>[a.position==="y"?P((o(),l("div",{key:0,class:C(`ait-absolute ait-z-[9999999] ${a.position=="y"?"":"ait-top-0 ait-left-1/2 ait-w-full ait-transform ait--translate-x-1/2 ait-translate-y-[-120%]"} ait-popper ait-popper-${a.position??"x"} ait-py-1 ait-px-2 ait-rounded-md ait-shadow-lg dark:ait-bg-neutral-100 ait-bg-neutral-800 ait-text-gray-200 dark:ait-text-gray-900 ait:border-[1px] dark:ait-border-neutral-200 ait-border-neutral-300`)},[i("div",{class:C(`ait-text-xs ait-font-medium ait-text-gray-200 dark:ait-text-gray-800 ${a.breakWord?"":"ait-whitespace-nowrap ait-max-w-[170px] ait-w-full"}`),innerHTML:a.popoverText},null,10,X0)],2)),[[rt,s.isHovered&&!a.disable]]):P((o(),l("div",J0,[i("div",{class:C(`ait-text-xs ait-font-medium ait-text-gray-200 dark:ait-text-gray-800 ${a.breakWord?"":"ait-whitespace-nowrap ait-max-w-[200px] ait-w-full"}`),innerHTML:a.popoverText},null,10,tc)],512)),[[rt,s.isHovered]])]),_:1})):f("",!0),ec],32)}const ac=L(Y0,[["render",ic],["__scopeId","data-v-f499526d"]]),sc=q({extends:H,name:"VisionToolbar",props:["mode"],data(){return{errorMessage:"",promptId:"",dragActive:!1,inputImageFile:null}},watch:{ai_image_url(t,e){if(t&&t.startsWith("data:image")){const a=this.dataURItoBlob(t);this.uploadImageBlob(a)}_.scrollToBottom()}},methods:{dataURItoBlob(t){const e=t.split(","),a=atob(e[1]),n="image/png",s=new ArrayBuffer(a.length),c=new Uint8Array(s);for(let d=0;d<a.length;d++)c[d]=a.charCodeAt(d);return new Blob([s],{type:n})},dragOver(t){t.preventDefault(),this.dragActive=!0},dragEnter(t){t.preventDefault(),this.dragActive=!0},dragLeave(t){t.preventDefault(),this.dragActive=!1},async handleDrop(t){const e=t.dataTransfer.files[0];await this.processFile(e)},async handleFile(t){const e=t.target.files[0];await this.processFile(e),t.target.value=null},async processFile(t){if(this.inputImageFile=t,!t||!t.type.match("image.*")){this.errorMessage=this.__("Please upload a valid image file.");return}this.errorMessage="",this.closeModel();const e=this.createPreviewImageURL(t);this.changeStorage("ai_image_url",e,!1),this.uploadImageFile(t)},uploadImageFile(t){this.isUploadingImage=!0,this.Uploader.upload(t,41943040,["image/jpeg","image/jpg","image/png"],e=>{this.files||(this.files={});let a=_.SHA1(t.name+t.size).toString(),n=this.files[a];n&&this.changeStorage("ai_image_url",n.url,!1),this.files[a]=n,document.querySelector("#imageFileInput")!=null&&(document.querySelector("#imageFileInput").value=null),this.inputImageFile=null,this.isUploadingImage=!1})},uploadImageBlob(t){this.isUploadingImage=!0;const e="chat_"+new Date().getTime()+"_ss.png";this.Uploader.uploadBlob(t,e,a=>{this.files||(this.files={});let n=_.SHA1(e+t.size).toString(),s=this.files[n];s&&this.changeStorage("ai_image_url",s.url,!1),this.files[n]=s,document.querySelector("#imageFileInput")!=null&&(document.querySelector("#imageFileInput").value=null),this.inputImageFile=null,this.isUploadingImage=!1})},createPreviewImageURL(t){return URL.createObjectURL(t)},getKey(){if(this.inputImageFile){let t=this.inputImageFile;return _.SHA1(t.name+t.size).toString()}},getFileName(t){return _.slugify(t.name)},async captureCurrentTab(){this.ai_image_url=null,this.sidebarToggle(!1),await this.waitFor(100),this.closeModel();const t=document.createElement("div");t.classList.add("ait-capture-overlay"),t.style.position="fixed",t.style.zIndex="9999999",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.backgroundColor="rgba(0, 0, 0, 0.3)",t.style.transition="background-color 0.8s ease",t.style.cursor="crosshair",document.body.appendChild(t);const e=document.createElement("div");e.style.border="1px solid var(--ait-link-color)",e.style.position="absolute",t.appendChild(e);const a=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),c=document.createElement("div");[a,n,s,c].forEach(w=>{w.style.position="fixed",w.style.zIndex="99999",w.style.backgroundColor="rgba(0, 0, 0, 0.3)",w.style.display="block",w.style.width="0",w.style.height="0",document.body.appendChild(w)});let u,d;const h=w=>{u=w.clientX,d=w.clientY,t.style.backgroundColor="rgba(0, 0, 0, 0)",e.style.width="0",e.style.height="0",e.style.left=`${u}px`,e.style.top=`${d}px`},g=w=>{const b=Math.min(window.innerWidth,Math.max(0,w.clientX)),v=Math.min(window.innerHeight,Math.max(0,w.clientY));a.style.top="0",a.style.left="0",a.style.width="100%",a.style.height=`${Math.min(v,d)}px`,n.style.bottom="0",n.style.left="0",n.style.width="100%",n.style.height=`${window.innerHeight-Math.max(v,d)}px`,s.style.top=`${Math.min(v,d)}px`,s.style.left="0",s.style.width=`${Math.min(b,u)}px`,s.style.height=`${Math.abs(v-d)}px`,c.style.top=`${Math.min(v,d)}px`,c.style.left=`${Math.max(b,u)}px`,c.style.width=`${window.innerWidth-Math.max(b,u)}px`,c.style.height=`${Math.abs(v-d)}px`,e.style.width=`${Math.abs(b-u)}px`,e.style.height=`${Math.abs(v-d)}px`,e.style.left=`${Math.min(b,u)}px`,e.style.top=`${Math.min(v,d)}px`},r=async w=>{document.body.removeChild(t),[a,n,s,c].forEach(b=>{document.body.removeChild(b)}),t.style.backgroundColor="rgba(0, 0, 0, 0.3)",t.removeEventListener("mousedown",h),t.removeEventListener("mousemove",g),t.removeEventListener("mouseup",r),await this.waitFor(300),_.sendMessage("action.onCaptureScreen",{x:Math.min(u,w.clientX),y:Math.min(d,w.clientY),width:Math.abs(w.clientX-u),height:Math.abs(w.clientY-d),windowWidth:window.innerWidth,windowHeight:window.innerHeight}),await this.waitFor(100),this.sidebarToggle(!0)};t.addEventListener("mousedown",h),t.addEventListener("mousemove",g),t.addEventListener("mouseup",r)},triggerFileSelection(){typeof this.$refs<"u"&&typeof this.$refs.imageFileInput<"u"&&this.$refs.imageFileInput.click()},waitFor(t){return new Promise(e=>setTimeout(e,t))},closeModel(){const t=document.querySelector('[data-ait-dropdown-toggle="ait-image-vision-modal"]'),e=document.querySelector("#ait-image-vision-modal");t&&e.classList.contains("ait-show")&&t.click()}}}),oc={class:"ait-flex ait-flex-row ait-items-center ait-gap-1 ait-ml-2"},nc={"data-ait-dropdown-toggle":"ait-pdf-upload-modal",class:"ait-cursor-pointer ait-p-1.5 ait-rounded-full ait-flex ait-items-center ait-justify-center hover:ait-bg-neutral-300 dark:hover:ait-bg-neutral-900 ait-border ait-transition-all"},lc=["disabled"],rc={class:"ait-p-4 ait-w-full ait-text-center ait-flex ait-flex-col ait-items-center ait-gap-3"},dc={class:"ait-px-4 ait-text-sm ait-text-neutral-600 dark:ait-text-neutral-400"},cc=["disabled"],uc={for:"imageFileInput",class:"ait-w-full ait-h-full ait-relative ait-z-[9999]"},hc={class:"ait-flex ait-flex-col ait-w-full ait-p-6 ait-items-center ait-justify-center ait-mt-4 ait-border-2 ait-border-dotted ait-border-neutral-300 dark:ait-border-neutral-700 ait-rounded-lg ait-text-neutral-600 dark:ait-text-neutral-400 ait-text-center ait-cursor-pointer ait-transition-all hover:ait-opacity-70"},pc={class:"ait-flex ait-flex-col ait-items-center ait-gap-1 ait-mt-2"},gc={class:"ait-block ait-text-xs"},fc={key:0,class:"ait-flex ait-flex-row ait-justify-center ait-items-center ait-gap-2 ait-px-4"},mc=i("div",{class:"ait-h-[1px] ait-w-1/2 ait-bg-neutral-200 dark:ait-bg-neutral-600"},null,-1),_c={class:"ait-text-center ait-text-neutral-600 dark:ait-text-neutral-400 ait-text-lg ait-my-4"},wc=i("div",{class:"ait-h-[1px] ait-w-1/2 ait-bg-neutral-200 dark:ait-bg-neutral-600"},null,-1),bc={key:1,class:"ait-flex ait-flex-col ait-px-4 ait-mt-2"},vc={class:"ait-h-6 ait-mt-4"},yc={key:0,class:"ait-text-red-500 ai-text-sm"};function xc(t,e,a,n,s,c){const u=y("font-awesome-icon"),d=y("hover-popover"),h=y("svg-logo"),g=y("modal");return o(),l(x,null,[i("div",oc,[t.mode!=="full"?(o(),E(d,{key:0,"popover-text":t.__("Take a screenshot")},{default:S(()=>[i("button",{onClick:e[0]||(e[0]=(...r)=>t.captureCurrentTab&&t.captureCurrentTab(...r)),class:"ait-cursor-pointer ait-p-1.5 ait-rounded-full ait-flex ait-items-center ait-justify-center hover:ait-bg-neutral-300 dark:hover:ait-bg-neutral-900 ait-border ait-transition-all"},[m(u,{icon:"fa-solid fa-scissors",class:"ait-w-4 ait-h-4"})])]),_:1},8,["popover-text"])):f("",!0),m(d,{"popover-text":t.__("Upload an image")},{default:S(()=>[i("button",{onClick:e[1]||(e[1]=(...r)=>t.triggerFileSelection&&t.triggerFileSelection(...r)),class:"ait-cursor-pointer ait-p-1.5 ait-rounded-full ait-flex ait-items-center ait-justify-center hover:ait-bg-neutral-300 dark:hover:ait-bg-neutral-900 ait-border ait-transition-all"},[m(u,{icon:"fa-solid fa-image",class:"ait-w-4 ait-h-4"})])]),_:1},8,["popover-text"]),m(d,{"popover-text":t.__("Upload an pdf")},{default:S(()=>[i("button",nc,[m(h,{className:"ait-w-4 ait-h-4 lg:ait-w-4 lg:ait-h-4",name:"chat_pdf_icon"})])]),_:1},8,["popover-text"]),i("input",{type:"file",ref:"imageFileInput",id:"imageFileInput",onChange:e[2]||(e[2]=(...r)=>t.handleFile&&t.handleFile(...r)),disabled:t.isUploadingImage,style:{display:"none"},accept:"image/jpeg,image/png"},null,40,lc)]),m(g,{title:"Vision",id:"ait-image-vision-modal",className:"ait-w-full ait-items-center",onDrop:R(t.handleDrop,["prevent"]),onDragover:R(t.dragOver,["prevent"]),onDragenter:R(t.dragEnter,["prevent"]),onDragleave:R(t.dragLeave,["prevent"])},{default:S(()=>[i("div",rc,[i("p",dc,p(t.__("Upload an image to easily get intelligent explanations and extract text from your images.")),1),i("input",{type:"file",ref:"imageFileInput",id:"imageFileInput",onChange:e[3]||(e[3]=(...r)=>t.handleFile&&t.handleFile(...r)),disabled:t.isUploadingImage,style:{display:"none"},accept:"image/jpeg,image/png"},null,40,cc),i("label",uc,[i("div",hc,[m(u,{icon:"fa-solid fa-image",class:"ait-w-24 ait-h-24 ait-opacity-60"}),i("div",pc,[i("span",gc,p(t.__("Supported image types are JPEG and PNG")),1)]),i("span",{class:C(["ait-block ait-mt-2",t.dragActive?"ait-opacity-100":"ait-opacity-60"])},p(t.dragActive?t.__("Drop your Image here"):t.__("Drag your Image here or click to upload")),3)])])]),t.mode!=="full"?(o(),l("div",fc,[mc,i("p",_c,p(t.__("Or")),1),wc])):f("",!0),t.mode!=="full"?(o(),l("div",bc,[i("button",{onClick:e[4]||(e[4]=(...r)=>t.captureCurrentTab&&t.captureCurrentTab(...r)),class:"ait-cursor-pointer ait-w-full ait-font-semibold ait-text-white ait-text-sm ait-py-2 ait-rounded-md ait-flex ait-items-center ait-gap-2 ait-justify-center ait-bg-[var(--ait-link-color)] hover:ait-opacity-80 ait-transition-all"},[m(u,{icon:"fa-solid fa-scissors",class:"ait-w-3 ait-h-3"}),U(" "+p(t.__("Take a screenshot")),1)])])):f("",!0),i("div",vc,[t.errorMessage?(o(),l("p",yc,p(t.errorMessage),1)):f("",!0)])]),_:1},8,["onDrop","onDragover","onDragenter","onDragleave"])],64)}const kc=L(sc,[["render",xc]]),Cc={extends:H},$c={key:0,class:"ait-w-full ait-border-b-[1px] ait-border-neutral-200 dark:ait-border-neutral-600 ait-pb-1"},Lc={tabindex:"-1","aria-hidden":"true","data-modal-hide":""},Sc={class:"ait-flex ait-flex-row ait-justify-start ait-items-center ait-gap-3 ait-p-2"},Mc={class:"ait-bg-white ait-rounded-lg ait-shadow dark:ait-bg-neutral-800"},Hc={class:"ait-relative"},Tc=i("span",{class:"ait-sr-only"},"Close modal",-1),Uc=["src"],Pc={key:0,class:"ait-absolute ait-inset-0 ait-w-full ait-h-full ait-flex ait-items-center ait-justify-center ait-bg-white/50 ait-pointer-events-none"},Ac=i("div",{class:"ait-border-4 ait-border-solid ait-border-t-transparent ait-border-gray-500 ait-rounded-full ait-w-9 ait-h-9 ait-animate-spin"},null,-1),Ic=[Ac],Ec={class:"ait-flex ait-flex-col ait-justify-start ait-items-start ait-gap-2 ait-h-full"};function jc(t,e,a,n,s,c){const u=y("font-awesome-icon");return this.ai_image_url?(o(),l("div",$c,[i("div",Lc,[i("div",Sc,[i("div",Mc,[i("div",Hc,[i("button",{type:"button",class:"ait-absolute ait-top-[-6px] ait-z-50 ait-right-[-6px] ait-text-neutral-400 ait-bg-neutral-500/70 dark:ait-bg-neutral-800/70 ait-transition-all hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-full ait-text-sm ait-w-4 ait-h-4 ait-ml-auto ait-inline-flex ait-justify-center ait-items-center dark:hover:ait-bg-neutral-900 dark:hover:ait-text-white","data-modal-hide":"",onClick:e[0]||(e[0]=d=>{this.changeStorage("ai_image_url","",!1)})},[m(u,{icon:"fa-solid fa-close",class:"ait-w-3 ait-h-3"}),Tc]),i("img",{src:this.ai_image_url,alt:"Image preview",class:"ait-w-[72px] ait-h-[72px] ait-object-cover ait-rounded-sm",width:"72",height:"72"},null,8,Uc),this.isUploadingImage?(o(),l("div",Pc,Ic)):f("",!0)])]),i("div",Ec,[i("button",{type:"button",onClick:e[1]||(e[1]=d=>t.AiApi.chat(t.__("Extract text from the Image"))),class:"ait-cursor-pointer ait-py-1 ait-px-2 ait-text-sm ait-bg-neutral-200 dark:ait-bg-neutral-700 ait-text-[var(--ait-link-color)] ait-rounded-md ait-flex ait-items-center ait-justify-center hover:ait-bg-neutral-300 dark:hover:ait-bg-neutral-900 ait-border ait-transition-all"},[U(p(t.__("Extract text from the Image"))+" ",1),m(u,{icon:"fa-solid fa-arrow-right",class:"ait-ml-1 ait-w-3 ait-h-3"})]),i("button",{type:"button",onClick:e[2]||(e[2]=d=>t.AiApi.chat(t.__("Explain the Image"))),class:"ait-cursor-pointer ait-py-1 ait-px-2 ait-text-sm ait-bg-neutral-200 dark:ait-bg-neutral-700 ait-text-[var(--ait-link-color)] ait-rounded-md ait-flex ait-items-center ait-justify-center hover:ait-bg-neutral-300 dark:hover:ait-bg-neutral-900 ait-border ait-transition-all"},[U(p(t.__("Explain the Image"))+" ",1),m(u,{icon:"fa-solid fa-arrow-right",class:"ait-ml-1 ait-w-3 ait-h-3"})])])])])])):f("",!0)}const Vc=L(Cc,[["render",jc]]),Rc={extends:H},zc={class:"ait-p-4 ait-w-full ait-text-center ait-flex ait-flex-col ait-items-center ait-gap-3"},Bc={class:"ait-w-full ait-text-start ait-p-[10px]"},qc=["innerHTML"],Oc={class:"ait-font-bold"},Dc={class:"ait-w-full ait-px-[40px] ait-my-[30px]"},Fc={class:"ait-flex ait-items-center ait-gap-[12px]"},Zc=i("svg",{width:"20",height:"22",viewBox:"0 0 43 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22.8423 3.0436C24.885 1.06876 27.6211 -0.0242977 30.4616 0.000409932C33.302 0.0251175 36.0188 1.1656 38.0268 3.17566C40.0348 5.18565 41.1735 7.90432 41.1981 10.746C41.2228 13.5877 40.1315 16.3257 38.1588 18.3703L38.1371 18.3928L32.7165 23.8185C32.7164 23.8186 32.7165 23.8184 32.7165 23.8185C31.6186 24.9178 30.297 25.7683 28.8418 26.3117C27.3864 26.8551 25.8313 27.0789 24.2819 26.9678C22.7324 26.8568 21.2251 26.4134 19.862 25.668C18.499 24.9225 17.3122 23.8924 16.382 22.6477C15.7881 21.8528 15.9509 20.7269 16.7458 20.133C17.5407 19.539 18.6665 19.7019 19.2605 20.4967C19.8823 21.3288 20.6755 22.0172 21.5862 22.5153C22.4969 23.0133 23.5039 23.3095 24.5388 23.3837C25.5737 23.4579 26.6125 23.3084 27.5848 22.9454C28.557 22.5823 29.44 22.0142 30.1738 21.2793L35.5831 15.8647C36.8952 14.4992 37.6214 12.673 37.6049 10.7772C37.5884 8.87653 36.8268 7.05875 35.4847 5.71527C34.1426 4.37185 32.3275 3.61014 30.4303 3.59364C28.5373 3.57717 26.713 4.304 25.3488 5.61846L22.2507 8.70169C21.5473 9.40164 20.4098 9.3989 19.7098 8.69556C19.0098 7.99222 19.0126 6.85462 19.7159 6.15467L22.8423 3.0436ZM14.0283 13.2153C15.4836 12.6719 17.0388 12.4481 18.5882 12.5592C20.1376 12.6703 21.645 13.1136 23.008 13.8591C24.3711 14.6045 25.5579 15.6346 26.488 16.8793C27.082 17.6742 26.9191 18.8001 26.1243 19.3941C25.3294 19.988 24.2035 19.8252 23.6095 19.0303C22.9878 18.1982 22.1946 17.5098 21.2838 17.0117C20.3731 16.5137 19.3662 16.2176 18.3312 16.1434C17.2963 16.0692 16.2575 16.2186 15.2853 16.5817C14.3131 16.9447 13.43 17.5129 12.6962 18.2477L7.28698 23.6624C5.97482 25.0279 5.24869 26.8541 5.26515 28.7498C5.28165 30.6505 6.04327 32.4683 7.3854 33.8118C8.72747 35.1552 10.5426 35.9169 12.4397 35.9334C14.3319 35.9499 16.1554 35.2237 17.5195 33.9103L20.5976 30.829C21.2989 30.127 22.4365 30.1265 23.1385 30.8278C23.8405 31.5291 23.8411 32.6667 23.1398 33.3687L20.0279 36.4836C17.9853 38.4585 15.2489 39.5513 12.4085 39.5266C9.56802 39.5019 6.85126 38.3614 4.84322 36.3514C2.83525 34.3414 1.69659 31.6227 1.67192 28.781C1.64725 25.9393 2.73854 23.2013 4.7113 21.1567L4.73298 21.1342L10.1536 15.7085C10.1537 15.7085 10.1535 15.7086 10.1536 15.7085C11.2515 14.6092 12.573 13.7587 14.0283 13.2153Z",fill:"white"}),i("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22.8423 3.0436C24.885 1.06876 27.6211 -0.0242977 30.4616 0.000409932C33.302 0.0251175 36.0188 1.1656 38.0268 3.17566C40.0348 5.18565 41.1735 7.90432 41.1981 10.746C41.2228 13.5877 40.1315 16.3257 38.1588 18.3703L38.1371 18.3928L32.7165 23.8185C32.7164 23.8186 32.7165 23.8184 32.7165 23.8185C31.6186 24.9178 30.297 25.7683 28.8418 26.3117C27.3864 26.8551 25.8313 27.0789 24.2819 26.9678C22.7324 26.8568 21.2251 26.4134 19.862 25.668C18.499 24.9225 17.3122 23.8924 16.382 22.6477C15.7881 21.8528 15.9509 20.7269 16.7458 20.133C17.5407 19.539 18.6665 19.7019 19.2605 20.4967C19.8823 21.3288 20.6755 22.0172 21.5862 22.5153C22.4969 23.0133 23.5039 23.3095 24.5388 23.3837C25.5737 23.4579 26.6125 23.3084 27.5848 22.9454C28.557 22.5823 29.44 22.0142 30.1738 21.2793L35.5831 15.8647C36.8952 14.4992 37.6214 12.673 37.6049 10.7772C37.5884 8.87653 36.8268 7.05875 35.4847 5.71527C34.1426 4.37185 32.3275 3.61014 30.4303 3.59364C28.5373 3.57717 26.713 4.304 25.3488 5.61846L22.2507 8.70169C21.5473 9.40164 20.4098 9.3989 19.7098 8.69556C19.0098 7.99222 19.0126 6.85462 19.7159 6.15467L22.8423 3.0436ZM14.0283 13.2153C15.4836 12.6719 17.0388 12.4481 18.5882 12.5592C20.1376 12.6703 21.645 13.1136 23.008 13.8591C24.3711 14.6045 25.5579 15.6346 26.488 16.8793C27.082 17.6742 26.9191 18.8001 26.1243 19.3941C25.3294 19.988 24.2035 19.8252 23.6095 19.0303C22.9878 18.1982 22.1946 17.5098 21.2838 17.0117C20.3731 16.5137 19.3662 16.2176 18.3312 16.1434C17.2963 16.0692 16.2575 16.2186 15.2853 16.5817C14.3131 16.9447 13.43 17.5129 12.6962 18.2477L7.28698 23.6624C5.97482 25.0279 5.24869 26.8541 5.26515 28.7498C5.28165 30.6505 6.04327 32.4683 7.3854 33.8118C8.72747 35.1552 10.5426 35.9169 12.4397 35.9334C14.3319 35.9499 16.1554 35.2237 17.5195 33.9103L20.5976 30.829C21.2989 30.127 22.4365 30.1265 23.1385 30.8278C23.8405 31.5291 23.8411 32.6667 23.1398 33.3687L20.0279 36.4836C17.9853 38.4585 15.2489 39.5513 12.4085 39.5266C9.56802 39.5019 6.85126 38.3614 4.84322 36.3514C2.83525 34.3414 1.69659 31.6227 1.67192 28.781C1.64725 25.9393 2.73854 23.2013 4.7113 21.1567L4.73298 21.1342L10.1536 15.7085C10.1537 15.7085 10.1535 15.7086 10.1536 15.7085C11.2515 14.6092 12.573 13.7587 14.0283 13.2153Z",fill:"url(#paint0_linear_18047_3202)"}),i("defs",null,[i("linearGradient",{id:"paint0_linear_18047_3202",x1:"10.1416",y1:"17.5048",x2:"25.9524",y2:"40.0917",gradientUnits:"userSpaceOnUse"},[i("stop",{"stop-color":"rgba(1, 167, 125, .9)"}),i("stop",{offset:"1","stop-color":"#60a5fa"})])])],-1),Wc={class:"ait-text-[14px]"},Nc={class:"ait-flex ait-items-center ait-gap-[12px]"},Kc=i("svg",{width:"18",height:"19",viewBox:"0 0 38 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.8795 10.3401C11.8795 6.79968 14.7411 3.84276 18.3761 3.84276C22.011 3.84276 24.8727 6.79968 24.8727 10.3401C24.8727 13.8804 22.011 16.8374 18.3761 16.8374C18.1848 16.8374 18.0003 16.8673 17.8267 16.9229C15.64 17.0126 13.4838 17.502 11.4584 18.3704C9.20642 19.336 7.16019 20.7513 5.43658 22.5354C3.71298 24.3196 2.34573 26.4377 1.41292 28.7689C0.480111 31.1 0 33.5985 0 36.1217C0 37.1828 0.831034 38.043 1.85617 38.043H35.2672C36.2923 38.043 37.1233 37.1828 37.1233 36.1217C37.1233 33.5985 36.6432 31.1 35.7104 28.7689C34.7776 26.4377 33.4104 24.3196 31.6867 22.5354C30.9619 21.7851 29.7866 21.7851 29.0617 22.5354C28.3368 23.2858 28.3368 24.5023 29.0617 25.2527C30.4406 26.68 31.5344 28.3745 32.2807 30.2394C32.7889 31.5096 33.1292 32.8419 33.2945 34.2003L3.8288 34.2003C3.99413 32.8419 4.3344 31.5096 4.84267 30.2394C5.58892 28.3745 6.68271 26.68 8.0616 25.2527C9.44049 23.8254 11.0775 22.6931 12.8791 21.9207C14.6807 21.1482 16.6116 20.7506 18.5617 20.7506C18.7692 20.7506 18.9688 20.7154 19.1551 20.6503C24.3899 20.2483 28.585 15.8289 28.585 10.3401C28.585 4.58142 23.9673 0 18.3761 0C12.7848 0 8.16717 4.58142 8.16717 10.3401C8.16717 11.4012 8.9982 12.2614 10.0233 12.2614C11.0485 12.2614 11.8795 11.4012 11.8795 10.3401Z",fill:"white"}),i("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.8795 10.3401C11.8795 6.79968 14.7411 3.84276 18.3761 3.84276C22.011 3.84276 24.8727 6.79968 24.8727 10.3401C24.8727 13.8804 22.011 16.8374 18.3761 16.8374C18.1848 16.8374 18.0003 16.8673 17.8267 16.9229C15.64 17.0126 13.4838 17.502 11.4584 18.3704C9.20642 19.336 7.16019 20.7513 5.43658 22.5354C3.71298 24.3196 2.34573 26.4377 1.41292 28.7689C0.480111 31.1 0 33.5985 0 36.1217C0 37.1828 0.831034 38.043 1.85617 38.043H35.2672C36.2923 38.043 37.1233 37.1828 37.1233 36.1217C37.1233 33.5985 36.6432 31.1 35.7104 28.7689C34.7776 26.4377 33.4104 24.3196 31.6867 22.5354C30.9619 21.7851 29.7866 21.7851 29.0617 22.5354C28.3368 23.2858 28.3368 24.5023 29.0617 25.2527C30.4406 26.68 31.5344 28.3745 32.2807 30.2394C32.7889 31.5096 33.1292 32.8419 33.2945 34.2003L3.8288 34.2003C3.99413 32.8419 4.3344 31.5096 4.84267 30.2394C5.58892 28.3745 6.68271 26.68 8.0616 25.2527C9.44049 23.8254 11.0775 22.6931 12.8791 21.9207C14.6807 21.1482 16.6116 20.7506 18.5617 20.7506C18.7692 20.7506 18.9688 20.7154 19.1551 20.6503C24.3899 20.2483 28.585 15.8289 28.585 10.3401C28.585 4.58142 23.9673 0 18.3761 0C12.7848 0 8.16717 4.58142 8.16717 10.3401C8.16717 11.4012 8.9982 12.2614 10.0233 12.2614C11.0485 12.2614 11.8795 11.4012 11.8795 10.3401Z",fill:"url(#paint0_linear_18047_3240)"}),i("defs",null,[i("linearGradient",{id:"paint0_linear_18047_3240",x1:"7.955",y1:"16.8477",x2:"23.2962",y2:"38.2338",gradientUnits:"userSpaceOnUse"},[i("stop",{"stop-color":"rgba(1, 167, 125, .9)"}),i("stop",{offset:"1","stop-color":"#60a5fa"})])])],-1),Gc={class:"ait-text-[14px]"},Yc={class:"ait-flex ait-items-center ait-gap-[12px]"},Qc={width:"25",style:{"max-width":"25px"},height:"25",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Xc=i("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.1524 6.83074C11.1524 3.6117 13.7641 1 16.9831 1C20.2021 1 22.8138 3.6117 22.8138 6.83074V7.76822H27.9815C30.7352 7.76822 32.9662 9.99923 32.9662 12.7529V17.9206H33.9037C37.1227 17.9206 39.7344 20.5323 39.7344 23.7514C39.7344 26.9704 37.1227 29.5821 33.9037 29.5821H32.9662V34.7497C32.9662 37.5034 30.7352 39.7344 27.9815 39.7344H19.9511V35.5957C19.9511 33.9586 18.6203 32.6278 16.9831 32.6278C15.3459 32.6278 14.0151 33.9586 14.0151 35.5957V39.7344H5.98473C3.23101 39.7344 1 37.5034 1 34.7497L1.01059 26.7193H5.13867C6.77585 26.7193 8.10663 25.3885 8.10663 23.7513C8.10663 22.1141 6.77585 20.7833 5.13867 20.7833H1.00633L1.01692 12.7529C1.01692 12.7526 1.01692 12.7522 1.01692 12.7518C1.01755 10.0091 3.22096 7.76822 5.98473 7.76822H11.1524V6.83074ZM16.9831 4.20119C15.532 4.20119 14.3535 5.37967 14.3535 6.83074V10.9694H5.98473C5.00942 10.9694 4.21811 11.7567 4.21811 12.7529L4.21174 17.5822H5.13867C8.54382 17.5822 11.3078 20.3462 11.3078 23.7513C11.3078 27.1565 8.54382 29.9205 5.13867 29.9205H4.20756L4.20119 34.7497C4.20119 34.75 4.20119 34.7503 4.20119 34.7506C4.20168 35.7359 4.99928 36.5332 5.98473 36.5332H10.8139V35.5957C10.8139 32.1906 13.5779 29.4266 16.9831 29.4266C20.3882 29.4266 23.1522 32.1906 23.1522 35.5957V36.5332H27.9815C28.9672 36.5332 29.765 35.7354 29.765 34.7497V26.3809H33.9037C35.3547 26.3809 36.5332 25.2024 36.5332 23.7514C36.5332 22.3003 35.3547 21.1218 33.9037 21.1218H29.765V12.7529C29.765 11.7672 28.9672 10.9694 27.9815 10.9694H19.6126V6.83074C19.6126 5.37967 18.4342 4.20119 16.9831 4.20119Z",fill:"white"},null,-1),Jc=i("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.1524 6.83074C11.1524 3.6117 13.7641 1 16.9831 1C20.2021 1 22.8138 3.6117 22.8138 6.83074V7.76822H27.9815C30.7352 7.76822 32.9662 9.99923 32.9662 12.7529V17.9206H33.9037C37.1227 17.9206 39.7344 20.5323 39.7344 23.7514C39.7344 26.9704 37.1227 29.5821 33.9037 29.5821H32.9662V34.7497C32.9662 37.5034 30.7352 39.7344 27.9815 39.7344H19.9511V35.5957C19.9511 33.9586 18.6203 32.6278 16.9831 32.6278C15.3459 32.6278 14.0151 33.9586 14.0151 35.5957V39.7344H5.98473C3.23101 39.7344 1 37.5034 1 34.7497L1.01059 26.7193H5.13867C6.77585 26.7193 8.10663 25.3885 8.10663 23.7513C8.10663 22.1141 6.77585 20.7833 5.13867 20.7833H1.00633L1.01692 12.7529C1.01692 12.7526 1.01692 12.7522 1.01692 12.7518C1.01755 10.0091 3.22096 7.76822 5.98473 7.76822H11.1524V6.83074ZM16.9831 4.20119C15.532 4.20119 14.3535 5.37967 14.3535 6.83074V10.9694H5.98473C5.00942 10.9694 4.21811 11.7567 4.21811 12.7529L4.21174 17.5822H5.13867C8.54382 17.5822 11.3078 20.3462 11.3078 23.7513C11.3078 27.1565 8.54382 29.9205 5.13867 29.9205H4.20756L4.20119 34.7497C4.20119 34.75 4.20119 34.7503 4.20119 34.7506C4.20168 35.7359 4.99928 36.5332 5.98473 36.5332H10.8139V35.5957C10.8139 32.1906 13.5779 29.4266 16.9831 29.4266C20.3882 29.4266 23.1522 32.1906 23.1522 35.5957V36.5332H27.9815C28.9672 36.5332 29.765 35.7354 29.765 34.7497V26.3809H33.9037C35.3547 26.3809 36.5332 25.2024 36.5332 23.7514C36.5332 22.3003 35.3547 21.1218 33.9037 21.1218H29.765V12.7529C29.765 11.7672 28.9672 10.9694 27.9815 10.9694H19.6126V6.83074C19.6126 5.37967 18.4342 4.20119 16.9831 4.20119Z",fill:"url(#paint0_linear_18267_3259)"},null,-1),t2=i("defs",null,[i("linearGradient",{id:"paint0_linear_18267_3259",x1:"9.30023",y1:"18.1538",x2:"24.794",y2:"40.2877",gradientUnits:"userSpaceOnUse"},[i("stop",{"stop-color":"rgba(1, 167, 125, .9)"}),i("stop",{offset:"1","stop-color":"#60a5fa"})])],-1),e2=[Xc,Jc,t2],i2={class:"ait-text-[14px]"},a2={class:"ait-copy-link-wrapper ait-flex ait-items-center ait-justify-between ait-mt-[10px] ait-cursor-not-allowed"},s2={class:"ait-overflow-hidden ait-w-5/12 ait-whitespace-nowrap ait-text-ellipsis ait-px-[18px] ait-opacity-50"},o2={class:"ait-text-white"},n2={class:"ait-cursor-[pointer]"};function l2(t,e,a,n,s,c){const u=y("font-awesome-icon"),d=y("modal");return o(),E(d,{title:t.__("Invite Friends & Earn Credits"),id:"ait-invite-friends",className:"ait-items-center"},{default:S(()=>[i("div",zc,[i("div",Bc,[i("span",{innerHTML:t.__('Earn <span class="text-primary-600 font-bold">5 Fast Text credits & 1 Advanced Text & 1 Image</span> credit for both of you and your friend.')},null,8,qc),i("span",Oc,p(t.__("Earn more when you refer more!")),1),i("div",Dc,[i("div",Fc,[Zc,i("span",Wc,p(t.__("Refer your friend with an Invitation link")),1)]),m(u,{class:"ait-w-[11px] ait-mx-[4px] ait-mt-[4px] ait-mb-[10px]",icon:"fa-solid fa-arrow-down"}),i("div",Nc,[Kc,i("span",Gc,p(t.__("Your friends sign up")),1)]),m(u,{class:"ait-w-[11px] ait-mx-[4px] ait-mt-[10px] ait-mb-[3px]",icon:"fa-solid fa-arrow-down"}),i("div",Yc,[(o(),l("svg",Qc,e2)),i("span",i2,p(t.__("They install extension & login. You both earn credits!")),1)])]),i("div",a2,[i("span",s2,p(this.user.invite_url),1),i("button",{type:"button",class:"ait-w-7/12 ait-h-[36px] ait-rounded-full hover:ait-opacity-90 active:ait-opacity-80 ait-text-white ait-bg-gradient-to-r ait-from-[#01a77d] ait-to-[#60a5fa]",onClick:e[0]||(e[0]=h=>t.Helpers.copyClipboard(this.user.invite_url)),style:{"text-shadow":"rgba(0, 0, 0, 0.3) 1px 1px 1px"}},[i("span",o2,p(t.__("Copy Invitation Link")),1)])]),i("div",{class:"ait-mt-[18px] ait-text-[--ait-tab-menu-active-bg-color] ait-cursor-pointer ait-text-center",onClick:e[1]||(e[1]=h=>t.clickOpenPage(`${this.constants.site}/invite`))},[i("span",n2,p(t.__("Check Invitation Records")),1)])])])]),_:1},8,["title"])}const r2=L(Rc,[["render",l2]]),d2=q({extends:H,name:"UpgradePlanModal"}),c2={class:"ait-px-4 ait-py-12 ait-w-full ait-text-center ait-flex ait-flex-col ait-items-center ait-gap-8"},u2={class:"ait-px-4 ait-text-sm ait-text-neutral-600 dark:ait-text-neutral-400"},h2={class:"aitopia-pricing ait-cursor-pointer ait-w-full ait-font-semibold ait-text-white ait-text-sm ait-py-2 ait-rounded-md ait-flex ait-items-center ait-gap-2 ait-justify-center ait-bg-[var(--ait-link-color)] hover:ait-opacity-80 ait-transition-all"};function p2(t,e,a,n,s,c){const u=y("modal");return o(),E(u,{title:"Search",id:"ait-upgrade-plan-modal",className:"ait-w-full ait-items-center"},{default:S(()=>[i("div",c2,[i("p",u2,p(t.__("The data of ChatGPT isn't real-time. WebAccess Feature combines the intelligence of ChatGPT with realtime web information, allowing GPT to handle real-time information-related questions more effectively. Upgrade to gain this feature, and worry no more about outdated information!")),1),i("button",h2,p(t.__("Upgrade Now")),1)])]),_:1})}const g2=L(d2,[["render",p2]]),f2=q({name:"ContextWrapper",extends:H,data(){return{showPopover:!1,showRecommendation:!1,askText:"",textareaContent:"",selectedText:"",isVisible:!1,resultCustomKey:"",contextSelectedTool:null,contextTextboxTools:null}},methods:{togglePopover(){this.showPopover=!this.showPopover},hidePopover(){this.showPopover=!1},replaceSelectedText(){this.contextTextAreaTarget.value=this.askText},onClickSend(){this.contextSelectedTool=this.askText.trim().slice(0,20)+"..."||"Ask AI anything";const t=`Please use this text as your context "${this.textareaContent}". And the question is "${this.askText}"`;this.askToAi(t)},setupTextareaListener(){this.contextTextAreaTarget&&(this.contextTextAreaTarget.removeEventListener("input",this.onTextareaInput),this.contextTextAreaTarget.addEventListener("input",this.onTextareaInput))},onTextareaInput(){this.textareaContent=this.contextTextAreaTarget.value},toggle(){this.isVisible=!this.isVisible},focusInput(){this.$refs.textInput.focus()},onClickTool(t,e=null,a=null){this.contextSelectedTool=t.name;let n=this.settings.language_detail.name;e&&e.model_prefix&&a&&(n=a[e.model_prefix]),this.askedQuestion.lang==""&&this.settings.language_detail&&typeof this.settings.language_detail.name<"u"&&(this.askedQuestion.lang=n);const s=t.prompt.replace("${lang}",n).replace("${selection}",this.textareaContent),c=_.SHA1(s);this.showResponsePopup=!0,this.resultCustomKey=c,j.chat(s,this.settings.ai_model,"ai_single",c,!0,!0)},askToAi(t){const e=_.SHA1(t);this.showResponsePopup=!0,this.resultCustomKey=e,j.chat(t,this.settings.ai_model,"ai_single",e,!0,!0)}},watch:{showContextWrapper:function(t){t||(this.showPopover=!1,this.askText="",this.textareaContent="")},contextTextAreaTarget:function(t,e){t!==e&&(this.setupTextareaListener(),t&&(this.textareaContent=t.value))}},mounted(){this.setupTextareaListener(),this.contextTextboxTools=Object.values(this.ai_prompts).filter(t=>t.mode==="ask")}});const yt=t=>(Y("data-v-77eb6d75"),t=t(),Q(),t),m2={key:0,class:"aitopia-context-container",style:{position:"absolute",left:"0px",top:"0px","pointer-events":"none","z-index":"2147483645"}},_2={style:{top:"0px",left:"0px",position:"absolute"}},w2={class:"ait-flex ait-py-2 ait-flex-col ait-h-full ait-w-full ait-justify-start ait-items-start ait-gap-1"},b2={key:0,class:"ait-px-3 ait-text-sm dark:ait-text-neutral-200 ait-max-w-[420px] ait-overflow-x-hidden ait-line-clamp-1"},v2={class:"ait-flex ait-w-full ait-justify-between ait-gap-4 ait-items-center ait-h-full ait-p-2"},y2=["placeholder"],x2=yt(()=>i("img",{src:N,class:"ait-w-4 ait-h-4 ait-opacity-80 ait-cursor-pointer dark:ait-invert"},null,-1)),k2=[x2],C2={class:"aitopia-writing-btn-wrapper",id:"aitopia-writing-btn",style:{bottom:"14px",right:"14px",width:"16px",height:"16px",position:"absolute"}},$2={key:0,class:"aitopia-context-menu",style:{position:"fixed","z-index":"2147483647",top:"15%",left:"50%",width:"220px",transform:"translate(-15%, -50%)"}},L2={class:"ait-flex ait-py-2 ait-flex-col ait-h-full ait-w-full ait-justify-start ait-items-start ait-gap-1"},S2={class:"ait-flex ait-w-full ait-justify-between ait-gap-4 ait-items-center ait-h-full ait-p-2"},M2=["placeholder"],H2=yt(()=>i("img",{src:N,class:"ait-w-4 ait-h-4 ait-opacity-80 ait-cursor-pointer dark:ait-invert"},null,-1)),T2=[H2];function U2(t,e,a,n,s,c){const u=y("PopoverButton"),d=y("PromptTool"),h=y("PopoverPanel"),g=y("Popover"),r=y("hover-popover"),w=y("ContextAIPopup");return o(),l(x,null,[m(O,{name:"fade"},{default:S(()=>[this.showContextWrapper?(o(),l("div",m2,[i("div",_2,[i("div",{style:V([{top:this.contextWrapperPosition.top+"px",left:this.contextWrapperPosition.left+"px",width:this.contextWrapperSize.width+"px",height:this.contextWrapperSize.height+"px"},{position:"absolute"}])},[m(O,{name:"fade"},{default:S(()=>[t.showPopover?(o(),l("div",{key:0,class:C(["aitopia-context-popover-content ait-rounded-lg dark:ait-bg-neutral-800 ait-bg-white",{"ait-h-[44px]":!this.textareaContent}]),style:V([{position:"absolute",width:"440px","z-index":"2147483647","pointer-events":"all","box-shadow":"0 2px 8px rgba(0, 0, 0, 0.15)"},{top:this.contextWrapperSize.height+10+"px",right:"10px"}])},[i("div",w2,[this.textareaContent?(o(),l("span",b2,p(this.textareaContent),1)):f("",!0),i("div",v2,[m(g,{class:"ait-relative ait-w-full"},{default:S(({open:b})=>[m(u,{as:"div",class:"ait-w-full"},{default:S(()=>[i("div",{onClick:e[5]||(e[5]=(...v)=>t.focusInput&&t.focusInput(...v)),class:"ait-w-full"},[P(i("input",{ref:"textInput",type:"text","onUpdate:modelValue":e[0]||(e[0]=v=>t.askText=v),class:"ait-p-2 ait-w-full ait-rounded-md ait-bg-transparent ait-border-none ait-outline-none dark:ait-text-white",placeholder:t.__("Ask AI anything"),onFocus:e[1]||(e[1]=v=>t.showRecommendation=!0),onBlur:e[2]||(e[2]=v=>t.showRecommendation=!1),onKeydown:e[3]||(e[3]=R(()=>{},["stop"])),onKeyup:e[4]||(e[4]=dt((...v)=>t.onClickSend&&t.onClickSend(...v),["enter"]))},null,40,y2),[[z,t.askText]])])]),_:1}),m(O,{"enter-active-class":"ait-transition ait-duration-200 ait-ease-out","enter-from-class":"ait-translate-y-1 ait-opacity-0","enter-to-class":"ait-translate-y-0 ait-opacity-100","leave-active-class":"ait-transition ait-duration-150 ait-ease-in","leave-from-class":"ait-translate-y-0 ait-opacity-100","leave-to-class":"ait-translate-y-1 ait-opacity-0"},{default:S(()=>[t.showRecommendation?(o(),E(h,{key:0,style:{"z-index":"2147483647"},class:"ait-absolute dark:ait-bg-neutral-800 ait-bg-neutral-100 ait-left-0 ait-z-10 ait-mt-[4px] ait-max-w-md ait-transform ait-rounded-lg ait-p-1 ait-shadow-lg"},{default:S(()=>[m(d,{prompts:Object.values(this.ai_contextPrompts),onClickTool:t.onClickTool,mode:this.popupType},null,8,["prompts","onClickTool","mode"])]),_:1})):f("",!0)]),_:1})]),_:1}),m(r,{"popover-text":t.__("Send")},{default:S(()=>[i("button",{onClick:e[6]||(e[6]=(...b)=>t.onClickSend&&t.onClickSend(...b))},k2)]),_:1},8,["popover-text"])])])],6)):f("",!0)]),_:1}),i("div",C2,[i("span",{onClick:e[7]||(e[7]=(...b)=>t.togglePopover&&t.togglePopover(...b)),style:{display:"inline-block",width:"12px",height:"12px","border-radius":"16px",cursor:"pointer","pointer-events":"all"},class:"ait-bg-[--ait-tab-menu-active-bg-color]"})])],4)])])):f("",!0)]),_:1}),m(O,{name:"fade"},{default:S(()=>[this.showContextMenu?(o(),l("div",$2,[m(O,{name:"fade"},{default:S(()=>[i("div",{class:"aitopia-context-popover-content ait-h-[44px] ait-rounded-lg dark:ait-bg-neutral-800 ait-bg-white",style:V([{position:"absolute",width:"440px","z-index":"2147483647","pointer-events":"all","box-shadow":"0 2px 8px rgba(0, 0, 0, 0.15)"},{top:this.contextWrapperSize.height+10+"px",right:"10px"}])},[i("div",L2,[i("div",S2,[m(g,{class:"ait-relative ait-w-full"},{default:S(({open:b})=>[m(u,{as:"div",class:"ait-w-full"},{default:S(()=>[i("div",{onClick:e[12]||(e[12]=(...v)=>t.focusInput&&t.focusInput(...v)),class:"ait-w-full"},[P(i("input",{ref:"textInput",type:"text","onUpdate:modelValue":e[8]||(e[8]=v=>t.askText=v),class:"ait-p-2 ait-w-full ait-rounded-md ait-bg-transparent ait-border-none ait-outline-none dark:ait-text-white",placeholder:t.__("Ask AI anything"),onBlur:e[9]||(e[9]=v=>t.showRecommendation=!1),onKeydown:e[10]||(e[10]=R(()=>{},["stop"])),onKeyup:e[11]||(e[11]=dt((...v)=>t.onClickSend&&t.onClickSend(...v),["enter"]))},null,40,M2),[[z,t.askText]])])]),_:1}),m(O,{"enter-active-class":"ait-transition ait-duration-200 ait-ease-out","enter-from-class":"ait-translate-y-1 ait-opacity-0","enter-to-class":"ait-translate-y-0 ait-opacity-100","leave-active-class":"ait-transition ait-duration-150 ait-ease-in","leave-from-class":"ait-translate-y-0 ait-opacity-100","leave-to-class":"ait-translate-y-1 ait-opacity-0"},{default:S(()=>[t.showRecommendation?(o(),E(h,{key:0,style:{"z-index":"2147483647"},class:"ait-absolute dark:ait-bg-neutral-800 ait-bg-neutral-100 ait-left-0 ait-z-10 ait-mt-[4px] ait-max-w-md ait-transform ait-rounded-lg ait-p-1 ait-shadow-lg"},{default:S(()=>[m(d,{prompts:Object.values(this.ai_contextPrompts),onClickTool:t.onClickTool,mode:this.popupType},null,8,["prompts","onClickTool","mode"])]),_:1})):f("",!0)]),_:1})]),_:1}),m(r,{"popover-text":t.__("Send")},{default:S(()=>[i("button",{onClick:e[13]||(e[13]=(...b)=>t.onClickSend&&t.onClickSend(...b))},T2)]),_:1},8,["popover-text"])])])],4)]),_:1})])):f("",!0)]),_:1}),m(w)],64)}const P2=L(f2,[["render",U2],["__scopeId","data-v-77eb6d75"]]),A2=q({name:"ContextAIPopup",extends:H,data(){return{popupPosition:{top:0,left:0},showPopup:!1,popupType:null,contextSelectedText:"",resultCustomKey:"",contextSelectedTool:null,pinnedContextReadTools:[],pinnedContextWriteTools:[],currentPinnedContextTools:[],lastAskedQuestion:null}},watch:{contextWrapperPosition:{handler:function(t){this.popupPosition={top:t.top+130,left:t.left+120}},deep:!0},aiReaderShowPopup:function(t){this.showPopup=t,this.popupType="reading"},aiReaderPopupPosition:{handler:function(t){this.popupPosition={top:t.top+60,left:t.left}},deep:!0},aiWriterShowPopup:function(t){this.showPopup=t,this.popupType="writing"},aiWriterPopupPosition:{handler:function(t){this.popupPosition={top:t.top+60,left:t.left}},deep:!0},aiReaderSelectedText:function(t){this.contextSelectedText=t},aiWriterSelectedTarget:function(t){if(t===null){this.contextSelectedText="";return}this.contextSelectedText=t.value.substring(t.selectionStart,t.selectionEnd)},ai_pinnedContextPrompts:{handler:function(t,e){t===null||e===null||t!==e&&this.getPinnedContextTools()},deep:!0},popupType:function(t){this.currentPinnedContextTools=this.popupType=="writing"?this.pinnedContextWriteTools:this.pinnedContextReadTools}},methods:{hidePopup(){this.showPopup=!1,this.hideAllPopups()},onClickTool(t,e=null,a=null){this.hidePopup(),this.contextSelectedTool=t;let n=this.settings.language_detail.name;e&&e.model_prefix&&a&&(n=a[e.model_prefix]),this.contextSelectedText==null&&window.getSelection().toString().length>1&&(this.contextSelectedText=window.getSelection().toString());const s=t.prompt.replace("${lang}",n).replace("${selection}",this.contextSelectedText),c=_.SHA1(s);this.showResponsePopup=!0,this.resultCustomKey=c,j.chat(s,this.settings.ai_model,"ai_single",c,!0,!1),this.lastAskedQuestion=s,this.askedQuestion={text:this.contextSelectedText,lang:n}},askAgain(t="GPT-3",e=null,a=null,n=null){if(e&&a&&n){const c=e.prompt.replace("${lang}",n).replace("${selection}",this.contextSelectedText);this.lastAskedQuestion=c}const s=_.SHA1(this.lastAskedQuestion);this.showResponsePopup=!0,this.resultCustomKey=s,j.chat(this.lastAskedQuestion,t,"ai_single",s,!0,!1)},checkToolPinned(t,e){if(e==="reading")return this.ai_pinnedContextPrompts.reading.includes(t.id);if(e==="writing")return this.ai_pinnedContextPrompts.writing.includes(t.id)},getPinnedContextTools(){const{reading:t,writing:e}=this.ai_pinnedContextPrompts;typeof t=="object"&&(this.ai_pinnedContextPrompts.reading=Object.values(t)),typeof e=="object"&&(this.ai_pinnedContextPrompts.writing=Object.values(e)),this.pinnedContextReadTools=Object.values(this.ai_contextPrompts).filter(a=>this.ai_pinnedContextPrompts.reading.includes(a.id)),this.pinnedContextWriteTools=Object.values(this.ai_contextPrompts).filter(a=>this.ai_pinnedContextPrompts.writing.includes(a.id)),Object.values(this.ai_contextPrompts).forEach(a=>{if(Object.keys(_.notUndefined(a,"options")).length>0){let n=Object.values(a.options).filter(c=>this.ai_pinnedContextPrompts.writing.includes(c.id)),s=Object.values(a.options).filter(c=>this.ai_pinnedContextPrompts.reading.includes(c.id));n&&this.pinnedContextWriteTools.push(...n),s&&this.pinnedContextReadTools.push(...s)}}),this.currentPinnedContextTools=this.popupType=="writing"?this.pinnedContextWriteTools:this.pinnedContextReadTools}},mounted(){this.askedQuestion.lang==""&&this.settings.language_detail&&typeof this.settings.language_detail.name<"u"&&(this.askedQuestion.lang=this.settings.language_detail.name)}});const I2=t=>(Y("data-v-b7733f62"),t=t(),Q(),t),E2={class:"ait-flex ait-h-full ait-justify-start ait-items-center ait-px-1 ait-select-none"},j2=["onClick"],V2=["innerHTML"],R2={key:1,class:"ait-text-black ait-line-clamp-1 dark:ait-text-white ait-text-[13px]"},z2={class:"ait-w-full"},B2={role:"button",class:"ait-text-left ait-group ait-text-[13px] ait-whitespace-nowrap ait-pr-4 ait-flex ait-w-full ait-justify-between ait-rounded-md ait-items-center ait-gap-4 dark:ait-bg-neutral-800 ait-bg-white ait-py-2 ait-px-2 hover:dark:ait-bg-neutral-700 hover:ait-bg-neutral-50"},q2={class:"ait-flex ait-items-center ait-w-full ait-justify-start ait-gap-2"},O2={class:"ait-w-full"},D2={role:"button",class:"ait-text-left ait-group ait-text-[13px] ait-whitespace-nowrap ait-pr-4 ait-flex ait-w-full ait-justify-between ait-rounded-md ait-items-center ait-gap-4 dark:ait-bg-neutral-800 ait-bg-white ait-py-2 ait-px-2 hover:dark:ait-bg-neutral-700 hover:ait-bg-neutral-50"},F2={class:"ait-flex ait-items-center ait-w-full ait-justify-start ait-gap-2"},Z2=I2(()=>i("hr",null,null,-1)),W2={class:"ait-w-full"},N2={class:"ait-relative ait-w-full ait-daisy-dropdown ait-daisy-dropdown-hover ait-daisy-dropdown-right"},K2={class:"ait-flex ait-items-center ait-w-full ait-justify-start ait-gap-2"},G2={class:"ait-text-[var(--ait-link-color)]"};function Y2(t,e,a,n,s,c){const u=y("SvgLogo"),d=y("font-awesome-icon"),h=y("hover-popover"),g=y("PopoverButton"),r=y("PromptTool"),w=y("PopoverPanel"),b=y("Popover"),v=y("ContextAIResponsePopup");return o(),l(x,null,[m(O,{name:"fade"},{default:S(()=>[this.showPopup?(o(),l("div",{key:0,class:"aitopia-context-popup-container ait-rounded-lg ait-drop-shadow-xl dark:ait-bg-neutral-800 ait-bg-white",style:V([{top:this.popupPosition.top+"px",left:this.popupPosition.left+"px"},{position:"absolute","z-index":"2147483647"}]),onClick:e[3]||(e[3]=R(()=>{},["stop"]))},[i("div",E2,[m(u,{name:"logo",className:"ait-w-4 ait-h-4 ait-mx-1"}),(o(!0),l(x,null,M(this.currentPinnedContextTools,k=>(o(),E(h,{key:k.id,"popover-text":t.__(k.name),disable:this.currentPinnedContextTools.length<3},{default:S(()=>[i("button",{onClick:$=>t.onClickTool(k),class:"ait-flex ait-rounded-none ait-items-center ait-gap-2 dark:ait-bg-neutral-800 ait-bg-white ait-py-2 ait-px-2 hover:dark:ait-bg-neutral-700 hover:ait-bg-neutral-50"},[k.icon?(o(),l(x,{key:0},[k.icon.indexOf("fa-")!==-1?(o(),E(d,{key:0,icon:k.icon,class:"ait-w-[14px] ait-h-[14px]"},null,8,["icon"])):(o(),l("span",{key:1,innerHTML:k.icon},null,8,V2))],64)):f("",!0),this.currentPinnedContextTools.length<3?(o(),l("span",R2,p(t.__(k.name).length>20?t.__(k.name).substring(0,12)+"...":t.__(k.name)),1)):f("",!0)],8,j2)]),_:2},1032,["popover-text","disable"]))),128)),m(b,{class:"ait-relative"},{default:S(({open:k})=>[m(g,{class:"group ait-flex ait-rounded-none ait-items-center ait-gap-2 dark:ait-bg-neutral-800 ait-bg-white ait-py-2 ait-px-2 hover:dark:ait-bg-neutral-700 hover:ait-bg-neutral-50"},{default:S(()=>[m(d,{icon:"fa-solid fa-chevron-down",class:"ait-w-[14px] ait-h-[14px]"})]),_:1}),m(O,{"enter-active-class":"ait-transition ait-duration-200 ait-ease-out","enter-from-class":"ait-translate-y-1 ait-opacity-0","enter-to-class":"ait-translate-y-0 ait-opacity-100","leave-active-class":"ait-transition ait-duration-150 ait-ease-in","leave-from-class":"ait-translate-y-0 ait-opacity-100","leave-to-class":"ait-translate-y-1 ait-opacity-0"},{default:S(()=>[m(w,{class:"ait-absolute dark:ait-bg-neutral-800 ait-bg-white ait-left-0 ait-z-10 ait-mt-[1px] ait-border-[1px] dark:ait-border-neutral-700 ait-border-neutral-50 ait-max-w-md ait-transform ait-rounded-lg ait-p-1 ait-shadow-lg"},{default:S(()=>[m(r,{prompts:Object.values(this.ai_contextPrompts),onClickTool:t.onClickTool,mode:this.popupType},null,8,["prompts","onClickTool","mode"])]),_:1})]),_:1})]),_:1}),m(b,{class:"ait-relative"},{default:S(({open:k})=>[m(g,{class:"group ait-flex ait-rounded-none ait-items-center ait-gap-2 dark:ait-bg-neutral-800 ait-bg-white ait-py-2 ait-px-2 hover:dark:ait-bg-neutral-700 hover:ait-bg-neutral-50"},{default:S(()=>[m(d,{icon:"fa-solid fa-close",class:"ait-w-4 ait-h-4"})]),_:1}),m(O,{"enter-active-class":"ait-transition ait-duration-200 ait-ease-out","enter-from-class":"ait-translate-y-1 ait-opacity-0","enter-to-class":"ait-translate-y-0 ait-opacity-100","leave-active-class":"ait-transition ait-duration-150 ait-ease-in","leave-from-class":"ait-translate-y-0 ait-opacity-100","leave-to-class":"ait-translate-y-1 ait-opacity-0"},{default:S(()=>[m(w,{class:"ait-absolute dark:ait-bg-neutral-800 ait-bg-white ait-left-0 ait-z-10 ait-mt-[1px] ait-border-[1px] dark:ait-border-neutral-700 ait-border-neutral-50 ait-max-w-md ait-transform ait-rounded-lg ait-p-1 ait-shadow-lg"},{default:S(()=>[i("div",z2,[i("div",{onClick:e[0]||(e[0]=$=>{this.settings.context_reading=!1,this.hidePopup()}),class:"ait-relative ait-w-full ait-daisy-dropdown ait-daisy-dropdown-hover ait-daisy-dropdown-right"},[i("div",B2,[i("div",q2,p(t.__("Hide until next visit")),1)])])]),i("div",O2,[i("div",{onClick:e[1]||(e[1]=$=>{this.changeStorage("settings.context_reading",!1,!0),this.hidePopup()}),class:"ait-relative ait-w-full ait-daisy-dropdown ait-daisy-dropdown-hover ait-daisy-dropdown-right"},[i("div",D2,[i("div",F2,p(t.__("Disable globally")),1)])])]),Z2,i("div",W2,[i("div",N2,[i("div",{role:"button",onClick:e[2]||(e[2]=$=>{t.Helpers.sendMessage("openPage",{url:"./src/html/options.html?mode=context"})}),class:"ait-text-left ait-group ait-text-[13px] ait-whitespace-nowrap ait-pr-4 ait-flex ait-w-full ait-justify-between ait-rounded-md ait-items-center ait-gap-4 dark:ait-bg-neutral-800 ait-bg-white ait-py-2 ait-px-2 hover:dark:ait-bg-neutral-700 hover:ait-bg-neutral-50"},[i("div",K2,[U(p(t.__("You can re-enable in"))+" ",1),i("span",G2,p(t.__("Settings")),1)])])])])]),_:1})]),_:1})]),_:1})])],4)):f("",!0)]),_:1}),m(v,{custom_key:this.resultCustomKey??null,askAgain:this.askAgain},null,8,["custom_key","askAgain"])],64)}const Q2=L(A2,[["render",Y2],["__scopeId","data-v-b7733f62"]]),X2=q({name:"ContextAIResponsePopup",extends:H,props:{custom_key:String,askAgain:Function},data(){return{showResponsePopup:!1,fixedResultPopupPosition:{top:0,left:0},isDraggingResultPopup:!1,dragStartX:0,dragStartY:0,askedQuestionShowMore:!1}},methods:{hideResponsePopup(){this.showResponsePopup=!1},startDrag(t){this.dragStartX=t.clientX-this.fixedResultPopupPosition.left,this.dragStartY=t.clientY-this.fixedResultPopupPosition.top,this.isDraggingResultPopup=!0,window.addEventListener("mousemove",this.doDrag),window.addEventListener("mouseup",this.stopDrag)},doDrag(t){if(!this.isDraggingResultPopup)return;let e=t.clientX-this.dragStartX,a=t.clientY-this.dragStartY;const n=window.innerWidth,s=window.innerHeight,c=this.$el.offsetWidth,u=this.$el.offsetHeight;e=Math.max(0,Math.min(e,n-c)),a=Math.max(0,Math.min(a,s-u)),this.fixedResultPopupPosition={top:a,left:e}},stopDrag(){this.isDraggingResultPopup=!1,window.removeEventListener("mousemove",this.doDrag),window.removeEventListener("mouseup",this.stopDrag)},continueOnChat(){T.ai_single[this.custom_key]&&(this.newChat(T.ai_single[this.custom_key]),this.sidebarToggle(!0),this.changeStorage("settings.switchbar","chat",!1))},toggleAskedQuestionShowMore(){this.askedQuestionShowMore=!this.askedQuestionShowMore},handleKeyup(t){t.key==="j"?this.continueOnChat():t.key==="Enter"&&_.copyClipboard(_.notUndefined(this.ai_single[this.custom_key][1],"item").replace(/<br\/>/g,`
`))}},beforeDestroy(){window.removeEventListener("keyup",this.handleKeyup)},watch:{popupPosition:{handler:function(t){this.showResponsePopup||(this.fixedResultPopupPosition={top:t.top-window.scrollY+80,left:t.left-window.scrollX})},deep:!0},showResponsePopup(t){t?window.addEventListener("keyup",this.handleKeyup):window.removeEventListener("keyup",this.handleKeyup)}}});const st=t=>(Y("data-v-bacc5175"),t=t(),Q(),t),J2={class:"ait-flex ait-flex-col ait-justify-start ait-items-center"},tu={class:"ait-flex ait-gap-4 ait-items-center"},eu={class:"ait-text-base ait-font-bold ait-select-none ait-h-full ait-w-full"},iu=["onChange"],au=["selected","value","innerHTML"],su={class:"ait-px-2 ait-flex ait-flex-col ait-justify-between ait-items-start ait-max-h-[250px] ait-w-full ait-max-w-[440px] ait-min-w-[440px]"},ou={class:"ait-px-3 ait-w-full ait-max-h-[50px] ait-opacity-80 ait-overflow-y-auto ait-py-1 ait-flex ait-flex-row ait-justify-between ait-gap-2"},nu=["data-key"],lu=["aria-details"],ru={class:"ait-p-3 ait-w-full ait-h-[140px] ait-overflow-y-auto"},du=["innerHTML"],cu={key:0,class:"ait-mt-2 ait-flex ait-items-center ait-float-left ait-gap-2 dark:ait-divide-neutral-700 ait-divide-x-[1px] ait-divide-solid ait-divide-neutral-200"},uu={class:"ait-text-xs ait-text-neutral-400 dark:ait-text-neutral-300"},hu={key:0,class:"ait-pl-2"},pu={key:0,id:"ait-continue-chat-ai_single",class:"ait-continue-chat ait-flex ait-items-center ait-justify-center ait-w-full"},gu=["data-title"],fu={class:"ait-flex ait-w-full ait-gap-2 ait-items-center ait-justify-center"},mu={key:1,class:"ait-p-3 ait-flex ait-flex-row ait-justify-between ait-items-center"},_u=["onclick"],wu=st(()=>i("span",{class:"ait-text-xs"},"[J]",-1)),bu={class:"ait-flex ait-gap-2 ait-justify-start ait-items-center"},vu=["onClick"],yu=st(()=>i("span",{class:"ait-text-xs"},"[Enter]",-1)),xu={key:1,class:"ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 dark:ait-text-gray-200"},ku={class:"ait-w-full ait-py-4 ait-flex"},Cu={key:2,class:"ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 ait-text-red-800 dark:ait-text-red-200"},$u={class:"ait-py-4 ait-text-center ait-text-red-800 dark:ait-text-red-200"},Lu={id:"ait-stop-chat-ai_single",class:"ait-stop-chat ait-hide ait-self-center"},Su={class:"ait-text-white hover:ait-bg-green-800 ait-font-medium ait-text-md ait-px-5 ait-py-2 ait-rounded-md dark:hover:ait-bg-[var(--ait-tab-menu-active-bg-color)]"},Mu={class:"ait-flex ait-w-full ait-gap-2 ait-items-center ait-justify-center"},Hu=st(()=>i("svg",{stroke:"currentColor",fill:"none","stroke-width":"2",viewBox:"0 0 24 24","stroke-linecap":"round","stroke-linejoin":"round",class:"icon-xs",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},[i("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"})],-1));function Tu(t,e,a,n,s,c){const u=y("font-awesome-icon");return t.showResponsePopup?(o(),E(O,{key:0,name:"fade"},{default:S(()=>[i("div",{ref:"popupRef",class:"aitopia-context-response-popup-container ait-rounded-lg ait-pb-4 ait-drop-shadow-xl dark:ait-bg-neutral-800 ait-bg-white",style:V([{top:this.fixedResultPopupPosition.top+"px",left:this.fixedResultPopupPosition.left+"px"},{position:"fixed","z-index":"2147483647"}]),onClick:e[6]||(e[6]=R(()=>{},["stop"]))},[i("div",J2,[i("div",{onMousedown:e[2]||(e[2]=(...d)=>t.startDrag&&t.startDrag(...d)),class:"ait-flex ait-justify-between ait-items-center ait-rounded-t-lg ait-w-full ait-px-4 ait-py-2 ait-cursor-move"},[i("div",tu,[i("span",eu,p(t.__(this.contextSelectedTool.name)??t.__("AI Response")),1),t.Helpers.notUndefined(this.contextSelectedTool,"settings")?(o(!0),l(x,{key:0},M(this.contextSelectedTool.settings,(d,h)=>(o(),l("div",{key:h},[(o(!0),l(x,null,M(d,g=>(o(),l(x,null,[(o(!0),l(x,null,M(g,(r,w,b)=>(o(),l(x,null,[t.Helpers.notUndefined(this,t.Helpers.notUndefined(r,"model"))?P((o(),l("select",{key:0,class:"ait-daisy-select ait-daisy-select-bordered ait-daisy-w-full ait-daisy-max-w-xs dark:ait-text-white",onChange:v=>this.askAgain("GPT-3",this.contextSelectedTool,r,v.target.value),"onUpdate:modelValue":e[0]||(e[0]=v=>this.askedQuestion.lang=v)},[(o(!0),l(x,null,M(t.Helpers.notUndefined(this,t.Helpers.notUndefined(r,"model")),(v,k)=>(o(),l("option",{selected:this.askedQuestion.lang==(t.Helpers.notUndefined(v,t.Helpers.notUndefined(r,"model_element_before"))??null?(t.Helpers.notUndefined(v,t.Helpers.notUndefined(r,"model_element_before"))??null)+" ":"")+(t.Helpers.notUndefined(r,"no_translate")?t.Helpers.notUndefined(v,t.Helpers.notUndefined(r,"model_element")):t.__(t.Helpers.notUndefined(v,t.Helpers.notUndefined(r,"model_element")))),value:t.Helpers.notUndefined(v,t.Helpers.notUndefined(r,"model_prefix")),innerHTML:(t.Helpers.notUndefined(v,t.Helpers.notUndefined(r,"model_element_before"))??null?(t.Helpers.notUndefined(v,t.Helpers.notUndefined(r,"model_element_before"))??null)+" ":"")+(t.Helpers.notUndefined(r,"no_translate")?t.Helpers.notUndefined(v,t.Helpers.notUndefined(r,"model_element")):t.__(t.Helpers.notUndefined(v,t.Helpers.notUndefined(r,"model_element"))))},null,8,au))),256))],40,iu)),[[W,this.askedQuestion.lang]]):f("",!0)],64))),256))],64))),256))]))),128)):f("",!0)]),i("button",{onClick:e[1]||(e[1]=(...d)=>t.hideResponsePopup&&t.hideResponsePopup(...d)),class:"ait-flex ait-items-center dark:ait-bg-neutral-900 ait-bg-neutral-50 ait-py-2 ait-px-2 hover:dark:ait-bg-neutral-700 hover:ait-bg-neutral-50 ait-cursor-pointer"},[m(u,{icon:"fa-solid fa-close",class:"ait-w-4 ait-h-4"})])],32),i("div",su,[i("div",ou,[U(p(this.askedQuestionShowMore?this.askedQuestion.text:(t.Helpers.notUndefined(this.askedQuestion,"text")??"").length>45?(t.Helpers.notUndefined(this.askedQuestion,"text")??"").substring(0,45)+"...":t.Helpers.notUndefined(this.askedQuestion,"text")??"")+" ",1),(t.Helpers.notUndefined(this.askedQuestion,"text")??"").length>45?(o(),l("span",{key:0,onClick:e[3]||(e[3]=(...d)=>t.toggleAskedQuestionShowMore&&t.toggleAskedQuestionShowMore(...d)),class:"ait-cursor-pointer ait-whitespace-nowrap ait-text-[var(--ait-link-color)] ait-text-xs"},p(t.__(this.askedQuestionShowMore?"Show less":"Show more")),1)):f("",!0)]),t.Helpers.notUndefined(this==null?void 0:this.ai_single,t.custom_key)?(o(),l("div",{key:0,"data-key":t.custom_key,class:"ait-w-full"},[(o(!0),l(x,null,M(Object.values(this.ai_single[t.custom_key]),(d,h)=>(o(),l("div",{"aria-details":`chat-key-${h}`,key:h},[d.role=="system"||d.role=="assistant"?(o(),l(x,{key:0},[i("div",ru,[i("div",{class:C(["ait-w-full",`ai_result ${d.loading?"ai_loading":""}`]),innerHTML:t.AiApi.prefixify(t.AiApi.linkify(d.item)).replace(/\n/g,"<br/>")},null,10,du),d.loading?f("",!0):(o(),l("div",cu,[i("span",uu,p(t.__("By"))+" "+p(d.model),1),d.model!="GPT-4"?(o(),l("div",hu,[i("button",{onClick:e[4]||(e[4]=g=>this.askAgain("GPT-4")),type:"button",class:"ait-cursor-pointer ait-w-full ait-font-semibold ait-text-[var(--ait-link-color)] ait-text-xs ait-py-1 ait-px-2 ait-rounded-full ait-flex ait-items-center ait-gap-1 ait-justify-center ait-bg-transparent hover:ait-bg-neutral-200 dark:hover:ait-bg-neutral-700 ait-transition-all"},p(t.__("Ask GPT-4 Turbo")),1)])):f("",!0)]))]),t.Helpers.notUndefined(d,"finish_reason")=="length"?(o(),l("div",pu,[i("button",{"data-title":t.__("Continue"),class:"ait-text-white hover:ait-bg-green-800 ait-font-small ait-text-md ait-px-3 ait-py-1.5 ait-my-2 ait-rounded-md dark:hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-items-center ait-justify-center"},[i("div",fu,[m(u,{icon:"fa-solid fa-play",class:"ait-h-4 ait-w-4"}),U(" "+p(t.__("Continue generating")),1)])],8,gu)])):f("",!0),d.loading?f("",!0):(o(),l("div",mu,[i("button",{onclick:t.continueOnChat,role:"button",class:"ait-gap-1 ait-flex ait-items-center ait-justify-center ait-bg-neutral-100 ait-text-[var(--ait-tab-menu-active-bg-color)] dark:ait-bg-neutral-700 hover:ait-opacity-80 ait-rounded-lg focus:ait-outline-none ait-text-sm ait-py-1 ait-whitespace-nowrap ait-px-2 ait-text-center"},[U(p(t.__("Continue in chat"))+" ",1),wu],8,_u),i("div",bu,[i("button",{type:"button",class:"ait-gap-1 ait-flex ait-items-center ait-justify-center ait-bg-neutral-100 ait-text-neutral-700 dark:ait-text-neutral-100 dark:ait-bg-neutral-700 hover:ait-opacity-80 ait-rounded-lg focus:ait-outline-none ait-text-sm ait-py-1 ait-whitespace-nowrap ait-px-2 ait-text-center",onClick:g=>this.Helpers.copyClipboard(d.item.replace(/<br\/>/g,`
`))},[U(p(t.__("Copy"))+" ",1),yu],8,vu)])]))],64)):d.role=="limit"?(o(),l("div",xu,[i("div",ku,[i("div",null,p(t.__("Your usage limit has been reached. Please upgrade your plan to continue using.")),1),i("button",{type:"button",onClick:e[5]||(e[5]=g=>{this.clickOpenPage(this.constants.extension_pricing)}),class:"ait-mt-3 ait-text-white ait-bg-green-700 hover:ait-bg-green-800 focus:ait-outline-none focus:ait-ring-4 focus:ait-ring-green-300 ait-font-medium ait-rounded-full ait-text-sm ait-px-5 ait-py-1 ait-text-center ait-ml-5 ait-mr-2 dark:ait-bg-green-600 dark:hover:ait-bg-green-700 dark:focus:ait-ring-green-800 aitopia-pricing"},p(t.__("Upgrade")),1)])])):d.role=="error"?(o(),l("div",Cu,[i("div",$u,p(d.item),1)])):f("",!0)],8,lu))),128)),i("div",Lu,[i("button",Su,[i("div",Mu,[Hu,U(" "+p(t.__("Stop generating")),1)])])])],8,nu)):f("",!0)])])],4)]),_:1})):f("",!0)}const Uu=L(X2,[["render",Tu],["__scopeId","data-v-bacc5175"]]),Pu=q({name:"PromptTool",extends:H,props:{onClickTool:Function,mode:String,prompts:Object,type:String},methods:{checkToolPinned(t,e){if(e==="reading")return this.ai_pinnedContextPrompts.reading.includes(t.id);if(e==="writing")return this.ai_pinnedContextPrompts.writing.includes(t.id)}},mounted(){}}),Au={class:"ait-relative ait-w-full ait-daisy-dropdown ait-daisy-dropdown-hover ait-daisy-dropdown-right"},Iu=["onClick"],Eu={class:"ait-flex ait-items-center ait-w-full ait-justify-start ait-gap-2"},ju=["innerHTML"],Vu={class:"ait-flex ait-items-center ait-justify-end ait-gap-2"},Ru={key:1,class:"ait-w-[14px] ait-h-[14px]"},zu={key:0,class:"ait-daisy-dropdown-content ait-p-1 ait-border-[1px] dark:ait-border-neutral-600 ait-border-neutral-200 dark:ait-bg-neutral-800 ait-bg-white ait-rounded-lg ait-min-w-[200px] ait-absolute ait-z-[100] ait-daisy-menu ait-shadow-lg ait-pl-1 ait-dropdown-right"},Bu=["onClick","value","innerHTML"];function qu(t,e,a,n,s,c){const u=y("font-awesome-icon"),d=y("svg-logo"),h=y("PromptTool",!0);return o(),l("div",{class:C(t.type==="options"?"ait-daisy-dropdown-content ait-p-1 ait-border-[1px] dark:ait-border-neutral-600 ait-border-neutral-200 dark:ait-bg-neutral-800 ait-bg-white ait-rounded-lg ait-min-w-[200px] ait-absolute ait-z-[100] ait-daisy-menu ait-shadow-lg ait-pl-1 ait-dropdown-right":"")},[(o(!0),l(x,null,M(t.prompts.filter(g=>g.mode.includes(t.mode)),g=>(o(),l("div",{key:g.name,class:"ait-w-full"},[i("div",Au,[i("div",{role:"button",onClick:r=>t.Helpers.notUndefined(g,"settings")?null:t.onClickTool(g,null),class:"ait-text-left ait-group ait-text-[13px] ait-whitespace-nowrap ait-pr-4 ait-flex ait-w-full ait-justify-between ait-rounded-md ait-items-center ait-gap-4 dark:ait-bg-neutral-800 ait-bg-white ait-py-2 ait-px-2 hover:dark:ait-bg-neutral-700 hover:ait-bg-neutral-50"},[i("div",Eu,[t.Helpers.notUndefined(g,"icon")?(o(),l(x,{key:0},[t.Helpers.notUndefined(g,"icon").indexOf("fa-")!==-1?(o(),E(u,{key:0,icon:t.Helpers.notUndefined(g,"icon")},null,8,["icon"])):(o(),l("span",{key:1,innerHTML:t.Helpers.notUndefined(g,"icon")},null,8,ju))],64)):f("",!0),U(" "+p(t.__(g.name)),1)]),i("div",Vu,[m(d,{role:"button",onClick:R(r=>this.togglePromptToPinnedPrompts(g.id,t.mode),["stop"]),className:"ait-w-[14px] ait-h-[14px]",class:C({"ait-opacity-0 group-hover:ait-opacity-100":!this.checkToolPinned(g,t.mode),"ait-opacity-100":this.checkToolPinned(g,t.mode)}),name:"pin_icon"},null,8,["onClick","class"]),t.Helpers.notUndefined(g,"settings")||Object.keys(t.Helpers.notUndefined(g,"options")??{}).length>0?(o(),E(u,{key:0,icon:"fa-solid fa-chevron-right",class:"ait-w-[14px] ait-h-[14px]"})):(o(),l("div",Ru))])],8,Iu),t.Helpers.notUndefined(g,"settings")?(o(),l("div",zu,[(o(!0),l(x,null,M(g.settings,(r,w)=>(o(),l("ul",{key:w,class:"ait-flex ait-max-h-[300px] ait-overflow-y-scroll ait-flex-col ait-text-sm ait-w-full ait-justify-start ait-rounded-none ait-items-start"},[(o(!0),l(x,null,M(r,b=>(o(),l(x,null,[(o(!0),l(x,null,M(b,(v,k,$)=>(o(),l(x,null,[t.Helpers.notUndefined(this,t.Helpers.notUndefined(v,"model"))?(o(!0),l(x,{key:0},M(t.Helpers.notUndefined(this,t.Helpers.notUndefined(v,"model")),(B,D)=>(o(),l("li",{class:"ait-text-left ait-text-sm ait-whitespace-nowrap ait-pr-2 ait-w-full ait-rounded-md dark:ait-bg-neutral-800 ait-bg-white ait-py-2 ait-px-2 hover:dark:ait-bg-neutral-700 hover:ait-bg-neutral-50",onClick:ot=>t.onClickTool(g,v,B),value:t.Helpers.notUndefined(B,t.Helpers.notUndefined(v,"model_prefix")),innerHTML:(t.Helpers.notUndefined(B,t.Helpers.notUndefined(v,"model_element_before"))??null?(t.Helpers.notUndefined(B,t.Helpers.notUndefined(v,"model_element_before"))??null)+" ":"")+(t.Helpers.notUndefined(v,"no_translate")?t.Helpers.notUndefined(B,t.Helpers.notUndefined(v,"model_element")):t.__(t.Helpers.notUndefined(B,t.Helpers.notUndefined(v,"model_element"))))},null,8,Bu))),256)):f("",!0)],64))),256))],64))),256))]))),128))])):f("",!0),Object.keys(t.Helpers.notUndefined(g,"options")??{}).length>0?(o(),E(h,{key:1,prompts:Object.values(g.options),onClickTool:t.onClickTool,mode:this.popupType,type:"options"},null,8,["prompts","onClickTool","mode"])):f("",!0)])]))),128))],2)}const Ou=L(Pu,[["render",qu]]),Du={reply_button_container:null,reply_edit_container:null,reply_main_container:null,reply_insert_container:null,reply_insert_text:null,first_show:!1,run:!1,process:!1,reply_prompt_text:null,add_click_event:!1,reply_text:null,last_data:null,dot_position:null,keys:{},build(t){if(this.reply_main_container=document.querySelector("body"),!this.run){if(this.run=!0,A.ai_reply[window.location.hostname]){window.addEventListener("hashchange",n=>(this.first_show=!1,this.last_data=null,this.reply_insert_text=t.EmailReply.reply_insert_text=null,t.draggableModalToggle("ai-reply-popup",!1),t.draggableModalToggle("ai-reply-voice-settings",!1),this.getData(t,n)));const e=new MutationObserver((n,s)=>this.observerCheck(n,s,t)),a=document.querySelector("body");return e.observe(a,{attributes:!1,childList:!0,subtree:!1}),this.getData(t)}return null}},observerCheck(t,e,a){let n=this.getData(a,null,!0,!0);return n||null},getData(t=null,e=null,a=!1,n=!1){if(A.ai_reply[window.location.hostname]){const{reply_button:s,button:c,container:u,alternative_container:d,edit_container:h,reply_insert_container:g,dot_position:r,detail_elements:w}=A.ai_reply[window.location.hostname];if(n&&this.last_data!==null&&document.querySelector(h)!==null&&document.querySelector("#aitopia-reply-wrapper-dot")!==null&&this.last_data.email_content.length>3)return this.last_data;t.EmailReply.reply_edit_container=null;let b=document.querySelector(u);if(b==null&&d!==null&&(b=document.querySelector(d)),b==null)return t.draggableModalToggle("ai-reply-popup",!1),t.draggableModalToggle("ai-reply-voice-settings",!1),this.reply_insert_text=t.EmailReply.reply_insert_text=null,null;if(t.EmailReply.keys=this.buildKeys(),this.keys=this.buildKeys(),b.querySelector(c)!==null?(this.reply_button_container=null,this.reply_button_container=b.querySelector(c)):document.querySelector(c)!==null&&(this.reply_button_container=null,this.reply_button_container=document.querySelector(c)),this.dot_position=r,this.reply_edit_container=null,document.querySelector(h)!==null?this.reply_edit_container=document.querySelector(h):e!==null&&(this.first_show=!1,t.draggableModalToggle("ai-reply-popup",!1),this.reply_insert_text=t.EmailReply.reply_insert_text=null),document.querySelector(g)!==null&&(this.reply_insert_container=document.querySelector(g)),w&&b!==null){w.forEach(k=>{let $=[];b.querySelectorAll(k.selector)!==null&&(b.querySelectorAll(k.selector).forEach(B=>{$.push(_.onSettingTypeByValue(k,B))}),A.ai_reply_data||(A.ai_reply_data={}),typeof A.ai_reply_data[_.SHA1(window.location.hash)]>"u"&&(A.ai_reply_data[_.SHA1(window.location.hash)]={}),A.ai_reply_data[_.SHA1(window.location.hash)][k.name]=_.removeEmptyLines($.join(`
`)))});let v=A.ai_reply_data[_.SHA1(window.location.hash)];return this.last_data&&(this.last_data.email_content.length>0?(v==null&&(v=this.last_data),v.email_content||(v=this.last_data),v.email_content.length==0&&(v=this.last_data),A.ai_reply_data[_.SHA1(window.location.hash)]=v):this.last_data=null),this.last_data=v??this.last_data,!this.first_show&&e!==null&&this.last_data!==null&&this.reply_edit_container!==null&&(this.first_show=!0),a?A.ai_reply_data[_.SHA1(window.location.hash)]:A.ai_reply_data}}return null},replyButton(t,e){if(A.ai_reply[window.location.hostname]){const{reply_button:a,button:n,container:s,alternative_container:c,edit_container:u,dot_position:d,detail_elements:h}=A.ai_reply[window.location.hostname];let g=document.querySelector(a);this.sendAi(t,this.last_data),g!==null&&(g.click(),this.getData(t,e))}},sendAi(t,e,a=!1){t.EmailReply.process=!0,this.reply_prompt_text=null,this.reply_insert_text=t.EmailReply.reply_insert_text=null,this.sendSingleAi(t,"getEmailIntent","intentKey",e),this.sendSingleAi(t,"getEmailKeyPoints","keyPointKey",e),this.sendSingleAi(t,"getRelatedSuggestions","suggestionKey",e).then(()=>{t.EmailReply.process=!1;let n=this;document.querySelectorAll(".ait-action-suggestion").forEach(s=>{s.addEventListener("click",c=>{if(this.add_click_event=!0,c.target.classList.contains("ait-action-suggestion")&&!n.process){let u=c.target.innerText.replace(/→/gi,"");n.reply_prompt_text=u,this.getReply(t,u)}})})}).finally(()=>{t.EmailReply.process=!1;let n=this;document.querySelectorAll(".ait-action-suggestion").forEach(s=>{s.addEventListener("click",c=>{if(this.add_click_event=!0,c.target.classList.contains("ait-action-suggestion")&&!n.process){let u=c.target.innerText.replace(/→/gi,"");n.reply_prompt_text=u,this.getReply(t,u)}})})})},async sendSingleAi(t,e,a,n,s=null){let c=A.reply_prompts[e],u=`${window.location.hash}#${a}`;if(typeof t.ai_prompts[`id_${c}`]<"u"){let d=t.ai_prompts[`id_${c}`],h=_.SHA1(u);await _.Browser().storage.local.get("delete_key").then(r=>{let w=[];if(typeof r.delete_key<"u"&&(w=r.delete_key),typeof w!="object"&&(w=[]),w.indexOf(h)===-1)return w.push(h),_.Browser().storage.local.set({delete_key:w})}),t.ai_single!=null&&typeof t.ai_single=="object"&&typeof t.ai_single[h]<"u"&&(t.ai_single[h]={});let g=Object.assign({},n);return g.mode=e,await at.build(t,u,s??n.email_content,"GPT-3.5",d.prompt,null,g,!1,c)}},async getReply(t,e=null){let a=this.getData(t,null,!0);t.EmailReply.process=!0,t.EmailReply.reply_prompt_text=e,this.reply_insert_text=t.EmailReply.reply_insert_text="",this.sendSingleAi(t,"askAiReply","askReply",a,e).then(n=>{t.EmailReply.process=!1;let s=t.EmailReply.keys.askReply;this.reply_insert_text=t.EmailReply.reply_insert_text=_.notUndefined(t.ai_single,`${s}.1.item`)})},insertReply(t=null){t==null&&this.reply_insert_text!==null&&(t=this.reply_insert_text),this.reply_insert_container!==null&&t!==null&&(this.reply_insert_container.innerHTML=t.replace(/\n/g,"<br/>"))},buildKeys(){return{keyPointKey:_.SHA1(window.location.hash+"#keyPointKey"),suggestionKey:_.SHA1(window.location.hash+"#suggestionKey"),intentKey:_.SHA1(window.location.hash+"#intentKey"),askReply:_.SHA1(window.location.hash+"#askReply")}}},xt=q({extends:H,data(){return T.EmailReply=Du,T},async beforeCreate(){},beforeMount(){},created(){this.run||(this.run=!0,this.EmailReply.build(this),this.$watch(()=>this.EmailReply,()=>{},{immediate:!0}),this.$watch(()=>A.ai_reply_data,()=>{},{immediate:!0}))},mounted(){}}),Fu={extends:xt,data(){return{selected:!1,improving:!1}}},Zu={class:"ait-w-full ait-flex ait-flex-col ait-items-start ait-justify-start ait-gap-2 ait-min-h-[180px] ait-max-h-[180px]"},Wu={class:"ait-flex ait-border-[1px] ait-border-neutral-200 dark:ait-border-neutral-600 ait-space-x-1 ait-rounded-full ait-bg-neutral-100 dark:ait-bg-neutral-700"},Nu={class:"ait-flex-1 ait-px-3 ait-flex ait-w-full ait-flex-col ait-items-start ait-justify-start ait-mb-2 ait-gap-2 ait-min-h-[140px] ait-max-h-[140px] ait-overflow-auto"},Ku={class:"ait-flex-1 ait-flex ait-px-3 ait-w-full ait-flex-col ait-items-start ait-justify-start ait-mb-2 ait-gap-2 ait-min-h-[265px] ait-max-h-[265px]"},Gu={key:0,class:"ait-text-neutral-400 ait-text-md ait-font-bold dark:ait-text-neutral-500"},Yu={key:1,class:"ait-text-neutral-400 ait-text-md ait-font-bold dark:ait-text-neutral-500"},Qu={key:0,class:"ait-text-[12px]"},Xu=["title"],Ju={class:"ait-w-full ait-flex ait-justify-between ait-items-center ait-gap-3 ait-mb-2 ait-pt-4"},th=["placeholder"],eh=i("img",{src:N,class:"ait-w-4 ait-h-4 ait-opacity-80 ait-mt-[4px] ait-cursor-pointer dark:ait-invert",height:"16",width:"16"},null,-1),ih=[eh],ah={class:"ait-flex ait-justify-start ait-items-center ait-gap-3"},sh=["disabled"],oh=["placeholder"],nh=i("img",{src:N,class:"ait-w-4 ait-h-4 ait-opacity-80 ait-mt-[4px] ait-cursor-pointer dark:ait-invert",height:"16",width:"16"},null,-1),lh=[nh];function rh(t,e,a,n,s,c){const u=y("AiReplyResponse"),d=y("svg-logo"),h=y("hover-popover"),g=y("font-awesome-icon");return o(),l("div",Zu,[i("div",Wu,[i("button",{onClick:e[0]||(e[0]=r=>{s.selected=!1}),class:C(["ait-w-fit ait-whitespace-nowrap ait-rounded-full ait-py-1 ait-px-2 ait-text-sm ait-font-bold",s.selected?"ait-text-neutral-400 dark:ait-text-neutral-500 hover:ait-bg-neutral-200":"ait-bg-white dark:ait-bg-neutral-900 ait-text-[--ait-tab-menu-active-bg-color]"])},p(t.__("Intent")),3),i("button",{onClick:e[1]||(e[1]=r=>{s.selected=!0}),class:C(["ait-w-fit ait-whitespace-nowrap ait-rounded-full ait-py-1 ait-px-2 ait-text-sm ait-font-bold",s.selected?"ait-bg-white dark:ait-bg-neutral-900 ait-text-[--ait-tab-menu-active-bg-color]":"ait-text-neutral-400 dark:ait-text-neutral-500 hover:ait-bg-neutral-200"])},p(t.__("Key Points")),3)]),i("div",Nu,[s.selected?f("",!0):(o(),E(u,{key:0,response_key:this.EmailReply.keys.intentKey},null,8,["response_key"])),s.selected?(o(),E(u,{key:1,response_key:this.EmailReply.keys.keyPointKey},null,8,["response_key"])):f("",!0)]),i("div",Ku,[this.EmailReply.reply_insert_text!=null?(o(),l("div",Gu,p(t.__("Suggestions: ")),1)):(o(),l("div",Yu,p(t.__("Result: ")),1)),i("div",{class:"ait-flex ait-gap-[4px] ait-cursor-pointer",onClick:e[2]||(e[2]=r=>this.draggableModalToggle("ai-reply-voice-settings"))},[i("span",null,[m(d,{name:"voice_icon","class-name":"ait-stroke-[var(--ait-link-color)]"})]),this.prompt_settings?(o(!0),l(x,{key:0},M(Object.values(t.Helpers.promptIdByGetValues(this.selected_reply.id)),(r,w)=>(o(),l(x,null,[r&&w>0?(o(),l("span",Qu," / ")):f("",!0),r?(o(),l("span",{key:1,class:"ait-text-[var(--ait-link-color)] ait-text-[12px] ait-capitalize",title:(r.name??"").toCapitalizeCase()+" : "+r.title},p(t.__(r.title)),9,Xu)):f("",!0)],64))),256)):f("",!0)]),this.EmailReply.reply_insert_text!=null?(o(),l(x,{key:2},[m(u,{response_key:this.EmailReply.keys.askReply,start_height:"160px"},null,8,["response_key"]),i("div",Ju,[this.improving?f("",!0):(o(),l("button",{key:0,onClick:e[3]||(e[3]=r=>this.improving=!this.improving),type:"button",class:"ait-text-neutral-400 dark:ait-text-neutral-500"},p(t.__("Continue Improving")),1)),this.improving?(o(),l("form",{key:1,onSubmit:e[6]||(e[6]=R(()=>{},["prevent"])),class:"ait-text-neutral-900 ait-border ait-border-neutral-300 ait-p-1 ait-rounded-lg ait-bg-neutral-50 focus:ait-ring-green-500 focus:ait-border-green-500 dark:ait-bg-neutral-800 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:focus:ait-ring-green-500 dark:focus:ait-border-green-500 ait-h-[40px] ait-w-full ait-relative ait-flex ait-justify-between ait-items-center ait-gap-2"},[P(i("input",{type:"text",class:"ait-w-full ait-h-full ait-bg-transparent ait-p-2 focus:ait-border-none","onUpdate:modelValue":e[4]||(e[4]=r=>this.EmailReply.reply_prompt_text=r),placeholder:t.__("Tell how you want to reply…")},null,8,th),[[z,this.EmailReply.reply_prompt_text]]),m(h,{"popover-text":t.__("Send")},{default:S(()=>[i("button",{onClick:e[5]||(e[5]=r=>this.EmailReply.getReply(this,this.EmailReply.reply_prompt_text)),type:"submit"},ih)]),_:1},8,["popover-text"])],32)):f("",!0),i("div",ah,[m(h,{"popover-text":t.__("Regenerate")},{default:S(()=>[i("button",{onClick:e[7]||(e[7]=r=>this.EmailReply.getReply(this,this.EmailReply.reply_prompt_text)),type:"button",class:"ait-text-sm ait-font-bold hover:ait-opacity-80"},[m(g,{icon:"fa-solid fa-redo",class:"ait-w-4 ait-h-4"})])]),_:1},8,["popover-text"]),m(h,{"popover-text":t.__("Copy")},{default:S(()=>[i("button",{type:"button",class:"ait-text-sm ait-font-bold hover:ait-opacity-80",onClick:e[8]||(e[8]=r=>{var w;return this.Helpers.copyClipboard((w=this.EmailReply.reply_insert_text)==null?void 0:w.replace(/<br\/>/g,`
`))})},[m(g,{icon:"fa-regular fa-clipboard",class:"ait-w-4 ait-h-4"})])]),_:1},8,["popover-text"]),i("button",{type:"button",onClick:e[9]||(e[9]=r=>this.EmailReply.insertReply()),disabled:this.EmailReply.process,class:"ait-text-sm ait-font-bold hover:ait-opacity-80 ait-px-2 ait-py-1 ait-bg-[--ait-tab-menu-active-bg-color] ait-text-white ait-rounded-md dark:ait-bg-[var(--ait-tab-menu-active-bg-color)] dark:ait-text-white disabled:ait-opacity-50"},p(t.__("Insert")),9,sh)])])],64)):(o(),l(x,{key:3},[m(u,{response_key:this.EmailReply.keys.suggestionKey,start_height:"160px"},null,8,["response_key"]),i("form",{onSubmit:e[12]||(e[12]=R(()=>{},["prevent"])),class:"ait-text-neutral-900 ait-border ait-border-neutral-300 ait-p-1 ait-rounded-lg ait-bg-neutral-50 focus:ait-ring-green-500 focus:ait-border-green-500 dark:ait-bg-neutral-800 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:focus:ait-ring-green-500 dark:focus:ait-border-green-500 ait-h-[40px] ait-w-full ait-relative ait-flex ait-justify-between ait-items-center ait-gap-2"},[P(i("input",{type:"text",class:"ait-w-full ait-h-full ait-bg-transparent ait-p-2 focus:ait-border-none","onUpdate:modelValue":e[10]||(e[10]=r=>this.EmailReply.reply_prompt_text=r),placeholder:t.__("Tell how you want to reply…")},null,8,oh),[[z,this.EmailReply.reply_prompt_text]]),m(h,{"popover-text":t.__("Send")},{default:S(()=>[i("button",{onClick:e[11]||(e[11]=r=>this.EmailReply.getReply(this,this.EmailReply.reply_prompt_text)),type:"submit"},lh)]),_:1},8,["popover-text"])],32)],64))])])}const dh=L(Fu,[["render",rh]]),ch=q({name:"AiReplyResponse",extends:H,props:["response_key","start_height"],data(){return{height:this.$props.start_height??"90px"}},methods:{continueOnChat(){this.ai_single[this.$props.response_key]&&(this.newChat(this.ai_single[this.$props.response_key]),this.sidebarToggle(!0),this.changeStorage("settings.switchbar","chat",!1))}}}),uh={key:0,class:"ait-px-1 ait-py-1 ait-text-left ait-text-neutral-400 dark:ait-text-neutral-500"},hh=["data-key"],ph=["aria-details"],gh={class:"ait-p-0 ait-w-full"},fh=["innerHTML"],mh={key:0,id:"ait-continue-chat-ai_single",class:"ait-continue-chat ait-flex ait-items-center ait-justify-center ait-w-full"},_h=["data-title"],wh={class:"ait-flex ait-w-full ait-gap-2 ait-items-center ait-justify-center"},bh={key:1,class:"ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 dark:ait-text-gray-200"},vh={class:"ait-w-full ait-py-4 ait-flex"},yh={key:2,class:"ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 ait-text-red-800 dark:ait-text-red-200"},xh={class:"ait-py-4 ait-text-center ait-text-red-800 dark:ait-text-red-200"};function kh(t,e,a,n,s,c){const u=y("font-awesome-icon");return o(),l("div",{class:C(`ait-w-full ait-h-[${this.$props.start_height??"90px"}] ait-max-h-[${this.$props.start_height??"90px"}] ait-overflow-y-auto`)},[t.Helpers.notUndefined(this.ai_single,this.$props.response_key)?(o(),l("div",{key:1,"data-key":this.$props.response_key,class:"ait-w-full"},[(o(!0),l(x,null,M(Object.values(this.ai_single[this.$props.response_key]),(d,h)=>(o(),l("div",{"aria-details":`chat-key-${h}`,key:h},[d.role=="system"||d.role=="assistant"?(o(),l(x,{key:0},[i("div",gh,[i("div",{class:C(["!ait-w-full !ait-min-w-full",`ai_result ${d.loading?"ai_loading":""}`]),innerHTML:t.AiApi.prefixify(t.AiApi.linkify(d.item)).replace(/\n/g,"<br/>")},null,10,fh)]),t.Helpers.notUndefined(d,"finish_reason")=="length"?(o(),l("div",mh,[i("button",{"data-title":t.__("Continue"),class:"ait-text-white hover:ait-bg-green-800 ait-font-small ait-text-md ait-px-3 ait-py-1.5 ait-my-2 ait-rounded-md dark:hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-items-center ait-justify-center"},[i("div",wh,[m(u,{icon:"fa-solid fa-play",class:"ait-h-4 ait-w-4"}),U(" "+p(t.__("Continue generating")),1)])],8,_h)])):f("",!0)],64)):d.role=="limit"?(o(),l("div",bh,[i("div",vh,[i("div",null,p(t.__("Your usage limit has been reached. Please upgrade your plan to continue using.")),1),i("button",{type:"button",onClick:e[0]||(e[0]=g=>{this.clickOpenPage(this.constants.extension_pricing)}),class:"ait-mt-3 ait-text-white ait-bg-green-700 hover:ait-bg-green-800 focus:ait-outline-none focus:ait-ring-4 focus:ait-ring-green-300 ait-font-medium ait-rounded-full ait-text-sm ait-px-5 ait-py-1 ait-text-center ait-ml-5 ait-mr-2 dark:ait-bg-green-600 dark:hover:ait-bg-green-700 dark:focus:ait-ring-green-800 aitopia-pricing"},p(t.__("Upgrade")),1)])])):d.role=="error"?(o(),l("div",yh,[i("div",xh,p(d.item),1)])):f("",!0)],8,ph))),128))],8,hh)):(o(),l("div",uh,p(t.__("Loading...")),1))],2)}const Ch=L(ch,[["render",kh]]),$h=q({name:"AiReplySettingsPanel",extends:H}),Lh={class:"ait-text-sm ait-font-medium ait-text-neutral-500 dark:ait-text-neutral-200 ait-cursor-pointer hover:ait-text-neutral-600 dark:hover:ait-text-neutral-300 ait-flex ait-items-center ait-gap-1 ait-p-2 ait-rounded-lg ait-bg-neutral-100 dark:ait-bg-neutral-800 ait-transition ait-duration-200 ait-ease-in-out"},Sh={key:0,id:"ait-prompt-container",class:"ait-mb-3 ait-mx-2 ait-px-1 ait-h-full"},Mh={class:"ait-grid ait-gap-2 ait-grid-cols-1"},Hh={class:"ait-col-span-1 ait-relative"},Th=["for","innerHTML"],Uh=["name","id","onUpdate:modelValue","placeholder","onChange"],Ph=["selected","value","innerHTML"],Ah=["type","placeholder","name","onUpdate:modelValue","onChange","value"],Ih=["name","onUpdate:modelValue","placeholder","onChange"],Eh={key:0,class:"ait-flex ait-flex-wrap ait-gap-[6px] ait-mt-1 ait-py-[4px] ait-rounded-md"},jh={key:0,class:"ait-relative"},Vh={class:"ait-flex ait-items-center ait-gap-1 ait-leading-none ait-cursor-pointer ait-transition-all ait-duration-200"},Rh=["value","name","onUpdate:modelValue","id","onChange","checked"],zh=["for","innerHTML"];function Bh(t,e,a,n,s,c){const u=y("PopoverButton"),d=y("PopoverPanel"),h=y("Popover");return o(),E(h,null,{default:S(()=>[m(u,null,{default:S(()=>[i("span",Lh,p(t.__("Reply Settings")),1)]),_:1}),m(O,{"enter-active-class":"ait-transition ait-duration-200 ait-ease-out","enter-from-class":"ait-translate-y-1 ait-opacity-0","enter-to-class":"ait-translate-y-0 ait-opacity-100","leave-active-class":"ait-transition ait-duration-150 ait-ease-in","leave-from-class":"ait-translate-y-0 ait-opacity-100","leave-to-class":"ait-translate-y-1 ait-opacity-0"},{default:S(()=>[m(d,{class:"ait-absolute ait-origin-bottom-right -ait-left-[410px] ait-p-3 ait-w-[400px] dark:ait-bg-neutral-800 ait-bg-white ait-bottom-5 ait-right-5 ait-z-[9999] ait-border-[1px] dark:ait-border-neutral-700 ait-border-neutral-50 ait-max-w-md ait-transform ait-rounded-lg ait-shadow-xl"},{default:S(()=>[this.ai_prompts&&t.Helpers.notUndefined(this,"selected_write.id")!=null?(o(),l("div",Sh,[i("div",Mh,[t.Helpers.notUndefined(this,"selected_write.settings")!=null?(o(!0),l(x,{key:0},M(this.selected_write.settings,(g,r)=>(o(),l(x,null,[(o(!0),l(x,null,M(g,w=>(o(),l(x,null,[(o(!0),l(x,null,M(w,(b,v,k)=>(o(),l("div",Hh,[t.Helpers.notUndefined(b,"label")||t.Helpers.notUndefined(b,"label_before")?(o(),l("label",{key:0,for:`${v}-_-${this.selected_write.id}_${r}`,class:"ait-inline-flex ait-gap-2 ait-p-1 ait-m-1 ait-text-neutral-500 dark:ait-text-neutral-200",innerHTML:(t.Helpers.notUndefined(this,t.Helpers.notUndefined(b,"label"))?(t.Helpers.notUndefined(this,t.Helpers.notUndefined(b,"label_before"))?t.Helpers.notUndefined(this,t.Helpers.notUndefined(b,"label_before"))+" ":"")+t.__(t.Helpers.notUndefined(this,t.Helpers.notUndefined(b,"label"))):(t.Helpers.notUndefined(b,"label_before")?t.Helpers.notUndefined(b,"label_before")+" ":"")+t.__(t.Helpers.notUndefined(b,"label")))+":"},null,8,Th)):f("",!0),t.Helpers.notUndefined(b,"type")=="select"?P((o(),l("select",{key:1,name:`${v}-_-${this.selected_write.id}_${r}`,id:`${v}-_-${this.selected_write.id}_${r}`,"onUpdate:modelValue":$=>this.prompt_settings[`${v}-_-${this.selected_write.id}_${r}`]=$,placeholder:t.__(t.Helpers.notUndefined(b,"placeholder")),onChange:$=>{this.prompt_settings[`${v}-_-${this.selected_write.id}_${r}`]=$.target.value,this.changeStorage(`prompt_settings.${v}-_-${this.selected_write.id}_${r}`,this.prompt_settings[`${v}-_-${this.selected_write.id}_${r}`],!1)},class:C((t.Helpers.notUndefined(b,"class")??"")+" ait-block ait-w-full ait-p-2 ait-text-md ait-text-neutral-900 ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-neutral-100 focus:ait-border-green-500 dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:ait-focus:border-green-500")},[t.Helpers.notUndefined(this,t.Helpers.notUndefined(b,"model"))?(o(!0),l(x,{key:0},M(t.Helpers.notUndefined(this,t.Helpers.notUndefined(b,"model")),($,B)=>(o(),l("option",{selected:t.Helpers.vueDefaultChecker(this,`prompt_settings.${v}-_-${this.selected_write.id}_${r}`,$,b),value:t.Helpers.notUndefined($,t.Helpers.notUndefined(b,"model_prefix")),class:"ait-text-md ait-p-2",innerHTML:(t.Helpers.notUndefined($,t.Helpers.notUndefined(b,"model_element_before"))??null?(t.Helpers.notUndefined($,t.Helpers.notUndefined(b,"model_element_before"))??null)+" ":"")+(t.Helpers.notUndefined(b,"no_translate")?t.Helpers.notUndefined($,t.Helpers.notUndefined(b,"model_element")):t.__(t.Helpers.notUndefined($,t.Helpers.notUndefined(b,"model_element"))))},null,8,Ph))),256)):f("",!0)],42,Uh)),[[W,this.prompt_settings[`${v}-_-${this.selected_write.id}_${r}`]]]):t.Helpers.notUndefined(b,"type")=="input"?P((o(),l("input",{key:2,type:t.Helpers.notUndefined(b,"input_type")??"text",placeholder:t.__(t.Helpers.notUndefined(b,"placeholder")),name:`${v}-_-${this.selected_write.id}_${r}`,"onUpdate:modelValue":$=>this.prompt_settings[`${v}-_-${this.selected_write.id}_${r}`]=$,onChange:$=>{this.prompt_settings[`${v}-_-${this.selected_write.id}_${r}`]=$.target.value,this.changeStorage(`prompt_settings.${v}-_-${this.selected_write.id}_${r}`,this.prompt_settings[`${v}-_-${this.selected_write.id}_${r}`],!1)},class:C((t.Helpers.notUndefined(b,"class")??"")+" ait-block ait-w-full ait-p-2 ait-text-md ait-text-neutral-900 ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-neutral-100 focus:ait-border-green-500 dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:ait-focus:border-green-500"),value:t.Helpers.vueDefaultChecker(this,`prompt_settings.${v}-_-${this.selected_write.id}_${r}`,b,b,null,!1)},null,42,Ah)),[[it,this.prompt_settings[`${v}-_-${this.selected_write.id}_${r}`]]]):t.Helpers.notUndefined(b,"type")=="textarea"?P((o(),l("textarea",{key:3,name:`${v}-_-${this.selected_write.id}_${r}`,"onUpdate:modelValue":$=>this.prompt_settings[`${v}-_-${this.selected_write.id}_${r}`]=$,placeholder:t.__(t.Helpers.notUndefined(b,"placeholder")),onChange:$=>{this.prompt_settings[`${v}-_-${this.selected_write.id}_${r}`]=$.target.value,this.changeStorage(`prompt_settings.${v}-_-${this.selected_write.id}_${r}`,this.prompt_settings[`${v}-_-${this.selected_write.id}_${r}`],!1)},class:C((t.Helpers.notUndefined(b,"class")??"")+" ait-h-[112px] ait-resize-none ait-block ait-p-2.5 ait-w-full ait-text-xs ait-text-neutral-900 ait-bg-neutral-50 ait-rounded-lg ait-border ait-border-neutral-300 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] focus:ait-border-[var(--ait-tab-menu-active-bg-color)] dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] dark:focus:ait-border-[var(--ait-tab-menu-active-bg-color)]"),rows:"4"},p(t.Helpers.vueDefaultChecker(this,`prompt_settings.${v}-_-${this.selected_write.id}_${r}`,t.prompt_settings,b,null,!1)),43,Ih)),[[z,this.prompt_settings[`${v}-_-${this.selected_write.id}_${r}`]]]):f("",!0),t.Helpers.notUndefined(b,"type")=="radio"?(o(),l(x,{key:4},[t.Helpers.notUndefined(this,t.Helpers.notUndefined(b,"model"))?(o(),l("div",Eh,[(o(!0),l(x,null,M(t.Helpers.notUndefined(this,t.Helpers.notUndefined(b,"model")),($,B)=>(o(),l(x,null,[!t.Helpers.notUndefined(b,"indexof")||Object.values(t.Helpers.notUndefined(b,"indexof")??{}).indexOf(t.Helpers.notUndefined($,t.Helpers.notUndefined(b,"model_prefix")))!=-1?(o(),l("div",jh,[i("div",Vh,[P(i("input",{type:"radio",class:"ait-hidden ait-peer",required:"",value:t.Helpers.notUndefined($,t.Helpers.notUndefined(b,"model_prefix")),name:`${v}-_-${this.selected_write.id}_${r}`,"onUpdate:modelValue":D=>this.prompt_settings[`${v}-_-${this.selected_write.id}_${r}`]=D,id:`${v}-_-${this.selected_write.id}_${r}_${t.Helpers.notUndefined($,t.Helpers.notUndefined(b,"model_prefix"))}`,onChange:D=>{this.prompt_settings[`${v}-_-${this.selected_write.id}_${r}`]=D.target.value,this.changeStorage(`prompt_settings.${v}-_-${this.selected_write.id}_${r}`,this.prompt_settings[`${v}-_-${this.selected_write.id}_${r}`],!1)},checked:t.Helpers.vueDefaultChecker(this,`prompt_settings.${v}-_-${this.selected_write.id}_${r}`,$,b)},null,40,Rh),[[X,this.prompt_settings[`${v}-_-${this.selected_write.id}_${r}`]]]),i("label",{for:`${v}-_-${this.selected_write.id}_${r}_${t.Helpers.notUndefined($,t.Helpers.notUndefined(b,"model_prefix"))}`,class:C((t.Helpers.notUndefined(b,"class")??"")+(t.Helpers.vueDefaultChecker(this,`prompt_settings.${v}-_-${this.selected_write.id}_${r}`,$,b)?" ait-checked ":"")+" ait-inline-flex ait-items-center ait-justify-between ait-gap-2 ait-py-1 ait-px-2 ait-text-neutral-500 ait-bg-white ait-border ait-border-neutral-200 ait-rounded-lg ait-cursor-pointer dark:hover:ait-text-neutral-300 dark:ait-border-neutral-700 dark:peer-checked:ait-text-[var(--ait-tab-menu-active-bg-color)] peer-checked:ait-border-[var(--ait-tab-menu-active-bg-color)] peer-checked:ait-text-[var(--ait-tab-menu-active-bg-color)] hover:ait-text-neutral-600 hover:ait-bg-neutral-100 dark:ait-text-neutral-400 dark:ait-bg-neutral-800 dark:hover:ait-bg-neutral-700"),innerHTML:(t.Helpers.notUndefined($,t.Helpers.notUndefined(b,"model_element_before"))??null?(t.Helpers.notUndefined($,t.Helpers.notUndefined(b,"model_element_before"))??null)+" ":"")+(t.Helpers.notUndefined(b,"no_translate")?t.Helpers.notUndefined($,t.Helpers.notUndefined(b,"model_element")):t.__(t.Helpers.notUndefined($,t.Helpers.notUndefined(b,"model_element"))))},null,10,zh)])])):f("",!0)],64))),256))])):f("",!0)],64)):f("",!0)]))),256))],64))),256))],64))),256)):f("",!0)])])):f("",!0)]),_:1})]),_:1})]),_:1})}const qh=L($h,[["render",Bh]]),Oh={name:"ShortcutRecorder",extends:H,props:{label:{type:String},shortcutKey:{type:String}},data(){return{shortcutKeys:{ctrl:!1,shift:!1,alt:!1,meta:!1,key:""},startRecording:!1}},mounted(){if(this.shortcutKey){const e=this.settings[this.shortcutKey].toLowerCase().split("+");this.shortcutKeys.ctrl=e.includes("ctrl"),this.shortcutKeys.shift=e.includes("shift"),this.shortcutKeys.alt=e.includes("alt"),this.shortcutKeys.meta=e.includes("meta"),this.shortcutKeys.key=e[e.length-1]}},computed:{displayShortcut(){const t=[];return this.shortcutKeys.ctrl&&t.push("ctrl"),this.shortcutKeys.shift&&t.push("shift"),this.shortcutKeys.alt&&t.push("alt"),this.shortcutKeys.meta&&t.push("meta"),this.shortcutKeys.key&&t.push(this.shortcutKeys.key),t.join("+")}},methods:{keydownHandler(t){this.shortcutKeys.ctrl=t.ctrlKey,this.shortcutKeys.shift=t.shiftKey,this.shortcutKeys.alt=t.altKey,this.shortcutKeys.meta=t.metaKey,["Control","Shift","Alt","Meta"].indexOf(t.key)===-1&&(t.preventDefault(),this.shortcutKeys.key=t.key.toUpperCase())},onClick(){this.startRecording=!0,this.$nextTick(()=>{this.$refs.shortcutInput.focus()})},cancel(){this.startRecording=!1},save(){this.changeStorage(`settings.${this.shortcutKey}`,this.displayShortcut,!0),this.startRecording=!1}}},Dh={class:"ait-p-5 ait-w-full ait-rounded-lg ait-bg-neutral-50 dark:ait-bg-neutral-800"},Fh={class:"ait-flex ait-items-center ait-w-full"},Zh={class:"ait-relative ait-inline-flex ait-justify-between ait-w-full ait-items-center ait-cursor-pointer"},Wh={class:"ait-mr-5"},Nh={class:"ait-font-bold"},Kh={class:"ait-relative ait-flex ait-justify-start ait-items-center ait-gap-2"},Gh=["value"];function Yh(t,e,a,n,s,c){const u=y("font-awesome-icon");return o(),l("div",Dh,[i("div",Fh,[i("div",Zh,[i("div",Wh,[i("div",Nh,p(a.label),1)]),i("div",Kh,[s.startRecording?(o(),l(x,{key:0},[i("button",{class:"ait-text-black dark:ait-text-white ait-bg-gray-100 ait-font-medium ait-rounded-lg ait-text-md ait-px-5 ait-py-2 dark:ait-bg-gray-800",onClick:e[0]||(e[0]=(...d)=>c.cancel&&c.cancel(...d))},p(t.__("Cancel")),1),i("button",{class:"ait-text-white ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-bg-green-800 focus:ait-ring-4 focus:ait-outline-none focus:ait-ring-green-300 ait-font-medium ait-rounded-lg ait-text-md ait-px-5 ait-py-2 dark:ait-bg-green-800 dark:hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] dark:focus:ait-ring-green-800",onClick:e[1]||(e[1]=(...d)=>c.save&&c.save(...d))},p(t.__("Save")),1)],64)):f("",!0),i("input",{ref:"shortcutInput",type:"text",placeholder:"Type a shortcut",class:"ait-capitalize ait-block ait-w-full ait-p-2 ait-text-sm ait-text-neutral-900 ait-border ait-border-neutral-300 ait-rounded-lg ait-bg-neutral-50 focus:ait-ring-green-500 focus:ait-border-green-500 dark:ait-bg-neutral-700 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:focus:ait-ring-green-500 dark:focus:ait-border-green-500",onKeydown:e[2]||(e[2]=(...d)=>c.keydownHandler&&c.keydownHandler(...d)),value:c.displayShortcut,onClick:e[3]||(e[3]=(...d)=>c.onClick&&c.onClick(...d)),readonly:""},null,40,Gh),s.startRecording?f("",!0):(o(),l("button",{key:1,onClick:e[4]||(e[4]=(...d)=>c.onClick&&c.onClick(...d))},[m(u,{icon:"fa-solid fa-edit",class:"ait-w-5 ait-h-5"})]))])])])])}const Qh=L(Oh,[["render",Yh]]),Xh={extends:H,mounted(){this.changeSectionsRoundedValue()},methods:{toggleHistory(){this.showHistorySideBar=!this.showHistorySideBar,this.changeSectionsRoundedValue()},changeSectionsRoundedValue(){const t=document.getElementById("ait-tab-0-chat");t&&(this.showHistorySideBar?(t.classList.remove("ait-rounded-l-lg"),t.classList.remove("lg:ait-rounded-r-lg"),t.classList.add("ait-rounded-r-none")):(t.classList.remove("ait-rounded-r-none"),t.classList.add("ait-rounded-l-lg"),t.classList.add("lg:ait-rounded-r-lg")))}}},Jh={id:"ait-tab-0-chat",class:"ait-flex-initial ait-w-full ait-mr-0 ait-show"},tp={class:"ait-flex ait-flex-row ait-responsive-zoom ait-justify-between"},ep={class:"ait-flex"},ip={class:"ait-flex ait-mr-5"},ap={class:"ait-leading-[50px] ait-text-2xl"},sp={class:"ait-flex ait-items-center ait-max-h-[50px]"},op={class:"ait-whitespace-nowrap ait-flex ait-items-center ait-space-x-2 ait-bg-transparent hover:ait-bg-[var(--ait-link-color)] ait-transition-all ait-rounded-full ait-p-1 ait-px-2"},np=i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true",class:"ait-w-4 ait-h-4 dark:ait-text-gray-200"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),lp=i("div",{class:"ait-py-1 lg:ait-py-2"},[i("hr")],-1),rp={id:"aitopia-sidebar"},dp={id:"ai-sidebar",class:"ait-flex ait-w-full ait-h-full ait-overflow-hidden"},cp={class:"ait-flex ait-flex-col ait-w-full"};function up(t,e,a,n,s,c){const u=y("SvgLogo"),d=y("InnerContentView");return o(),l("div",Jh,[i("div",tp,[i("div",ep,[i("div",ip,[m(u,{name:"logo",className:"ait-w-8 ait-h-8 ait-mt-2 ait-mr-2 lg:ait-hidden"}),i("h1",ap,p(t.__("Chat")),1)])]),i("div",sp,[i("button",op,[np,i("span",{class:"ait-text-sm dark:ait-text-gray-200 ait-whitespace-nowrap",onClick:e[0]||(e[0]=h=>this.newChat())},p(t.__("New Conversation")),1)]),i("button",{type:"button",class:"ait-ml-3 lg:ait-ml-4 svg-logo",onClick:e[1]||(e[1]=h=>{this.show_history_sidebar=!0})},[m(u,{name:"history_icon",className:"ait-h-6 ait-w-6"})])])]),lp,i("div",rp,[i("div",dp,[i("div",cp,[m(d,{mode:"full"})])])])])}const hp=L(Xh,[["render",up]]),pp={extends:H,data(){return{image_ai_models:{StableDiffusion:"Stable Diffusion"},selectedAIModel:"StableDiffusion"}},methods:{onEditToolsClick(){this.showEditToolUploadModal&&(this.showEditToolUploadModal=!1),localStorage.setItem("reference_edit_tool_image",null),localStorage.setItem("is_edit_modal_redirected_from_painter","1"),this.showEditToolsModal=!0},toggleImageChatSettingsSection(){const t=document.getElementById("full-screen-image-settings");if(t){if(t.classList.contains("ait-show")){t.classList.remove("ait-show"),t.classList.add("ait-hide"),this.changeSectionsRoundedValue(t);return}t.classList.contains("ait-hide")&&(t.classList.remove("ait-hide"),t.classList.add("ait-show"),this.changeSectionsRoundedValue(t))}},changeSectionsRoundedValue(t){const e=document.getElementById("ait-tab-0-image");if(!(!e&&!t)){if(t.classList.contains("ait-show")){e.classList.remove("ait-rounded-r-lg"),e.classList.add("ait-rounded-r-none");return}e.classList.remove("ait-rounded-r-none"),e.classList.add("ait-rounded-r-lg")}}}},gp={id:"ait-tab-0-image",class:"ait-flex-initial ait-w-full ait-mr-0 ait-show"},fp={class:"ait-flex ait-responsive-zoom ait-flex-row ait-justify-between"},mp={class:"ait-grid ait-grid-cols-1 lg:ait-grid-cols-2"},_p={class:"ait-flex"},wp={class:"ait-leading-[50px] ait-text-2xl"},bp={class:"ait-hidden lg:ait-flex lg:ait-ml-2 ait-items-center ait-space-x-3 ait-text-sm ait-relative dark:ait-text-neutral-200 ait-border ait-rounded-xl ait-cursor-pointer"},vp=["value"],yp={class:"ait-flex ait-flex-row ait-items-center ait-justify-center"},xp={class:"max-lg:ait-hidden ait-text-white"},kp={class:"max-lg:ait-hidden ait-text-white"},Cp=i("div",{class:"ait-py-1 lg:ait-py-2"},[i("hr")],-1),$p={id:"aitopia-sidebar"},Lp={id:"ai-sidebar",class:"ait-flex ait-w-full ait-h-full ait-overflow-hidden"},Sp={class:"ait-flex ait-flex-col ait-w-full"},Mp={id:"full-screen-image-settings",class:"max-lg:ait-hidden ait-flex-none ait-w-[400px]"},Hp={class:"ait-rounded-l-none ait-bg-[var(--ait-option-card-bg-color)] ait-overflow-y-auto ait-ml-0 ait-h-full"},Tp=i("div",{class:"ait-font-bold ait-text-xl ait-px-5 ait-pb-4"},"Options",-1);function Up(t,e,a,n,s,c){const u=y("SvgLogo"),d=y("svg-logo"),h=y("Painter"),g=y("ImageChatSettings");return o(),l("div",gp,[i("div",fp,[i("div",mp,[i("div",_p,[m(u,{name:"logo",className:"ait-w-8 ait-h-8 ait-mt-2 ait-mr-2 lg:ait-hidden"}),i("h1",wp,p(t.__("Image")),1)]),i("label",bp,[P(i("select",{name:"choose_ai_model",id:"choose_ai_model",class:"ait-bg-transparent ait-w-fit ait-outline-none ait-p-1.5",style:{"-webkit-appearance":"none!important",appearance:"none!important"},"onUpdate:modelValue":e[0]||(e[0]=r=>s.selectedAIModel=r),onChange:e[1]||(e[1]=r=>this.changeStorage("settings.image_ai_model",s.selectedAIModel??"Stable Diffusion")),disabled:""},[(o(!0),l(x,null,M(this.image_ai_models,(r,w)=>(o(),l("option",{value:w},p(r),9,vp))),256))],544),[[W,s.selectedAIModel]])])]),i("div",yp,[i("button",{onClick:e[2]||(e[2]=(...r)=>c.onEditToolsClick&&c.onEditToolsClick(...r)),type:"button",style:{"border-radius":"24px !important"},class:"ait-whitespace-nowrap ait-flex ait-text-white ait-font-bold ait-py-2 ait-px-4 hover:ait-opacity-90 active:ait-opacity-80 ait-bg-[var(--ait-tab-menu-active-orange-bg-color)]"},[m(d,{name:"magic_wand"}),i("span",xp,p(t.__("Editing Tools")),1)]),i("button",{onClick:e[3]||(e[3]=r=>this.newChat(null,"ai_single",t.Helpers.SHA1("image"))),type:"button",style:{"border-radius":"24px !important"},class:"ait-whitespace-nowrap ait-flex ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-text-white ait-font-bold ait-py-2 ait-px-4 ait-ml-2 hover:ait-opacity-90 active:ait-opacity-80"},[m(d,{class:"lg:ait-mr-1",name:"reference_image_icon"}),i("span",kp,p(t.__("New Image")),1)]),i("button",{type:"button",onClick:e[4]||(e[4]=(...r)=>c.toggleImageChatSettingsSection&&c.toggleImageChatSettingsSection(...r)),class:"ait-hidden lg:ait-block lg:ait-ml-4 svg-logo"},[m(d,{id:"image_chat_settings_icon",name:"image_chat_settings_icon"})]),i("button",{type:"button",class:"ait-ml-3 lg:ait-ml-4 svg-logo",onClick:e[5]||(e[5]=r=>{this.show_history_sidebar=!0})},[m(u,{name:"history_icon",className:"ait-h-6 ait-w-6"})])])]),Cp,i("div",$p,[i("div",Lp,[i("div",Sp,[m(h,{mode:"full"})]),i("div",Mp,[i("div",Hp,[Tp,m(g,{mode:"full"})])])])])])}const Pp=L(pp,[["render",Up]]),Ap={extends:H,mounted(){this.changeSectionsRoundedValue()},methods:{toggleHistory(){this.showHistorySideBar=!this.showHistorySideBar,this.changeSectionsRoundedValue()},changeSectionsRoundedValue(){const t=document.getElementById("ait-tab-0-chat");t&&(this.showHistorySideBar?(t.classList.remove("ait-rounded-r-lg"),t.classList.add("ait-rounded-r-none")):(t.classList.remove("ait-rounded-r-none"),t.classList.add("ait-rounded-r-lg")))}}},Ip={id:"ait-tab-0-web_search",class:"ait-flex-initial ait-w-full ait-mr-0 ait-show"},Ep={class:"ait-flex ait-flex-row ait-responsive-zoom ait-justify-between"},jp={class:"ait-flex"},Vp={class:"ait-flex ait-mr-5"},Rp={class:"ait-leading-[50px] ait-text-2xl"},zp={class:"ait-flex ait-items-center ait-max-h-[50px]"},Bp={class:"ait-whitespace-nowrap ait-flex ait-items-center ait-space-x-2 ait-bg-transparent hover:ait-bg-[var(--ait-link-color)] ait-transition-all ait-rounded-full ait-p-1 ait-px-2"},qp=i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true",class:"ait-w-4 ait-h-4 dark:ait-text-gray-200"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),Op=i("div",{class:"ait-py-1 lg:ait-py-2"},[i("hr")],-1),Dp={id:"aitopia-sidebar"},Fp={id:"ai-sidebar",class:"ait-flex ait-w-full ait-h-full ait-overflow-hidden"},Zp={class:"ait-flex ait-flex-col ait-w-full"};function Wp(t,e,a,n,s,c){const u=y("SvgLogo"),d=y("InnerContentView");return o(),l("div",Ip,[i("div",Ep,[i("div",jp,[i("div",Vp,[m(u,{name:"logo",className:"ait-w-8 ait-h-8 ait-mt-2 ait-mr-2 lg:ait-hidden"}),i("h1",Rp,p(t.__("Search")),1)])]),i("div",zp,[i("button",Bp,[qp,i("span",{class:"ait-text-sm dark:ait-text-gray-200",onClick:e[0]||(e[0]=h=>this.newChat())},p(t.__("New Conversation")),1)])])]),Op,i("div",Dp,[i("div",Fp,[i("div",Zp,[m(d,{mode:"full",headerMode:"search",needUpgrade:this.storage.Local.plan=="Free"},null,8,["needUpgrade"])])])])])}const Np=L(Ap,[["render",Wp]]),Kp=q({extends:H,name:"UserInfoSection",data(){return{queryTitle:null}},methods:{getQueryTitle(){return this.credit_model=="image"?(this.queryTitle="Image Queries",this.queryTitle):this.queryTitle="Text Queries"},checkEmailLength(t){return t&&t.length>18?`${t.substring(0,18)}...`:t}}}),Gp={"data-ait-dropdown-toggle":"ait-invite-friends",class:"ait-hidden ait-p-3 ait-rounded-lg ait-mx-[12px] ait-bg-cover ait-items-center ait-justify-center ait-bg-no-repeat lg:ait-grid ait-grid-flow-col ait-content-center ait-gap-[5px] ait-text-xs ait-leading-4 ait-align-middle ait-cursor-pointer hover:ait-opacity-90 active:ait-opacity-80 ait-text-white ait-bg-gradient-to-r ait-from-[#01a77d] ait-to-[#60a5fa]",style:{"grid-auto-columns":"minmax(min-content, max-content)","text-shadow":"rgba(0, 0, 0, 0.3) 1px 1px 1px"}},Yp={class:"ait-hidden ait-text-white lg:ait-flex ait-align-text-bottom ait-text-xs"},Qp={class:"ait-hidden lg:ait-block ait-w-full ait-py-5 ait-px-6 ait-mb-4 ait-bg-[var(--ait-option-card-bg-color)] ait-mx-auto"},Xp={class:"ait-block dark:ait-text-white ait-text-sm ait-font-medium ait-mb-4"},Jp={class:"ait-flex ait-flex-col"},t3={class:"ait-flex ait-flex-row ait-justify-between"},e3={class:"ait-block dark:ait-text-white ait-text-xs ait-font-small ait-mb-2"},i3={class:"ait-block dark:ait-text-white ait-text-xs ait-font-small ait-mb-2"},a3={class:"ait-w-full"},s3={class:"ait-w-full ait-bg-gray-200 ait-rounded-full ait-h-2.5 ait-mb-4 dark:ait-bg-gray-700"},o3={class:"ait-flex ait-flex-row ait-justify-between"},n3={class:"ait-block dark:ait-text-white ait-text-xs ait-font-small ait-mb-2"},l3={class:"ait-block dark:ait-text-white ait-text-xs ait-font-small ait-mb-2"},r3={class:"ait-w-full"},d3={class:"ait-w-full ait-bg-gray-200 ait-rounded-full ait-h-2.5 ait-mb-4 dark:ait-bg-gray-700"},c3={title:"Go premium to get more",type:"button",class:"aitopia-pricing ait-relative ait-my-2 ait-h-8 ait-w-full ait-text-white ait-border-none ait-rounded-full ait-text-wrap ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-opacity-90 active:ait-opacity-80"},u3={class:"relative ait-text-sm ait-text-white"},h3={class:"ait-flex ait-flex-row ait-justify-between ait-mt-3"},p3={class:"ait-cursor-pointer ait-flex ait-flex-row aitopia-login"},g3={class:"ait-flex ait-cursor-pointer"},f3={class:"ait-switchbar-tab-item ait-rounded-lg ait-cursor-pointer arc-edge aitopia-options ait-ml-1"},m3={class:"ait-cursor-pointer ait-flex ait-flex-row"},_3={class:"ait-flex ait-ml-2"},w3={class:"bottom-area ait-show lg:ait-hidden lg:ait-mt-auto ait-flex ait-flex-col ait-justify-center ait-items-center ait-gap-3 ait-mb-[10px] lg:ait-mb-[14px] lg:ait-mb-[4px]"},b3={class:"ait-cursor-pointer ait-flex ait-flex-row"},v3={class:"ait-flex ait-flex-col ait-gap-1 ait-cursor-pointer"},y3={class:"ait-switchbar-tab-item ait-rounded-lg ait-p-1 ait-items-center ait-flex ait-flex-col ait-cursor-pointer","data-ait-dropdown-toggle":"ait-invite-friends"},x3={class:"ait-cursor-pointer ait-text-center ait-text-balance",style:{"font-size":"10px"}},k3={class:"ait-switchbar-tab-item ait-rounded-lg ait-p-1 ait-min-h-[40px] ait-justify-center ait-items-center ait-flex ait-flex-col ait-cursor-pointer"},C3={class:"ait-flex ait-flex-col ait-gap-1 ait-cursor-pointer ait-w-full aitopia-options"},$3={class:"ait-switchbar-tab-item ait-rounded-lg ait-p-1 ait-min-h-[40px] ait-justify-center ait-items-center ait-flex ait-flex-col ait-cursor-pointer"},L3={class:"ait-flex ait-flex-col ait-gap-1 ait-cursor-pointer ait-w-full aitopia-login"},S3={class:"ait-switchbar-tab-item ait-rounded-lg ait-p-1 ait-min-h-[40px] ait-justify-center ait-items-center ait-flex ait-flex-col ait-cursor-pointer"};function M3(t,e,a,n,s,c){const u=y("svg-logo"),d=y("font-awesome-icon");return o(),l(x,null,[i("div",Gp,[m(u,{className:"ait-w-5 ait-h-5",name:"gift_white_icon"}),i("p",Yp,p(t.__("Friends & Earn Credits")),1)]),i("div",Qp,[i("label",Xp,p(t.__(this.getQueryTitle())),1),i("div",Jp,[i("div",t3,[i("label",e3,p(t.__("Plan: ")),1),i("label",i3,p(t.Helpers.notUndefined(this.credit_details,`${this.credit_model.replace(/\./g,"###")}.balance`)>=0?t.Helpers.notUndefined(this.credit_details,`${this.credit_model.replace(/\./g,"###")}.balance`):"∞")+" "+p(t.__("left")),1)]),i("div",a3,[i("div",s3,[i("div",{class:"ait-bg-green-600 ait-h-2.5 ait-rounded-full dark:ait-bg-green-500",style:V(`max-width:100%;transition: width 2s;width:${t.Helpers.notUndefined(this.credit_details,`${this.credit_model.replace(/\./g,"###")}.balance`)/t.Helpers.notUndefined(this.credit_details,`${this.credit_model.replace(/\./g,"###")}.credit`)*100}%`)},null,4)])]),i("div",o3,[i("label",n3,p(t.__("Extra: ")),1),i("label",l3,p(t.Helpers.notUndefined(this.credit_details,`${this.credit_model.replace(/\./g,"###")}.extra_credit`)+" "+t.__("left")),1)]),i("div",r3,[i("div",d3,[i("div",{class:"ait-bg-green-600 ait-h-2.5 ait-rounded-full dark:ait-bg-green-500",style:V(`max-width:100%;transition: width 2s;width:${t.Helpers.notUndefined(this.credit_details,`${this.credit_model.replace(/\./g,"###")}.extra_credit`)/100*100}%`)},null,4)])])]),i("button",c3,[i("div",u3,p(t.__("Upgrade Plan")),1)]),i("div",h3,[i("div",p3,[m(d,{icon:"fa-solid fa-user",class:"ait-h-4 ait-w-4 ait-mr-1 ait-cursor-pointer"}),i("label",g3,p(t.checkEmailLength(this.email)),1)]),i("div",f3,[m(d,{icon:"fa-solid fa-gear",class:"ait-h-4 ait-w-4"})])]),this.constants.runtime_id!=null?(o(),l("div",{key:0,class:"ait-flex ait-flex-row ait-justify-between ait-mt-5",onClick:e[0]||(e[0]=h=>{t.Helpers.openPage({url:t.constants.extension_dir+"src/html/setup.html?side-bar-option=true"})})},[i("div",m3,[m(u,{className:"ait-w-4.5 ait-h-4.5",name:"collapse_sidebar_icon"}),i("label",_3,p(t.__("Back to Sidebar")),1)])])):f("",!0)]),i("div",w3,[this.constants.runtime_id!=null?(o(),l("div",{key:0,class:"ait-flex ait-flex-row ait-justify-between ait-mt-5",onClick:e[1]||(e[1]=h=>{t.Helpers.openPage({url:t.constants.extension_dir+"src/html/setup.html?side-bar-option=true"})})},[i("div",b3,[m(u,{className:"ait-w-4.5 ait-h-4.5",name:"collapse_sidebar_icon"})])])):f("",!0),i("div",v3,[i("div",y3,[m(u,{className:"ait-w-4 ait-h-4",name:"gift_icon"}),i("label",x3,p(t.__("Invite & Earn")),1)])]),i("div",{class:"ait-flex ait-flex-col ait-gap-1 ait-cursor-pointer ait-w-full",onClick:e[2]||(e[2]=h=>{t.Helpers.sendMessage("openPage",{url:"./src/html/options.html?mode=contact"})})},[i("div",k3,[m(d,{icon:"fa-solid fa-envelope",class:"ait-h-4 ait-w-4"})])]),i("div",C3,[i("div",$3,[m(d,{icon:"fa-solid fa-gear",class:"ait-h-4 ait-w-4"})])]),i("div",L3,[i("div",S3,[m(d,{icon:"fa-solid fa-user",class:"ait-h-4 ait-w-4"})])])])],64)}const H3=L(Kp,[["render",M3]]),T3={extends:H,async beforeMount(){return await _.getHistories(!0)},data(){return{history_search:null,showHistorySideBar:!1,getHistoryElement:t=>((t=="chat"||t=="search")&&(t="ai_chat"),this.histories==null?{}:typeof this.histories[t]>"u"?{}:this.histories[t]),setHistory:async(t,e)=>{(t=="chat"||t=="search")&&(t="ai_chat");let a=null;if(this.histories[t]){if(typeof this.histories[t][e]<"u"&&(a=this.histories[t][e].id,typeof this.histories[t][e].items>"u")){let s=await _.apiCall("/extensions/app/get_history",{chat_id:a,mode:_.SHA1(t)},"POST");this.histories[t][e]=_.notUndefined(s,"all_histories")??{},this.histories=_.getHistoryFixer(this.histories)}if(t=="ai_chat")this[t]=this.histories[t][e].items,this.ai_chat_ids[t]=this.histories[t][e].id;else{let s=_.SHA1(t);typeof this.ai_single>"u"&&(this.ai_single={}),this.ai_single||(this.ai_single={}),this.ai_single[s]=this.histories[t][e].items,typeof this.ai_chat_ids.ai_single>"u"&&(this.ai_chat_ids.ai_single={}),this.ai_chat_ids.ai_single||(this.ai_chat_ids.ai_single={}),this.ai_chat_ids.ai_single[s]=this.histories[t][e].id}if(!this.ai_chat_ids||Object.keys(this.ai_chat_ids).length==0)return;let n={ai_chat_ids:this.ai_chat_ids};t=="ai_chat"?n.ai_chat=this.ai_chat:n.ai_single=this.ai_single,await _.Browser().storage.local.set(n).then(()=>{this.show_history_sidebar=!1,document.querySelector("#full-screen-history-sidebar").classList.replace("ait-show","ait-hide")})}setTimeout(_.scrollToBottom,50)},removeHistory:(t,e,a)=>{(t=="chat"||t=="search")&&(t="ai_chat"),!(typeof this.histories[t]>"u")&&(typeof this.histories[t][e]>"u"||(delete this.histories[t][e],_.apiCall("/extensions/app/remove_history",{history_id:a},"POST"),_.Browser().storage.local.set({histories:this.histories}),console.log(a)))},selectedHistory:t=>{let e=null,a=this.settings.switchbar;return(a=="chat"||a=="search")&&(a="ai_chat"),a=="ai_chat"?e=this.ai_chat_ids[a]??null:e=_.notUndefined(this.ai_chat_ids,"ai_single."+_.SHA1(a))??null,t==e}}}},U3={key:0,class:"ait-fixed ait-top-0 ait-left-0 ait-w-full ait-h-[var(--ait-height-100)] ait-bg-[rgba(0,0,0,0.4)]"},P3={class:"ait-slider-modal ait-flex-none ait-w-full md:ait-w-[400px] ait-max-w-full ait-h-[var(--ait-height-100)] ait-float-right ait-mb-5"},A3={class:"ait-w-full md:ait-w-[400px] ait-max-w-full ait-bg-[var(--ait-option-card-bg-color)] ait-h-full ait-ml-0 ait-rounded-l-none"},I3={class:"ait-logo ait-flex ait-w-full ait-py-2 ait-border-bottom ait-border-neutral-900"},E3={class:"ait-relative ait-w-full ait-logo-text ait-items-center ait-grid ait-grid-cols-6 ait-px-4"},j3={class:"ait-font-bold ait-text-base ait-col-span-5 ait-pt-2 ait-mb-1"},V3=i("svg",{class:"ait-w-3 ait-h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[i("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),R3=[V3],z3=i("div",{class:"ait-py-1"},[i("hr")],-1),B3={class:"ait-p-4"},q3={class:"ait-search ait-relative ait-w-full"},O3={class:"ait-absolute ait-top-[6px] ait-left-[10px]"},D3={key:0,class:"ait-pb-6 ait-px-4 ait-flex ait-h-[98%] ait-justify-center ait-items-center"},F3={class:"ait-flex ait-flex-col"},Z3=["src"],W3=i("label",{class:"ait-flex ait-justify-center ait-text-base"},"No Data",-1),N3={key:1,class:"ait-pb-6 ait-px-1 ait-flex ait-h-[86%] lg:ait-h-[96%] ait-flex-col ait-overflow-y-auto"},K3={class:"ait-relative ait-history-element"},G3=["onClick","data-id"],Y3={class:"ait-col-span-4 ait-pr-1 ait-leading-6 ait-font-bold ait-truncate"},Q3={class:"ait-text-[10px] ait-leading-6 ait-text-neutral-400 dark:ait-text-neutral-600 ait-truncate"},X3={class:"ait-col-span-5 ait-leading-6 ait-text-xs ait-text-neutral-400 dark:ait-text-neutral-400 ait-truncate"},J3=["onClick"];function t5(t,e,a,n,s,c){const u=y("font-awesome-icon");return this.show_history_sidebar?(o(),l("div",U3,[i("div",P3,[i("div",A3,[i("div",I3,[i("div",E3,[i("div",j3,"History ("+p(Object.keys(t.Helpers.getSearchFilter(this.getHistoryElement(this.settings.switchbar),this.history_search)??{}).length)+")",1),i("button",{type:"button",class:"ait-absolute ait-right-3 ait-text-neutral-400 ait-bg-transparent hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-lg ait-text-sm ait-w-8 ait-h-8 ait-ml-auto ait-inline-flex ait-justify-center ait-items-center dark:hover:ait-bg-neutral-600 dark:hover:ait-text-white",onClick:e[0]||(e[0]=d=>{this.show_history_sidebar=!1})},R3)])]),z3,i("div",B3,[i("div",q3,[i("div",O3,[m(u,{icon:"fa-solid fa-magnifying-glass",class:"ait-h-5 ait-w-5"})]),P(i("input",{"onUpdate:modelValue":e[1]||(e[1]=d=>this.history_search=d),type:"text",class:"ait-block ait-w-full ait-p-2 ait-pl-[40px] ait-text-xs ait-text-neutral-900 ait-border ait-border-neutral-300 ait-rounded-lg ait-bg-neutral-50 focus:ait-ring-green-500 focus:ait-border-green-500 dark:ait-bg-neutral-800 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:focus:ait-ring-green-500 dark:focus:ait-border-green-500"},null,512),[[z,this.history_search]])])]),this.getHistoryElement(this.settings.switchbar)?(o(),l("div",N3,[(o(!0),l(x,null,M(t.Helpers.getSearchFilter(this.getHistoryElement(this.settings.switchbar),this.history_search),(d,h)=>(o(),l("div",K3,[d?(o(),l("div",{key:0,class:C("ait-card ait-m-2 ait-p-2 ait-flex ait-grid ait-bg-neutral-100 dark:ait-bg-neutral-800 ait-grid-cols-5 ait-flex-row ait-justify-between ait-cursor-pointer "+(this.selectedHistory(d.id)?"ait-border-[var(--ait-tab-menu-active-bg-color)] ait-text-[var(--ait-tab-menu-active-bg-color)]":"hover:ait-border-[var(--ait-tab-menu-active-bg-color)] hover:ait-text-[var(--ait-tab-menu-active-bg-color)]")),onClick:g=>this.setHistory(this.settings.switchbar,h),"data-id":d.id??""},[i("span",Y3,p(d.title??d.item),1),i("span",Q3,p(d.updated_date),1),i("span",X3,p(d.short_desc),1)],10,G3)):f("",!0),i("div",{class:"ait-history-trash ait-absolute ait-right-[15px] ait-p-1 ait-bottom-[15px] ait-cursor-pointer",onClick:g=>this.removeHistory(this.settings.switchbar,h,d.id)},[m(u,{icon:"fa-regular fa-trash-can",class:"ait-h-3 ait-w-3"})],8,J3)]))),256))])):(o(),l("div",D3,[i("div",F3,[i("img",{src:`${t.constants.extension_dir}assets/images/no-data-planet.png`,alt:"no data"},null,8,Z3),W3])]))])])])):f("",!0)}const e5=L(T3,[["render",t5]]),i5={extends:H,methods:{getModelByTooltip(t){let e={"GPT-3.5":{detail:"Very fast, great for most everyday tasks.",cost:"Cost 1 Fast Text query."},"GPT-4":{detail:"Most capable model, best for complex tasks requiring advanced reasoning.",cost:"Cost 1 Advanced Text query."},"GPT-4o":{detail:"OpenAI’s newest and most advanced flagship model which can reason across audio, vision, and text in real time.",cost:"Cost 1 Advanced Text query."},"Claude 3 Haiku":{detail:"Anthropic's most compact model, designed for near-instant responsiveness and seamless AI experiences that mimic human interactions",cost:"Cost 1 Fast Text query."},"Claude 3 Sonnet":{detail:"Very fast, great for most everyday tasks.",cost:"Cost 1 Advanced Text query."},"Claude 3 Opus":{detail:"Anthropic's most powerful model, delivering state-of-the-art performance on highly complex tasks and demonstrating fluency and human-like understanding.",cost:"Cost 2 Advanced Text query."},4:{detail:"Google's most balanced model, perfectly blending capability with efficiency.",cost:"Cost 1 Fast Text query."},5:{detail:"Google's latest model, best for complex tasks while maintaining quality.",cost:"Cost 1 Advanced Text query."}};if(typeof e[t]<"u")return'<div class="ait-text-xs"><div class="ait-break-words ait-whitespace-pre-wrap ait-text-gray-200 dark:ait-text-gray-800">'+_.__(e[t].detail)+'</div><div class="ait-opacity-60 ait-mt-1 ait-text-gray-200 dark:ait-text-gray-800">'+_.__(e[t].cost)+"</div></div>"}}},a5={class:"ait-flex ait-flex-wrap ait-gap-[6px] ait-min-w-[20px] ait-max-w-full ait-place-self-end ait-self-center"},s5={class:"ait-text-xs ait-relative ait-min-w-[20px]","data-ait-dropdown-toggle":"ait-model-dropdown"},o5={class:"ait-flex sait-justify-center sait-items-center ait-cursor-pointer ait-pl-[6px] ait-pr-[5px] ait-py-[7px] ait-leading-4 ait-rounded-3xl ait-gap-[2px] lg:ait-flex ait-items-center lg:ait-ml-4 ait-space-x-1 ait-text-sm ait-relative dark:ait-text-neutral-200 ait-border ait-rounded-xl ait-cursor-pointer"},n5={class:"ait-ai-icon ait-flex ait-justify-center ait-items-center ait-rounded-full ait-h-4 ait-w-4 ait-ml-[1px] ait-mr-[2px]"},l5={class:"ait-flex ait-items-center ait-justify-center ait-rounded-full"},r5={class:"ait-inline-block ait-text-[13px] ait-text-ellipsis ait-whitespace-nowrap ait-overflow-hidden ait-max-w-full"},d5={class:"ait-flex ait-items-end pl-[2px] pr-[2px]"},c5={"aria-hidden":"true",class:"octicon octicon-chevron-down",fill:"currentColor",focusable:"false",height:"12",role:"img",style:{display:"inline-block","user-select":"none","vertical-align":"text-bottom",overflow:"visible"},viewBox:"0 0 12 12",width:"12"},u5=i("path",{d:"M6 8.825c-.2 0-.4-.1-.5-.2l-3.3-3.3c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l2.7 2.7 2.7-2.7c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-3.2 3.2c-.2.2-.4.3-.6.3Z"},null,-1),h5=[u5],p5={class:"ait-model-dropdown ait-z-20 ait-width-full ait-absolute ait-hide ait-w-max ait-min-w-[180px] ait-max-w-[250px] ait-bg-white ait-divide-y ait-divide-neutral-100 ait-rounded-lg ait-shadow dark:ait-bg-neutral-900 dark:ait-divide-neutral-700"},g5={class:"ait-divide-y ait-divide-neutral-100 dark:ait-divide-neutral-700"},f5=["onClick"],m5={class:"ait-w-full"},_5={class:"ait-gap-4 ait-text-neutral-900 dark:ait-text-white ait-text-sm dark:ait-text-neutral-400"},w5={class:"ait-ai-icon ait-flex ait-gap-1 ait-text-[12px]"};function b5(t,e,a,n,s,c){const u=y("svg-logo"),d=y("hover-popover");return o(),l("div",a5,[i("div",s5,[i("div",o5,[i("div",n5,[i("div",l5,[m(u,{className:"ait-w-[16px] ait-h-[16px]",name:t.ModelBySvg(t.Helpers.notUndefined(this.settings,"ai_model"))},null,8,["name"])])]),i("span",r5,p(t.Helpers.notUndefined(this.settings,"ai_model")),1),i("div",d5,[(o(),l("svg",c5,h5))])]),i("div",p5,[i("div",g5,[(o(!0),l(x,null,M(this.ai_models,(h,g)=>(o(),E(d,{"popover-text":this.getModelByTooltip(h),position:"y"},{default:S(()=>[i("div",{class:"ait-flex ait-px-4 ait-py-3 hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700 ait-cursor-pointer",style:V(t.Helpers.notUndefined(this.settings,"ai_model")==h?"background:rgba(1,167,125,.3);":""),onClick:r=>{this.changeStorage("settings.ai_model",h)}},[i("div",m5,[i("div",_5,[i("div",w5,[m(u,{className:"ait-w-[16px] ait-h-[16px]",name:t.ModelBySvg(h)},null,8,["name"]),U(" "+p(h),1)])])])],12,f5)]),_:2},1032,["popover-text"]))),256))])])])])}const v5=L(i5,[["render",b5]]),y5=q({name:"DraggableModal",extends:H,props:["title","status","start_width","start_height","start_left","start_top","id","match_ids"],data(){return{showResponsePopup:this.$props.status??!1,isDraggingResultPopup:!1,dragStartX:0,dragStartY:0,width:this.$props.start_width??"450",height:this.$props.start_height??"250",last_position:{left:0,top:0}}},created(){if(this.$props.id==null)return;let t=this.draggable_modal_history[this.$props.id]??{},e=null;if(t!==null&&(e={},t.status=this.$props.status,t.zindex=2147483647,t.match_ids=[],e=t),this.zindexBuild(),this.$props.start_top&&this.$props.start_top!==null)if(this.$props.start_top.indexOf("%")!==-1){let n=this.$props.start_top.replace("%","");n>0&&(e.top=window.innerHeight*(n/100))}else this.$props.start_top>0&&(e.top=this.$props.start_top);if(this.$props.start_left)if(this.$props.start_left.indexOf("%")!==-1){let n=this.$props.start_left.replace("%","");n>0&&(e.left=window.innerWidth*(n/100))}else this.$props.start_left>0&&(e.left=this.$props.start_left);if(this.$props.start_width)if(this.$props.start_width.indexOf("%")!==-1){let n=this.$props.start_width.replace("%","");n>0&&(e.width=window.innerWidth*(n/100))}else this.$props.start_width>0&&(e.width=this.$props.start_width??this.width);if(this.$props.start_height)if(this.$props.start_height.indexOf("%")!==-1){let n=this.$props.start_height.replace("%","");n>0&&(e.height=window.innerHeight*(n/100))}else this.$props.start_height>0&&(e.height=this.$props.start_height??this.height);let a=[];this.$props.match_ids&&(a=this.$props.match_ids.split(","),e&&(e.match_ids=a)),this.draggable_modal_history[this.$props.id]=Object.assign({id:this.$props.id,width:this.$props.start_width??null,height:this.$props.start_height??null,top:this.$props.start_top??null,left:this.$props.start_left??null,status:this.$props.status??!1,match_ids:a??[],zindex:2147483647},e),typeof e.left<"u"&&delete e.left,typeof e.top<"u"&&delete e.top,this.draggable_modal_history[this.$props.id].top!=null&&window.innerHeight<=this.draggable_modal_history[this.$props.id].top&&(this.draggable_modal_history[this.$props.id].top=this.$props.start_top??0),this.draggable_modal_history[this.$props.id].left!=null&&window.innerWidth<=this.draggable_modal_history[this.$props.id].left&&(this.draggable_modal_history[this.$props.id].left=this.$props.start_left??0),this.draggable_modal_history[this.$props.id].top==null&&(this.draggable_modal_history[this.$props.id].top=window.innerHeight/2-this.height/2-20,this.draggable_modal_history[this.$props.id].top<0&&(this.draggable_modal_history[this.$props.id].top=0)),this.draggable_modal_history[this.$props.id].left==null&&(this.draggable_modal_history[this.$props.id].left=window.innerWidth/2-this.width/2,this.draggable_modal_history[this.$props.id].left<0&&(this.draggable_modal_history[this.$props.id].left=0))},methods:{hideResponsePopup(t=null){this.showResponsePopup=!1,this.draggableModalToggle(t),_.Browser().storage.local.set({draggable_modal_history:this.draggable_modal_history})},startDrag(t){this.zindexBuild(),this.dragStartX=t.clientX-this.draggable_modal_history[this.$props.id].left,this.dragStartY=t.clientY-this.draggable_modal_history[this.$props.id].top,this.draggable_modal_history[this.$props.id].status=!0,window.addEventListener("mousemove",this.doDrag),window.addEventListener("mouseup",this.stopDrag)},zindexBuild(){Object.keys(this.draggable_modal_history).forEach(t=>{this.draggable_modal_history[t].zindex=2147483646})},doDrag(t){var g,r;if(!this.draggable_modal_history[this.$props.id])return;this.last_position={left:this.draggable_modal_history[this.$props.id].left,top:this.draggable_modal_history[this.$props.id].top};let e=t.clientX-this.dragStartX,a=t.clientY-this.dragStartY;t.target.offsetWidth,t.target.offsetHeight;let{width:n,height:s,top:c,left:u}=this.draggable_modal_history[this.$props.id];u=e,c=a,n=Number.parseFloat(((g=document.querySelector(`#ait-modal-${this.$props.id}`))==null?void 0:g.clientWidth.toFixed(4))??n),s=Number.parseFloat(((r=document.querySelector(`#ait-modal-${this.$props.id}`))==null?void 0:r.clientHeight.toFixed(4))??s);let d=Math.max(-1,Math.min(u,window.innerWidth-(u+n))),h=Math.max(-1,Math.min(c,window.innerHeight-(c+s)));(d<0||u<0)&&(d-u<0||u<0?u=this.last_position.left>0?this.last_position.left:0:u=d-u>0?d-u:0),(h<0||c<0)&&(h-c<0||c<0?c=this.last_position.top>0?this.last_position.top:0:c=h-c>0?h-c:0),this.last_position={left:u,top:c},this.draggable_modal_history[this.$props.id]=Object.assign(this.draggable_modal_history[this.$props.id],{top:c,left:u,zindex:2147483647}),this.checkScreenCalbration()},stopDrag(t=null){this.isDraggingResultPopup=!1,window.removeEventListener("mousemove",this.doDrag),window.removeEventListener("mouseup",this.stopDrag),_.Browser().storage.local.set({draggable_modal_history:this.draggable_modal_history})},checkScreenCalbration(){var u,d;let{width:t,height:e,top:a,left:n}=this.draggable_modal_history[this.$props.id];n=Number.parseFloat(n),a=Number.parseFloat(a),t=Number.parseFloat(((u=document.querySelector(`#ait-modal-${this.$props.id}`))==null?void 0:u.clientWidth.toFixed(4))??t),e=Number.parseFloat(((d=document.querySelector(`#ait-modal-${this.$props.id}`))==null?void 0:d.clientHeight.toFixed(4))??e);let s=Math.max(-1,Math.min(n,window.innerWidth-(n+t))),c=Math.max(-1,Math.min(a,window.innerHeight-(a+e)));(s<0||n<0)&&(s-n<0||n<0?n=this.last_position.left>0?this.last_position.left:0:n=s-n>0?s-n:0),(c<0||a<0)&&(c-a<0||a<0?a=this.last_position.top>0?this.last_position.top:0:a=c-a>0?c-a:0),this.last_position={left:n,top:a},this.draggable_modal_history[this.$props.id]=Object.assign(this.draggable_modal_history[this.$props.id],{top:a,left:n})}},beforeDestroy(){window.removeEventListener("keyup",this.handleKeyup)},updated(){this.checkScreenCalbration(),setTimeout(()=>this.checkScreenCalbration(),100)},watch:{popupPosition:{handler:function(t){this.draggable_modal_history[this.$props.id].status||(this.draggable_modal_history[this.$props.id]=Object.assign(this.draggable_modal_history[this.$props.id],{top:t.top-window.scrollY+80,left:t.left-window.scrollX,zindex:2147483647}))},deep:!0},showResponsePopup(t){t?window.addEventListener("keyup",this.handleKeyup):window.removeEventListener("keyup",this.handleKeyup)}}}),x5={class:"aitopia"},k5=["id"],C5={class:"ait-flex ait-flex-col ait-pb-4 ait-justify-start ait-items-center"},$5={class:"ait-flex ait-gap-4 ait-items-center"},L5=["innerHTML"];function S5(t,e,a,n,s,c){const u=y("font-awesome-icon");return t.Helpers.notUndefined(this.draggable_modal_history,`${this.$props.id}.status`)?(o(),E(ft,{key:0,to:"body"},[i("div",x5,[m(O,{name:"fade"},{default:S(()=>[i("div",{ref:"popupRef",id:`ait-modal-${this.$props.id}`,class:"aitopia-context-response-popup-container aitopia-draggable-modal ait-rounded-lg ait-shadow-lg dark:ait-bg-neutral-800 ait-bg-white",style:V([{top:(this.draggable_modal_history[this.$props.id].top??this.last_position.top)+"px",left:(this.draggable_modal_history[this.$props.id].left??this.last_position.left)+"px","z-index":this.draggable_modal_history[this.$props.id].zindex??2147483647},{position:"fixed"}]),onClick:e[2]||(e[2]=R(()=>{},["stop"]))},[i("div",C5,[i("div",{onMousedown:e[1]||(e[1]=(...d)=>t.startDrag&&t.startDrag(...d)),class:"ait-flex ait-justify-between ait-items-center ait-rounded-t-lg ait-w-full ait-px-4 ait-py-2 ait-cursor-move"},[i("div",$5,[t.title?(o(),l("div",{key:0,class:"ait-text-base ait-font-bold ait-select-none ait-h-full ait-w-full",innerHTML:t.title},null,8,L5)):f("",!0)]),i("button",{onClick:e[0]||(e[0]=d=>t.hideResponsePopup(this.$props.id)),class:"ait-flex ait-items-center dark:ait-bg-neutral-900 ait-bg-neutral-50 ait-py-2 ait-px-2 hover:dark:ait-bg-neutral-700 hover:ait-bg-neutral-50 ait-cursor-pointer"},[m(u,{icon:"fa-solid fa-close",class:"ait-w-4 ait-h-4"})])],32),i("div",{class:"ait-px-2 ait-flex ait-flex-col ait-justify-start ait-items-start ait-w-full ait-overflow-auto",style:V(`width:${this.draggable_modal_history[this.$props.id].width}px!important;max-width:${this.draggable_modal_history[this.$props.id].width}px!important;height:${this.draggable_modal_history[this.$props.id].height}px!important;max-height:${this.draggable_modal_history[this.$props.id].height}px!important;`)},[et(t.$slots,"default")],4)])],12,k5)]),_:3})])])):f("",!0)}const M5=L(y5,[["render",S5]]),H5={class:"aitopia"},T5={class:"ait-px-2"},U5={class:"ait-text-neutral-600 ait-text-sm ait-font-semibold ait-px-2"},P5={class:"ait-hover-show",style:{zoom:".9"}},A5={class:"ait-text-neutral-600 ait-text-sm ait-font-semibold ait-px-2"},I5=i("div",{class:"ait-hover-hide",style:{"text-align":"center"}},[i("span",{style:{display:"inline-block",width:"12px",height:"12px","border-radius":"100%",cursor:"pointer","pointer-events":"all"},class:"ait-bg-[--ait-tab-menu-active-bg-color]"})],-1),E5=i("span",{class:"ait-min-h-[180px] ait-max-h-[180px] ait-min-h-[145px] ait-max-h-[145px] ait-min-h-[150px] ait-max-h-[150px] ait-min-h-[160px] ait-h-[160px] ait-max-h-[160px] ait-min-h-[265px] ait-h-[265px] ait-max-h-[265px] ait-hide"},null,-1);function j5(t,e,a,n,s,c){var r,w;const u=y("AiReplyPopup"),d=y("DraggableModal"),h=y("PromptBuilder"),g=y("SvgLogo");return o(),l(x,null,[this.EmailReply.reply_button_container!==null?(o(),E(ft,{key:0,to:this.EmailReply.reply_button_container},[i("div",H5,[m(d,{title:t.__("Email Reply Details"),status:!1,id:"ai-reply-popup",start_width:"500",start_height:"460",start_left:"60%",match_ids:"ai-reply-voice-settings"},{default:S(()=>[m(u)]),_:1},8,["title"]),m(d,{title:t.__("Voice Settings"),status:!1,id:"ai-reply-voice-settings",start_width:"400",start_height:"460",start_left:"35%"},{default:S(()=>[m(h,{data_key:"selected_reply"})]),_:1},8,["title"]),i("div",T5,[i("button",{type:"button",onClick:e[0]||(e[0]=b=>{this.EmailReply.replyButton(this,b),this.draggableModalToggle("ai-reply-popup")}),style:{border:"1px solid #747775"},id:"aitopia-reply-button",class:"ait-h-9 ait-bg-transparent ait-rounded-full ait-cursor-pointer ait-py-1 ait-px-3 hover:ait-bg-neutral-200"},[m(g,{name:"logo",className:"ait-w-5 ait-h-5"}),i("span",U5,p(t.__("AI Reply")),1)])])])],8,["to"])):f("",!0),this.EmailReply.reply_edit_container!==null?(o(),l("div",{key:1,class:"aitopia",id:"aitopia-reply-wrapper-dot",style:V(`bottom: ${((r=this.EmailReply.dot_position)==null?void 0:r.bottom)??"0px"} !important; left: ${((w=this.EmailReply.dot_position)==null?void 0:w.left)??"0px"}; position: fixed; width: 170px;z-index: 999;`)},[i("div",P5,[i("button",{type:"button",onClick:e[1]||(e[1]=b=>{this.EmailReply.replyButton(this,b),this.draggableModalToggle("ai-reply-popup")}),style:{border:"1px solid #747775"},class:"ait-h-9 ait-bg-transparent ait-rounded-full ait-cursor-pointer ait-py-1 ait-px-3 hover:ait-bg-neutral-200"},[m(g,{name:"logo",className:"ait-w-5 ait-h-5"}),i("span",A5,p(t.__("AI Reply")),1)])]),I5],4)):f("",!0),E5],64)}const V5=L(xt,[["render",j5]]);mt.add(Ut,Pt,At,It,Et,jt,Vt,Rt,zt,Bt,qt,Ot,Dt,Ft,Zt,Wt,Nt,Kt,Gt,Yt,Qt,Xt,Jt,te,ee,ie,ae,se);mt.add(oe,ne,le,re,de,ce,ue,he,pe,ge,fe,me);const D5=Object.freeze(Object.defineProperty({__proto__:null,AiReply:V5,AiReplyPopup:dh,AiReplyResponse:Ch,AiReplySettingsPanel:qh,AiResponse:Ai,AiSideBar:Ve,ChooseModel:v5,ContextAIPopup:Q2,ContextAIResponsePopup:Uu,ContextWrapper:P2,Credit:Oa,DraggableModal:M5,EditToolsModal:yn,EditToolsUploadModal:ud,EditToolsUploadModalActionSection:vd,FileButton:G0,FontAwesomeIcon:_e,FullScreenChatSection:hp,FullScreenImageSection:Pp,FullScreenSearchSection:Np,HistorySideBar:e5,HoverPopover:ac,ImageAiResponse:o1,ImageChatSettings:Ll,ImageChatSettingsModal:Bl,ImagePreview:rr,InnerContentView:S0,InnerImagePreview:Fd,InnerReferenceImage:Ed,InviteFriends:r2,MakeAReview:$o,MakeAReviewModal:Oo,Modal:Qa,Navigation:Ni,Painter:A1,Popover:we,PopoverButton:be,PopoverPanel:ve,PromptBuilder:bt,PromptTool:Ou,Prompts:bs,ReferenceImage:Yl,SearchResponse:z0,ShortcutRecorder:Qh,SingleResponse:bo,StyleOptionsModal:vt,SvgLogo:wt,Switchbar:va,Tab:ye,TabGroup:xe,TabList:ke,TabPanel:Ce,TabPanels:$e,UpgradePlanModal:g2,UploaderElement:Sn,UserInfoSection:H3,VisionImagePreview:Vc,VisionToolbar:kc,Write:Ws},Symbol.toStringTag,{value:"Module"}));export{H as A,D5 as C,L as _,Ve as a,T as g,K as m};
