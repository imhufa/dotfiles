document.addEventListener("DOMContentLoaded",function(){InitUAList();InitButtons()});function InitUAList(){LoadAgentsToList(m_arrConfig.useragent_id);$("#wrap_ualist").change(function(){OnChangeUA()})}
function InitButtons(){var a='<table><tr><td><div class="viewtype"><input type="radio" id="f_view_device" name="f_viewtype" value="device"'+("device"==m_arrConfig.view_type?" checked":"")+'> <label for="f_view_device">'+MYLANG("UAGroupDev")+'</label></div><div class="viewtype"><input type="radio" id="f_view_browser" name="f_viewtype" value="browser"'+("browser"==m_arrConfig.view_type?" checked":"")+'> <label for="f_view_browser">'+MYLANG("UAGroupBrowser")+'</label></div></td><td><div id="checkbtn"><div id="check"><a href="#" id="lnk_checkua" title="'+
MYLANG("UACheck")+'">'+MYLANG("UACheck")+"</a></div></div></tr></table>";$("#wrap_buttons").html(a);$("#f_view_device").click(function(){OnSetViewType("device")});$("#f_view_browser").click(function(){OnSetViewType("browser")});$("#lnk_checkua").click(function(){chrome.tabs.create({url:"https://useragent.openadmintools.com/?ref=ext_ua",selected:!0})})}
function OnSetViewType(a){a!=m_arrConfig.view_type&&(m_arrConfig.view_type=a,localStorage.config=JSON.stringify(m_arrConfig),InitUAList(),chrome.extension.getBackgroundPage().ChangeViewType(a))}function OnChangeUA(){var a=GetSelectedVal("ua_list");a!=m_arrConfig.useragent_id&&(m_arrConfig.useragent_id=a,localStorage.config=JSON.stringify(m_arrConfig),chrome.extension.getBackgroundPage().ChangeUserAgent(a,function(){self.close()}),chrome.runtime.sendMessage({action:"close"}))};
